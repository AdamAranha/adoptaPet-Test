;(function(){var baseUrl;var __factory=function(){var React=arguments[0];var ReactDOM=arguments[1];var ReactTransitionGroup=arguments[2];var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_presenter_view_web";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_bacon":dependencies[3],"prezi_featureswitcher":dependencies[4],"prezi_presenterviewui":dependencies[5]}};})(),React,ReactDOM,ReactTransitionGroup);};})(arguments);var moduleImpl=(function(){return module(function(c,d,h,k){var f=c.dependencies.prezi_bacon,g=c.dependencies.prezi_presenterviewui,e={};Object.defineProperty(e,"__esModule",{value:!0});e.PresenterViewWebControllerImpl=class{constructor(a,b){this.preziOidPromise=a;this.fullscreenChangedStream=b;this.fullscreenChangedStream.filter((a)=>!a).onValue(()=>{null!=this.presenterViewWindow&&this.presenterViewWindow.focus()});this.presenterWindowClosedBus=f.Bacon.newVoidBus();this.pageContentPromise=fetch(c.getResourceUrl("pitch-presenterview.html")).then((a)=>
a.text())}openPresenterView(){this.preziOidPromise.then((a)=>{if(null==this.presenterViewWindow){this.presenterViewWindow=window.open("","presenterView","width=800; height=542");const b=()=>this.presenterViewWindow.close();window.addEventListener("beforeunload",b);this.pageContentPromise.then((c)=>{this.presenterViewWindow.document.open();this.presenterViewWindow.document.write(c);this.presenterViewWindow.document.close();this.presenterViewWindow.preziOid=a;this.presenterViewWindow.addEventListener("beforeunload",
()=>{window.removeEventListener("beforeunload",b);this.presenterWindowClosedBus.push(null);this.presenterViewWindow=null;g.cleanupLocalStorage(a)})})}else this.presenterViewWindow.focus()})}getPresenterWindowClosedStream(){return this.presenterWindowClosedBus}};d={createPresenterViewWebController:function(a,b){return new e.PresenterViewWebControllerImpl(a,b)}};Object.defineProperty(d,"__esModule",{value:!0});return d});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_presenter_view_web",["require","react","react-dom","react-transition-group","prezi_bacon","prezi_featureswitcher","prezi_presenterviewui"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_presenter_view_web.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("react"),require("react-dom"),require("react-transition-group"),require("prezi_bacon"),require("prezi_featureswitcher"),require("prezi_presenterviewui"));}else{this["prezi_presenter_view_web"]=__factory(React,ReactDOM,ReactTransitionGroup,this["prezi_bacon"],this["prezi_featureswitcher"],this["prezi_presenterviewui"]);}}).call(this);
;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_icon_insert";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_cet_model_editor":dependencies[0],"prezi_editor_commander":dependencies[1],"prezi_featureswitcher":dependencies[2],"prezi_i18n":dependencies[3],"prezi_logger":dependencies[4],"prezi_plugin_api":dependencies[5],"prezi_plugin_meta":dependencies[6]}};})());};})(arguments);var moduleImpl=(function(){return module(function(m){var g=m.dependencies.prezi_i18n,f=m.dependencies.prezi_plugin_api,t=m.dependencies.prezi_plugin_meta,z=m.dependencies.prezi_cet_model_editor,h=m.dependencies.prezi_logger,u=m.dependencies.prezi_featureswitcher,r={},w=this&&r.__awaiter||function(a,b,e,d){function c(a){return a instanceof e?a:new e(function(b){b(a)})}return new (e||(e=Promise))(function(e,l){function k(a){try{g(d.next(a))}catch(p){l(p)}}function f(a){try{g(d["throw"](a))}catch(p){l(p)}}function g(a){a.done?e(a.value):
c(a.value).then(k,f)}g((d=d.apply(a,b||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});r.IconProvider=class{constructor(a){this.mapIcons8Assets=(a)=>({url:a.url,style:a.style,provider:c.IconProviders.ICONS8,isPremium:a.is_premium,thumbnailUrl:a.thumbnail_url,loggingName:a.logging_name,originalId:a.id});this.mapPreziIconsAssets=(a)=>({url:a.url,provider:c.IconProviders.PREZI,isPremium:!1,thumbnailUrl:a.thumbnail_url,style:c.IconStyle.Color,loggingName:a.logging_name});this.icons8Service=
a.service(["api","v1","assets","icons8"],(a)=>({getFreeIcons(){return a.read("GET",[],{})},searchIcons(b,d){return a.read("GET",[],{term:b,limit:"1000",styles:"filled,outlined,color,blueui,infographic,circlebubbles,doodle,cutecolor",license:d?"paid":"free"})}}));this.preziIconsService=a.service(["api","v1","assets","prezi-icons"],(a)=>({getAllIcons(){return a.read("GET",[],{limit:"1000"})},searchIcons(b){return a.read("GET",[],{term:b,limit:"1000"})}}))}getRecommendedIcons(){return w(this,void 0,
void 0,function*(){const a=[];let b,e;try{const d=(yield this.icons8Service.getFreeIcons()).assets;a.push(...d.map(this.mapIcons8Assets).sort(this.sortFilledIconFirst));b=!0}catch(d){b=!1}try{const d=(yield this.preziIconsService.getAllIcons()).assets;a.push(...d.map(this.mapPreziIconsAssets));e=!0}catch(d){e=!1}if(!b&&!e)throw Error("Both icons8 icons and prezi icons requests failed.");return a})}sortFilledIconFirst(a,b){a=a.style===c.IconStyle.Filled;b=b.style===c.IconStyle.Filled;return a&&!b?
-1:!a&&b?1:0}searchIcons(a,b){return w(this,void 0,void 0,function*(){const e=[];let d,c;try{const c=(yield this.icons8Service.searchIcons(a,b)).assets;e.push(...c.map(this.mapIcons8Assets));d=!0}catch(k){d=!1}try{const d=(yield this.preziIconsService.searchIcons(a)).assets;e.push(...d.map(this.mapPreziIconsAssets));c=!0}catch(k){c=!1}if(!d&&!c)throw Error("Both icons8 icons and prezi icons requests failed.");return e})}};var q={},x=this&&q.__awaiter||function(a,b,e,d){function c(a){return a instanceof
e?a:new e(function(d){d(a)})}return new (e||(e=Promise))(function(e,f){function l(a){try{k(d.next(a))}catch(p){f(p)}}function g(a){try{k(d["throw"](a))}catch(p){f(p)}}function k(a){a.done?e(a.value):c(a.value).then(l,g)}k((d=d.apply(a,b||[])).next())})};Object.defineProperty(q,"__esModule",{value:!0});var y=z.base.ObjectKind;q.IconInsertController=class{constructor(a,b,e){this.session=b;this.uiRoot=e;this.logSidebarClosed=()=>{h.avro.Avro.createDefaultLogger().logCloseSymbolSidebar()};this.setStateSidebarClosed=
()=>{this.uiRoot.setState({isSidebarOpen:!1})};this.toggleSidebar=(a)=>{const d=this.uiRoot.getState().sidebarMode;this.uiRoot.getState().isSidebarOpen&&d===a?(this.logSidebarClosed(),this.closeSidebar()):(this.uiRoot.setState({sidebarMode:a}),this.openSidebar())};this.loadRecommendedIcons=()=>x(this,void 0,void 0,function*(){this.uiRoot.setState({recommended:Object.assign(Object.assign({},this.uiRoot.getState().recommended),{progress:f.ListProgress.working,hasError:!1})});let a,b=!1;try{a=yield this.iconProvider.getRecommendedIcons()}catch(k){a=
[],b=!0}this.uiRoot.setState({recommended:Object.assign(Object.assign({},this.uiRoot.getState().recommended),{icons:this.filterIcons(a,this.uiRoot.getState().selectedStyle,!0),progress:f.ListProgress.idle,hasError:b})})});this.filterIcons=(a,b,e=!1)=>{if(b===c.IconStyle.All)return{all:a,filtered:a,paged:e?a.slice(0,50):a,other:[]};{const d=[],c=[];a.forEach((a)=>a.style===b?d.push(a):c.push(a));return{all:a,filtered:d,paged:e?d.slice(0,50):d,other:c}}};this.requestAdditionalRecommendedIcons=()=>{const {recommended:a}=
this.uiRoot.getState();this.uiRoot.setState({recommended:Object.assign(Object.assign({},a),{progress:f.ListProgress.working})});var b=a.icons.paged.length;const e=a.icons.filtered.slice(0,b+50);b=e.length===b;this.uiRoot.setState({recommended:Object.assign(Object.assign({},a),{icons:Object.assign(Object.assign({},a.icons),{paged:e}),progress:b?f.ListProgress.finished:f.ListProgress.idle})})};this.searchForIcons=(a=null)=>x(this,void 0,void 0,function*(){if(!this.isEmptyString(a)){let b;this.uiRoot.setState({search:Object.assign(Object.assign({},
this.uiRoot.getState().search),{progress:f.ListProgress.working,hasError:!1})});let d=!1;try{h.avro.Avro.createDefaultLogger().logSearchSymbol({search_term:a}),b=yield this.iconProvider.searchIcons(a,this.hasIconLicense())}catch(A){b=[],d=!0}this.uiRoot.setState({search:Object.assign(Object.assign({},this.uiRoot.getState().search),{result:this.filterIcons(b,this.uiRoot.getState().selectedStyle),progress:f.ListProgress.finished,hasError:d}),recommended:Object.assign(Object.assign({},this.uiRoot.getState().recommended),
{icons:this.filterIcons(this.uiRoot.getState().recommended.icons.all,this.uiRoot.getState().selectedStyle,!0)})})}});this.onSearchValueChange=(a,b)=>{this.isEmptyString(b)?this.uiRoot.setState({search:{term:"",result:{all:[],filtered:[],paged:[],other:[]},progress:f.ListProgress.finished,hasError:!1},searchFieldValue:b}):this.uiRoot.setState({searchFieldValue:b})};this.onSearchSubmit=()=>{var {searchFieldValue:a}=this.uiRoot.getState();a=a.trim();this.uiRoot.setState({search:Object.assign(Object.assign({},
this.uiRoot.getState().search),{term:a,progress:f.ListProgress.working})});this.searchForIcons(a)};this.iconProvider=new r.IconProvider(a);a.onSelectionChange((a)=>{let e=null,d=!1;1===a.allObjects.length&&b.document.read((b)=>{const c=a.allObjects[0].id;b=b.lookup.base(c);if(b.kind===y.pdf||b.kind===y.swf)e=c,d=b.isPlaceholder});const f=this.uiRoot.getState().sidebarMode===c.SidebarMode.REPLACE,g=null!=e;this.uiRoot.setState({selection:a.allObjects.map((a)=>a.id),iconSelection:e,isPlaceholderIconSelected:d,
sidebarMode:d||f?c.SidebarMode.REPLACE:c.SidebarMode.INSERT});d?this.openSidebar():f&&!g&&this.closeSidebar()});a.onLicenseChange((a)=>{a=u.isActive("js-icon-insert-plugin-force-paywall")?!1:a.pitchIconIntegration;this.hasIconLicense()!==a&&(this.uiRoot.setState({hasIconLicense:a}),this.searchForIcons())})}static getInitialIconInsertState(){return{hasIconLicense:!1,isPlaceholderIconSelected:!1,isSidebarOpen:!1,selection:[],search:{term:null,result:{all:[],filtered:[],paged:[],other:[]},hasError:!1,
progress:f.ListProgress.idle},selectedStyle:c.IconStyle.All,sidebarMode:c.SidebarMode.INSERT,recommended:{icons:{all:[],filtered:[],paged:[],other:[]},progress:f.ListProgress.idle,hasError:!1},searchFieldValue:""}}processPluginMessage(a){if("openIconInsertSidebar"===a)this.openSidebar();else throw Error(`unexpected message: ${a}`);}openSidebar(){const {isSidebarOpen:a,recommended:{icons:b}}=this.uiRoot.getState();a||(h.avro.Avro.createDefaultLogger().logShowSymbolInsertOptions(),this.uiRoot.sidebar.open(c.ICON_INSERT_SIDEBAR_ID),
this.uiRoot.setState({isSidebarOpen:!0}),0===b.all.length&&this.loadRecommendedIcons())}closeSidebar(){this.uiRoot.getState().isSidebarOpen&&(this.uiRoot.sidebar.close(c.ICON_INSERT_SIDEBAR_ID),this.uiRoot.setState({isSidebarOpen:!1}))}insertIcon(a,b,e,d){h.avro.Avro.createDefaultLogger().logInsertSymbol({asset_name:d.loggingName,asset_oid:d.loggingName,asset_provider:d.provider===c.IconProviders.ICONS8?"ICONS_EIGHT":"PREZI_ICONS",premium_content_flag:d.isPremium,symbol_source:e.dropKind===f.DropKind.click?
"SINGLE_CLICK":"DRAG_DROP"});d=this.session.document.progressiveAssetManager.uploadPdf(d.url);return this.insertPdf(a,b,e,d.token)}replaceIcon(a,b,e,d){h.avro.Avro.createDefaultLogger().logInsertSymbol({asset_name:d.loggingName,asset_oid:d.loggingName,asset_provider:d.provider===c.IconProviders.ICONS8?"ICONS_EIGHT":"PREZI_ICONS",premium_content_flag:d.isPremium,symbol_source:e.dropKind===f.DropKind.click?"SINGLE_CLICK":"DRAG_DROP"});a=this.session.document.progressiveAssetManager.uploadPdf(d.url);
return this.replacePdf(b,this.uiRoot.getState().iconSelection,a.token)}replacePdf(a,b,e){a=a.lookup.pdf(b);b=a.layoutBox;a.pdfAsset=e;a.fitInto(b);a.isPlaceholder&&(a.isPlaceholder=!1,this.uiRoot.setState({isPlaceholderIconSelected:!1}));h.avro.Avro.createDefaultLogger().logModifiedObject({modify_action:"REPLACE",object_id:a.id,object_type:a,topic_relationship:a});return a.id}insertPdf(a,b,e,c){b=this.session.insertTarget.getSimpleObjectParent(b);e=this.session.positionFinder.findLayoutBox(b,42,42,
e.stageX,e.stageY);c=b.add.pdf(c);c.fitInto(e);this.session.selection.setSelection(a,[c]);h.avro.Avro.createDefaultLogger().logNewObject({object_type:c,topic_relationship:c,parent_type:c,object_id:c.id});return c.id}isEmptyString(a){return!a||0===a.trim().length}hasIconLicense(){return this.uiRoot.getState().hasIconLicense}};var v={};Object.defineProperty(v,"__esModule",{value:!0});v.IconInsertPlugin=class{constructor(){this.iconStyleLabel=new Map([[c.IconStyle.All,g.I18n.ts("All categories")],[c.IconStyle.BlueUi,
g.I18n.ts("Blue UI")],[c.IconStyle.CircleBubbles,g.I18n.ts("Circle Bubbles")],[c.IconStyle.Color,g.I18n.ts("Color")],[c.IconStyle.CuteColor,g.I18n.ts("Cute Color")],[c.IconStyle.Doodle,g.I18n.ts("Doodle")],[c.IconStyle.Filled,g.I18n.ts("Filled")],[c.IconStyle.Infographic,g.I18n.ts("Infographic")],[c.IconStyle.Outlined,g.I18n.ts("Outlined")]])}init(a){this.uiRoot=a.declareUI(q.IconInsertController.getInitialIconInsertState(),(a,c)=>{this.createMenuItem(c);this.createPropertyBarItem(c,a);this.createContextMenuItem(c);
this.createSidebar(c,a)});this.controller=new q.IconInsertController(a,this.session,this.uiRoot)}processMessage(a){this.controller.processPluginMessage(a)}createMenuItem(a){a.createMenuItem({kind:f.MenuItemKind.largeButton,enabled:!0,icon:f.IconSmallId.Icon,onClick:()=>{h.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"ICON"});this.controller.toggleSidebar(c.SidebarMode.INSERT)},parent:f.TabMenuId.Insert,weight:4,id:"icon-insert-plugin",title:g.I18n.ts("Icon")})}createPropertyBarItem(a,
b){null!=b.iconSelection&&a.createPropertyBarItem((a)=>a.button({id:"propertybar-replace-pdf",weight:6,parent:f.PropertyBarId.Left,title:g.I18n.ts("Replace..."),onClick:()=>{h.avro.Avro.createDefaultLogger().logClickPropertyBar({property_item:"ANY"});this.uiRoot.setState({sidebarMode:c.SidebarMode.REPLACE});this.controller.openSidebar()}}))}createContextMenuItem(a){if(u.isActive("js-developer-features")){var {iconSelection:b,isPlaceholderIconSelected:c}=this.uiRoot.getState();null!=b&&a.createMenuItem({kind:f.MenuItemKind.context,
id:"toggle-icon-as-placeholder",title:c?g.I18n.ts("Unset icon as placeholder"):g.I18n.ts("Set icon as placeholder"),weight:100,onClick:(a)=>{c?this.unsetSelectedIconAsPlaceholder(a,b):this.setSelectedIconAsPlaceholder(a,b)},enabled:!0})}}createSidebar(a,b){return a.createSidebar((a)=>({id:c.ICON_INSERT_SIDEBAR_ID,root:this.createRootPage(a,b),onCloseButtonClicked:this.controller.logSidebarClosed,onClose:this.controller.setStateSidebarClosed}))}createRootPage(a,b){const e=b.sidebarMode===c.SidebarMode.REPLACE;
return{title:e?g.I18n.ts("Replace icons"):g.I18n.ts("Insert icons"),header:[...this.createLibrarySection(a),...this.createUploadSection(a,e),...this.createSearchSection(a,b),this.createFilter(a)],content:this.createSidebarContent(a)}}createLibrarySection(a){return[a.sectionHeader({content:g.I18n.ts("My Library")}),a.button(f.ButtonSize.Large,f.ButtonAlign.Start,(a)=>[a.button({id:"open-my-library-button",color:f.ButtonColor.Blue,content:{text:g.I18n.ts("Add from my library")},onClick:()=>{this.pluginAccess.send(t.favorites,
t.createOpenFavoritesFromAnotherSidebarMessage("icon"))}})]),a.separator()]}createUploadSection(a,b){return[a.sectionHeader({content:g.I18n.ts("Upload your file")}),a.button(f.ButtonSize.Large,f.ButtonAlign.Start,(a)=>[a.button({id:"pdf-upload-button",color:f.ButtonColor.Gray,content:{text:g.I18n.ts("Upload pdf")},onClick:()=>{this.pluginAccess.send(t.pdfInsert,{kind:b?"openReplacePdfDialog":"openInsertPdfDialog"})}})]),a.separator()]}createSidebarContent(a){return this.uiRoot.getState().search.term?
this.createSearchResultContent(a):this.createRecommendedSection(a,!1)}createRecommendedSection(a,b){const {recommended:{hasError:c}}=this.uiRoot.getState(),d=[a.sectionHeader({content:g.I18n.ts("Recommended")})];c?d.push(...this.createErrorResult(a,this.controller.loadRecommendedIcons)):d.push(this.createRecommendedIconList(a,b));return d}createRecommendedIconList(a,b){const {recommended:{icons:{paged:c},progress:d}}=this.uiRoot.getState();return this.createIconList(a,c,"recommended-icons-list",b?
f.ListProgress.finished:d,b,b?()=>{}:this.controller.requestAdditionalRecommendedIcons)}createSearchResultContent(a){const {selectedStyle:b,search:{result:e,term:d,progress:l,hasError:k}}=this.uiRoot.getState(),h=0<e.filtered.length,m=0<e.other.length,n=[];if(k)return this.createErrorResult(a,this.controller.onSearchSubmit);if(l===f.ListProgress.working||h)b!==c.IconStyle.All&&n.push(a.sectionHeader({content:g.I18n.tsFormatKeys("In {style}",{style:this.iconStyleLabel.get(b)})})),n.push(this.createIconList(a,
e.filtered,"search-result-list",l,!0));else{const b=g.I18n.tsFormatKeys("No results for {term}",{term:d});n.push(a.illustration(b,f.IllustrationLargeLightId.NoResults))}l!==f.ListProgress.working&&(m?(n.push(a.sectionHeader({content:g.I18n.ts("In other categories")})),n.push(this.createIconList(a,e.other,"other-styles-list",l,!0))):h||(n.push(a.separator()),n.push(...this.createRecommendedSection(a,!0))));return n}createErrorResult(a,b){return[a.illustration(g.I18n.ts("Something went wrong"),f.IllustrationLargeLightId.Error),
a.button(f.ButtonSize.Small,f.ButtonAlign.Center,(a)=>[a.button({id:"icon-search-try-again",color:f.ButtonColor.Ghost,content:{text:g.I18n.ts("Try again")},onClick:b})])]}createFilter(a){const {recommended:b,selectedStyle:e,search:d}=this.uiRoot.getState();return a.containerWithColoredBackground({content:[a.dropdown({id:"icon-filter-select",activeId:e,options:[{id:c.IconStyle.All,title:this.iconStyleLabel.get(c.IconStyle.All)},{id:c.IconStyle.BlueUi,title:this.iconStyleLabel.get(c.IconStyle.BlueUi)},
{id:c.IconStyle.CircleBubbles,title:this.iconStyleLabel.get(c.IconStyle.CircleBubbles)},{id:c.IconStyle.Color,title:this.iconStyleLabel.get(c.IconStyle.Color)},{id:c.IconStyle.CuteColor,title:this.iconStyleLabel.get(c.IconStyle.CuteColor)},{id:c.IconStyle.Doodle,title:this.iconStyleLabel.get(c.IconStyle.Doodle)},{id:c.IconStyle.Filled,title:this.iconStyleLabel.get(c.IconStyle.Filled)},{id:c.IconStyle.Infographic,title:this.iconStyleLabel.get(c.IconStyle.Infographic)},{id:c.IconStyle.Outlined,title:this.iconStyleLabel.get(c.IconStyle.Outlined)}],
onChange:(a,c)=>{this.logSelectIconStyleOption(c);this.uiRoot.setState({selectedStyle:c,recommended:Object.assign(Object.assign({},b),{icons:this.controller.filterIcons(b.icons.all,c,!0),progress:f.ListProgress.idle}),search:Object.assign(Object.assign({},d),{result:this.controller.filterIcons(d.result.all,c)})})}})]})}logSelectIconStyleOption(a){let b;switch(a){case c.IconStyle.All:b="ALL";break;case c.IconStyle.BlueUi:b="BLUEUI";break;case c.IconStyle.CircleBubbles:b="CIRCLE_BUBBLES";break;case c.IconStyle.Color:b=
"COLORED";break;case c.IconStyle.CuteColor:b="CUTE_COLOR";break;case c.IconStyle.Doodle:b="DOODLE";break;case c.IconStyle.Filled:b="FILLED";break;case c.IconStyle.Infographic:b="INFOGRAPHIC";break;case c.IconStyle.Outlined:b="OUTLINED"}b&&h.avro.Avro.createDefaultLogger().logSelectIconStyleOption({icon_style_filter_selection:b})}createIconList(a,b,c,d,g,k=()=>{}){return a.simpleList((a)=>({id:c,items:this.createIconListItems(a,b),itemType:f.ListItemType.small,itemLayout:f.ListItemLayout.fixed,requestAdditionalItems:k,
progress:d,flexGrow:g?0:1}))}createIconListItems(a,b){return b.map((b)=>{if(b.isPremium&&!this.controller.hasIconLicense())return a.lock({src:{url:b.thumbnailUrl},tooltipText:g.I18n.ts("Unlock"),onClick:()=>{this.uiRoot.dialog.showBuiltIn(f.BuiltinDialog.upgradeLicenseIconSearch)}});{let d=u.isActive("js-report-icons")&&b.originalId?{icon:f.IconSmallId.Icon,text:b.originalId.toString(),url:`data://:iconID:${b.originalId.toString()}`}:null;return a.droppableImage({src:{url:b.thumbnailUrl},info:d,onDrop:(a,
d)=>{this.session.document.executeApiCommand(a,{name:"drop",run:(e)=>{this.uiRoot.getState().sidebarMode===c.SidebarMode.REPLACE?this.controller.replaceIcon(a,e,d,b):this.controller.insertIcon(a,e,d,b)}})}})}})}createSearchSection(a,b){return[a.sectionHeader({content:g.I18n.ts("Icon search")}),a.searchField({id:"icon-search-input-field",onSearchButtonClick:this.controller.onSearchSubmit,onEnter:this.controller.onSearchSubmit,onValueChange:this.controller.onSearchValueChange,placeholderText:g.I18n.ts("Search..."),
value:this.uiRoot.getState().searchFieldValue,autofocus:b.sidebarMode===c.SidebarMode.INSERT||!b.isPlaceholderIconSelected})]}setSelectedIconAsPlaceholder(a,b){try{this.session.document.executeApiCommand(a,{name:"set icon as placeholder",run:(a)=>{a.lookup.pdf(b).isPlaceholder=!0}}),this.uiRoot.setState({isPlaceholderIconSelected:!0})}catch(e){}}unsetSelectedIconAsPlaceholder(a,b){try{this.session.document.executeApiCommand(a,{name:"unset icon as placeholder",run:(a)=>{a.lookup.pdf(b).isPlaceholder=
!1}}),this.uiRoot.setState({isPlaceholderIconSelected:!1})}catch(e){}}};var c={};Object.defineProperty(c,"__esModule",{value:!0});c.ICON_INSERT_SIDEBAR_ID="icon-insert-sidebar";(function(a){a.All="all";a.BlueUi="blueui";a.CircleBubbles="circlebubbles";a.Color="color";a.CuteColor="cutecolor";a.Doodle="doodle";a.Filled="filled";a.Infographic="infographic";a.Outlined="outlined"})(c.IconStyle||(c.IconStyle={}));(function(a){a.ICONS8="icons8";a.PREZI="prezi"})(c.IconProviders||(c.IconProviders={}));(function(a){a.INSERT=
"insert";a.REPLACE="replace"})(c.SidebarMode||(c.SidebarMode={}));c.lazyModule={createPlugin(){return new v.IconInsertPlugin}};return c});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_icon_insert",["require","prezi_cet_model_editor","prezi_editor_commander","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_icon_insert.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_cet_model_editor"),require("prezi_editor_commander"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"));}else{this["prezi_icon_insert"]=__factory(this["prezi_cet_model_editor"],this["prezi_editor_commander"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"]);}}).call(this);
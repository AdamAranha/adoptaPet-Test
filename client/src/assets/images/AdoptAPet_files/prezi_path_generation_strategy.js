;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_path_generation_strategy";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_cet_model_editor":dependencies[0],"prezi_editor_commander":dependencies[1],"prezi_editor_error":dependencies[2],"prezi_featureswitcher":dependencies[3],"prezi_i18n":dependencies[4],"prezi_logger":dependencies[5],"prezi_plugin_api":dependencies[6],"prezi_plugin_meta":dependencies[7],"prezi_service_data":dependencies[8],"prezi_uaparser":dependencies[9],"prezi_utils":dependencies[10],"prezi_widgets":dependencies[11]}};})());};})(arguments);var moduleImpl=(function(){return module(function(c){function x(a,d,g){return a.image({id:d.id,dataLookup:d.id,title:d.description,src:{url:d.thumbnailUrl},onClick:()=>g(d.onValue),hoverContent:{type:h.HoverContentType.video,url:d.da}})}function v(a,d,g,b){return a.simpleList((a)=>({items:d.map((d)=>x(a,d,b)),itemLayout:h.ListItemLayout.dynamic,itemType:h.ListItemType.full,showTitle:!0,progress:h.ListProgress.finished,activeId:g}))}var y=c.dependencies.prezi_cet_model_editor,f=c.dependencies.prezi_logger,h=c.dependencies.prezi_plugin_api,
q=c.dependencies.prezi_utils,e=c.dependencies.prezi_i18n,r={ja:function(a,d,b){return[a.sectionHeader({content:e.I18n.ts("1. Overview - Topic path",{context:"Path settings option title (to zoom from topics back to overview)"})}),v(a,[l.on,l.off],d?l.on.id:l.off.id,b)]},ka:function(a,d,b){return[a.sectionHeader({content:e.I18n.ts("2. Topic - Subtopic path",{context:"Path settings option title (to zoom from subtopics back to parent topic)"})}),v(a,[m.on,m.off],d?m.on.id:m.off.id,b)]}};Object.defineProperty(r,
"__esModule",{value:!0});const l={on:{id:"visitOverviewOn",description:e.I18n.ts("Zoom back to the overview between topics",{context:"Path settings option description"}),onValue:!0,thumbnailUrl:c.getResourceUrl("/prezi-spf-overview1-thumbnail.png"),da:c.getResourceUrl("/prezi-spf-overview1.mp4")},off:{id:"visitOverviewOff",description:e.I18n.ts("Zoom directly to the next topic in your path",{context:"Path settings option description"}),onValue:!1,thumbnailUrl:c.getResourceUrl("/prezi-spf-overview2-thumbnail.png"),
da:c.getResourceUrl("/prezi-spf-overview2.mp4")}},m={on:{id:"visitParentOn",description:e.I18n.ts("Zoom back to the main topic between subtopics",{context:"Path settings option description"}),onValue:!0,thumbnailUrl:c.getResourceUrl("/prezi-spf-topicview1-thumbnail.png"),da:c.getResourceUrl("/prezi-spf-topicview1.mp4")},off:{id:"visitParentOff",description:e.I18n.ts("Zoom directly to the next subtopic in your path",{context:"Path settings option description"}),onValue:!1,thumbnailUrl:c.getResourceUrl("/prezi-spf-topicview2-thumbnail.png"),
da:c.getResourceUrl("/prezi-spf-topicview2.mp4")}};var b={};Object.defineProperty(b,"__esModule",{value:!0});(function(a){a[a.j=0]="EachChild";a[a.u=1]="LastChild"})(b.o||(b.o={}));(function(a){a[a.j=0]="EachChild";a[a.u=1]="LastChild";a[a.ca=2]="Legacy"})(b.i||(b.i={}));var n={updatePathGenerationStrategy:function(a,b,g){const d=w.find((a)=>a.w.visitOverview===b&&a.w.f===g);a.structuredPath.playbackPathGenerationStrategy=d.aa},ea:function(a){const b=a.structuredPath.playbackPathGenerationStrategy;
return w.find((a)=>a.aa===b).w}};Object.defineProperty(n,"__esModule",{value:!0});c=y.base.PlaybackPathGenerationStrategy;const w=[{aa:c.OverviewAfterEachChild_TopicAfterEachChild,w:{visitOverview:b.o.j,f:b.i.j}},{aa:c.OverviewAfterEachChild_TopicAfterLastChild,w:{visitOverview:b.o.j,f:b.i.u}},{aa:c.OverviewAfterLastChild_TopicAfterEachChild,w:{visitOverview:b.o.u,f:b.i.j}},{aa:c.OverviewAfterLastChild_TopicAfterLastChild,w:{visitOverview:b.o.u,f:b.i.u}},{aa:c.OverviewAfterEachChild,w:{visitOverview:b.o.j,
f:b.i.ca}},{aa:c.OverviewAfterLastChild,w:{visitOverview:b.o.u,f:b.i.ca}}];var t={};Object.defineProperty(t,"__esModule",{value:!0});t.ha=class{logOpenPathSettingsDialog(){f.avro.Avro.createDefaultLogger().logOpenPathSettingsDialog()}logSavePathSettings(a,b){f.avro.Avro.createDefaultLogger().logSavePathSettings({path_setting_variation_overview:this.fa(a),path_setting_variation_subtopic:this.ga(b)})}logCancelPathSettings(){f.avro.Avro.createDefaultLogger().logCancelPathSettings()}la(a){f.avro.Avro.createDefaultLogger().logSelectPathSetting({path_setting_variation:this.fa(a)})}ma(a){f.avro.Avro.createDefaultLogger().logSelectPathSetting({path_setting_variation:this.ga(a)})}fa(a){switch(a){case b.o.j:return"ALWAYS_BACK_TO_OVERVIEW";
case b.o.u:return"NEVER_BACK_TO_OVERVIEW";default:q.Utils.assertNever(a)}}ga(a){switch(a){case b.i.j:return"ALWAYS_BACK_TO_SUBTOPIC_OVERVIEW";case b.i.u:return"NEVER_BACK_TO_SUBTOPIC_OVERVIEW";case b.i.ca:return"NEVER_BACK_TO_SUBTOPIC_OVERVIEW";default:q.Utils.assertNever(a)}}};var p={},z=this&&p.qa||function(a,b,c,k){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function e(a){try{f(k.next(a))}catch(u){g(u)}}function h(a){try{f(k["throw"](a))}catch(u){g(u)}}
function f(a){a.done?c(a.value):d(a.value).then(e,h)}f((k=k.apply(a,b||[])).next())})};Object.defineProperty(p,"__esModule",{value:!0});p.ia=class{constructor(){this.$="pathSettingsDialog"}processMessage(a){return z(this,void 0,void 0,function*(){switch(a.request){case "openDialog":const {visitOverview:b,f:c}=this.session.document.read((a)=>n.ea(a));this.v.setState({visitOverview:b,f:c});this.v.dialog.show(this.$);this.ba.logOpenPathSettingsDialog();break;case "closeDialog":this.v.dialog.hide(this.$);
break;default:q.Utils.assertNever(a.request)}})}init(a){this.ba=new t.ha;const {visitOverview:b,f:c}=this.session.document.read((a)=>n.ea(a));this.v=a.declareUI({visitOverview:b,f:c},(a,b)=>{b.dialog.medium((a)=>this.na(a))})}na(a){const c=this.v.getState();return{id:this.$,title:e.I18n.ts("Path Settings",{context:"Path settings dialog title"}),content:[a.label(e.I18n.ts("Choose the path your presentation takes when navigating between topics and subtopics.",{context:"Path settings dialog subtitle"})),
...r.ja(a,c.visitOverview===b.o.j,(a)=>this.oa(a?b.o.j:b.o.u)),a.containerWithColoredBackground({content:r.ka(a,c.f===b.i.j,(a)=>this.pa(a?b.i.j:b.i.ca))})],footer:(a)=>[a.button({color:h.ButtonColor.Blue,content:{text:e.I18n.ts("Save",{context:"Path settings dialog save button"})},id:`${this.$}-save`,onClick:(a)=>this.save(a)}),a.button({color:h.ButtonColor.Ghost,content:{text:e.I18n.ts("Cancel",{context:"Path settings dialog cancel button"})},id:`${this.$}-cancel`,onClick:()=>this.cancel()})]}}save(a){const b=
this.v.getState();this.session.document.executeApiCommand(a,{name:"Update path generation strategy",run:(a)=>n.updatePathGenerationStrategy(a,b.visitOverview,b.f)});this.ba.logSavePathSettings(b.visitOverview,b.f);this.v.dialog.hide(this.$)}cancel(){this.v.dialog.hide(this.$);this.ba.logCancelPathSettings()}oa(a){this.v.setState({visitOverview:a});this.ba.la(a)}pa(a){this.v.setState({f:a});this.ba.ma(a)}};c={};Object.defineProperty(c,"__esModule",{value:!0});c.lazyModule={createPlugin(){return new p.ia}};
return c});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_path_generation_strategy",["require","prezi_cet_model_editor","prezi_editor_commander","prezi_editor_error","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta","prezi_service_data","prezi_uaparser","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_path_generation_strategy.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_cet_model_editor"),require("prezi_editor_commander"),require("prezi_editor_error"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_service_data"),require("prezi_uaparser"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_path_generation_strategy"]=__factory(this["prezi_cet_model_editor"],this["prezi_editor_commander"],this["prezi_editor_error"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_service_data"],this["prezi_uaparser"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);
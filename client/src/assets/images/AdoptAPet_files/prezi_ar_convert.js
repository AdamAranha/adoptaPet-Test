;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_ar_convert";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi.geometry":dependencies[0],"prezi_cet_model_editor":dependencies[1],"prezi_editor_commander":dependencies[2],"prezi_editor_error":dependencies[3],"prezi_featureswitcher":dependencies[4],"prezi_i18n":dependencies[5],"prezi_logger":dependencies[6],"prezi_plugin_api":dependencies[7],"prezi_plugin_meta":dependencies[8],"prezi_service_data":dependencies[9],"prezi_uaparser":dependencies[10],"prezi_utils":dependencies[11],"prezi_widgets":dependencies[12]}};})());};})(arguments);var moduleImpl=(function(){return module(function(n){function ea(a){return a.is(k.base.ObjectKind.planetTopic)?a.visual.contentChildren.some((a)=>a.is(k.base.ObjectKind.slide))||a.contentChildren.some((a)=>a.is(k.base.ObjectKind.slide)):!1}function J(a){a.lookup.findAll(k.base.ObjectKind.planetTopic).forEach((a)=>{ea(a)||a.visual.contentChildren.forEach((b)=>{const c=b.visualLayoutRole===k.base.VisualLayoutRole.topicShape;b.parent=a.surface;c&&b.parent.is(k.base.ObjectKind.surface)&&(b.surfaceLayoutRole=k.base.SurfaceLayoutRole.surfaceTopicShape)})})}
function r(a,b){return a.some((a)=>{a:{if(a.is(k.base.ObjectKind.shape))switch(a.fill.fillKind){case k.base.FillKind.solid:var c=.1<a.fill.color.a;break a;case k.base.FillKind.linear:c=.2<a.fill.startColor.a+a.fill.endColor.a;break a;default:throw t.Utils.assertNever(a.fill);}c=a.is(k.base.ObjectKind.image)||a.is(k.base.ObjectKind.chart)||a.is(k.base.ObjectKind.pdf)||a.is(k.base.ObjectKind.swf)}c&&(c=a.layoutBox.union(b.glyphBox).size,c=c.height*c.width<1.3*a.layoutBox.size.height*a.layoutBox.size.width);
return c})}function K(a,b){if(b.parent.is(k.base.ObjectKind.overview))return r([...a.overview.contentChildren],b);if(b.parent.is(k.base.ObjectKind.cover))return r([...b.parent.parent.simpleChildren(k.base.ChildVisibilityKind.outside)],b);if(b.parent.is(k.base.ObjectKind.topic))return r([...b.parent.simpleChildren(k.base.ChildVisibilityKind.inside)],b);if(b.parent.is(k.base.ObjectKind.visual)||b.parent.is(k.base.ObjectKind.surface))return r([...b.parent.parent.simpleChildren(k.base.ChildVisibilityKind.all)],
b);if(b.parent.is(k.base.ObjectKind.master))return r([...b.parent.parent.simpleChildren(k.base.ChildVisibilityKind.inside)],b);if(b.parent.is(k.base.ObjectKind.page))return r([...b.parent.simpleChildren(k.base.ChildVisibilityKind.inside),...b.parent.parent.simpleChildren(k.base.ChildVisibilityKind.inside)],b);throw Error("Parent ObjectKind not handled");}function fa(a){const b=(b)=>{b.is(k.base.ObjectKind.text)&&(null==b.background||.7>b.background.a)&&!K(a,b)&&D(b)};a.overview.contentChildren.forEach(b);
a.overview.topicChildren.forEach((a)=>{a.simpleChildren(k.base.ChildVisibilityKind.outside).forEach(b)})}function ha(a){a.lookup.findAll(k.base.ObjectKind.text).forEach((b)=>{const c=!K(a,b);(null==b.background||.7>b.background.a)&&c&&D(b)})}function D(a){var b=a.getCharacterProps()[0].color;b=w.Geometry.colorFromRGB(b.r/255,b.g/255,b.b/255);b=b.getContrastWith(x)>b.getContrastWith(y);P(a);a.background=b?{r:0,g:0,b:0,a:.7}:{r:255,g:255,b:255,a:.7}}function P(a){if(0!==a.wrapWidth&&null==a.background){var b=
a.layoutBox,c=a.wrapWidth,d=a.textBox.size.height;a.wrapWidth=0;if(a.textBox.size.height<d){let b=0;for(;1<Math.abs(c-b);){let g=c+(b-c)/2;a.wrapWidth=g;a.textBox.size.height>d?b=g:c=g}a.wrapWidth=c}switch(a.getParagraphs()[0].getParagraphProps().alignment){case k.base.TextAlignment.Left:a.fitInto(a.layoutBox.align(a.layoutBox.topLeft,a.layoutBox.bottomLeft,b.topLeft,b.bottomLeft));break;case k.base.TextAlignment.Center:a.fitInto(a.layoutBox.align(a.layoutBox.bottomCenter,a.layoutBox.topCenter,b.bottomCenter,
b.topCenter));break;case k.base.TextAlignment.Right:a.fitInto(a.layoutBox.align(a.layoutBox.topRight,a.layoutBox.bottomRight,b.topRight,b.bottomRight))}}}function ia(a,b,c){if(b.length!==c.length)return null;const d=[];let g=0,l=a.layoutBox.scale(1.2);b.forEach((a)=>{0<c[g]&&a.layoutBox.intersects(l)&&(d.push(a),c[g]=0);++g});return d}function ka(a){let b=null,c=0;a.overview.contentChildren.forEach((a)=>{a.is(k.base.ObjectKind.text)&&c<a.glyphBox.size.width*a.glyphBox.size.height/a.length&&(b=a,c=
a.glyphBox.size.width*a.glyphBox.size.height/a.length)});let d=[];if(null!=b){const c=null==b.background;c&&(b.background={r:0,g:0,b:0,a:1});d.push(b);null!=b.group&&b.group.members.forEach((a)=>{a!==b&&d.push(a)});const l=a.overview.contentChildren.map((a)=>-1<d.findIndex((b)=>b.id===a.id)?0:1);let e=b.layoutBox.size.width*b.layoutBox.size.height,f=0;for(a=[...a.overview.contentChildren];f<d.length;)ia(d[f],a,l).forEach((a)=>{let c=[a];a.is(k.base.ObjectKind.simpleObject)&&null!=a.group&&(c=[a,...a.group.members]);
a=b.layoutBox.union(a.layoutBox);if(1<c.length){let b=m(c);a=a.union(b.layoutBox)}a.size.width*a.size.height<2.5*e&&c.forEach((a)=>{a.is(k.base.ObjectKind.simpleObject)&&-1===d.indexOf(a)&&d.push(a)})}),++f;c&&(b.background=null)}return d.map((a)=>a.id)}function oa(a){let b=[];ka(a).forEach((c)=>{let d=a.lookup.simpleObject(c);d.is(k.base.ObjectKind.arc)||d.is(k.base.ObjectKind.shape)?d.delete():b.push(a.lookup.simpleObject(c))});return b}function pa(a,b){if(null!=b&&0!==b.length){var c=a.overview;
a=c.referenceFrame.point({x:784,y:434});var d=1600*.55;d=c.referenceFrame.layoutBox({x:a.x-d/2,y:a.y-427.5},{width:d,height:855});c=m(b);b=qa(b);d=b.fitIntoOther(d);c.fitInto(c.layoutBox.align(b.topLeft,b.topRight,d.topLeft,d.topRight));c.fitInto(c.layoutBox.move(d.bottomRight,a))}}function ra(a){a.overview.contentChildren.forEach((a)=>{a.is(k.base.ObjectKind.text)&&(null===a.background||.1>a.background.a)&&""===a.getText().trim()&&a.delete()})}function sa(a,b){ra(a);const c=a.overview,d=oa(a);ta(a,
d);let g=[...c.topicChildren];c.contentChildren.forEach((a)=>{(a.is(k.base.ObjectKind.pdf)||a.is(k.base.ObjectKind.image))&&.7<a.layoutBox.size.width*a.layoutBox.size.height/144E4?a.delete():-1===d.indexOf(a)&&g.push(a)});if(0===g.length)return{Ha:d,Ga:null};b=ua(a,b,d);fa(a);pa(a,g);return{Ha:d,Ga:b}}function va(a,b,c){if(0!==b.length){a=a.overview;if(null!=c)var d=c.layoutBox;else{d=b.filter((a)=>!a.is(k.base.ObjectKind.zoomArea));if(0===d.length)return;d=m(d).layoutBox}if(d.topLeft.y<a.zoomLayoutBox.bottomRight.y-
.3*a.zoomLayoutBox.size.height||d.bottomRight.y<a.zoomLayoutBox.bottomRight.y-32)b=null===c?m(b):m([c,...b]),b.fitInto(b.layoutBox.translate({x:0,y:a.zoomLayoutBox.bottomRight.y-16-b.layoutBox.bottomRight.y}))}}function ta(a,b){if(null!=b&&0!==b.length){var c=m(b);b.forEach((a)=>{a.is(k.base.ObjectKind.text)&&P(a)});var d=a.overview,g=d.referenceFrame.layoutBox({x:0,y:0},{width:1600*Q.Ya,height:900*Q.h});c.fitInto(g);b=b[0];b.is(k.base.ObjectKind.text)&&(b=b.copy(),a=a.overview.add.inserter(b),a.isValid()&&
(a=a.insert().simpleObjects[0],a.is(k.base.ObjectKind.text)&&(a.wrapWidth=0,b=.5*g.size.height,a.glyphBox.size.height>b&&c.fitInto(g.scale(b/a.glyphBox.size.height))),a.delete()));c.fitInto(c.layoutBox.move(c.layoutBox.bottomLeft,d.referenceFrame.point({x:-784,y:434})))}}function ua(a,b,c){if(null===c||0===c.length)return null;var d=c.some((a)=>a.is(k.base.ObjectKind.text)&&(null==a.background||.7>a.background.a)&&!r(c,a)),g=c.filter((a)=>!a.is(k.base.ObjectKind.zoomArea));if(d&&(d=c[0],d.is(k.base.ObjectKind.text))){let e=
d.getCharacterProps()[0].color;c.forEach((a)=>{a.is(k.base.ObjectKind.text)&&(a.background=null,a.setAllCharacterProps({color:e}))});var l=w.Geometry.colorFromRGB(e.r/255,e.g/255,e.b/255);d=b.getContrastWith(x)>b.getContrastWith(y);l=l.getContrastWith(x)>l.getContrastWith(y);if(d===l){const a=d?x.getRGBData():y.getRGBData();c.forEach((b)=>{b.is(k.base.ObjectKind.text)&&b.setAllCharacterProps({color:a})})}d=m(g);g=a.overview.add.shape("rectangle");b=b.getRGBData();g.moveToBottom();g.fill={fillKind:k.base.FillKind.solid,
color:Object.assign({a:1},b)};g.width=d.layoutBox.size.width+.3*d.layoutBox.size.height;g.height=1.3*d.layoutBox.size.height;g.fitInto(g.layoutBox.move(g.layoutBox.center,d.layoutBox.center));b=m([...c,g]);b.fitInto(b.layoutBox.move(b.layoutBox.bottomLeft,a.overview.referenceFrame.point({x:-784,y:434})));return g}return null}function qa(a){let b=null;0<a.length&&(b=a.reduce((a,b)=>a.union(b.layoutBox.aabb),a[0].layoutBox.aabb));return b}function m(a){let b=null;0<a.length&&(b=a[0].createLayoutGroupWith(a.slice(1)));
return b}function R(a,b){a=m(a);return null==a?!1:a.layoutBox.topLeft.x<b.topLeft.x+b.size.width*(.7-.275-.05)}function S(a){if(null!=a&&(R(a.visual.contentChildren,a.zoomLayoutBox)||a.pageChildren.some((b)=>R(b.contentChildren,a.zoomLayoutBox)))){var b=a.zoomLayoutBox,c=b.referenceFrame.layoutBox({x:a.zoomLayoutBox.topLeft.x+.7*a.zoomLayoutBox.size.width,y:a.zoomLayoutBox.topLeft.y+.5*a.zoomLayoutBox.size.height},{width:.55*a.zoomLayoutBox.size.width,height:.95*a.zoomLayoutBox.size.height}),d=b.fitIntoOther(c),
g=a.pageChildren.reduce((a,b)=>{a.push(...b.contentChildren);return a},[]);g=m([...a.simpleChildren(k.base.ChildVisibilityKind.all),...g]);g.fitInto(g.layoutBox.align(b.topLeft,b.topRight,d.topLeft,d.topRight));var l=!1,e=[],f=[];a.pageChildren.forEach((b)=>{const d=[];b.contentChildren.forEach((a)=>{c.topLeft.x-a.layoutBox.topLeft.x>.05*c.size.width&&d.push(a)});0<d.length?(b=m(d),f.push(b)):f.push(null);a.visual.contentChildren.forEach((a)=>{c.topLeft.x-a.layoutBox.topLeft.x>.05*c.size.width&&(l=
!0,d.push(a))});0<d.length?(b=m(d),e.push(c.topLeft.x-b.layoutBox.topLeft.x-.05*c.size.width)):e.push(-1)});if(l){const c=Math.max(...e);b=m(a.simpleChildren(k.base.ChildVisibilityKind.outside));b.fitInto(b.layoutBox.translate({x:c,y:0}));e=e.map((a)=>0>a?a:c)}var h=0;e.forEach((a)=>{0<a&&null!=f[h]&&f[h].fitInto(f[h].layoutBox.translate({x:a,y:0}));++h});a.fitInto(a.layoutBox)}}function z(a,b,c,d){switch(a.kind){case k.base.ObjectKind.overview:a.topicChildren.forEach((a)=>z(a,b,c,d));break;case k.base.ObjectKind.planetTopic:null!=
b&&a.applyLayout(b);a.topicChildren.forEach((a)=>z(a,b,c,d));break;case k.base.ObjectKind.stackTopic:S(a);break;default:throw t.Utils.assertNever(a);}}function T(a,b){b=b.overview.add.planet();null!=a&&b.applyLayout(a);b.setAsPlanetTemplate();b.delete()}function U(a){a=a.overview.add.stack();S(a);a.setAsStackTemplate();a.delete()}function V(a,b){b=b.filter((a)=>2===a.category);const c=b.find((b)=>b.id===a);return null!=c?c.id:0<b.length?b[0].id:null}function W(a,b){a=a.overview.add.planet();const c=
a.layout.id;a.delete();return V(c,b.getPlanetLayoutInfos())}function X(a,b,c,d){if(d)c=u.EditorCommander.getLayoutRepository(),d=V(b.overview.layout.id,c.getOverviewLayoutInfos()),null!=d&&b.overview.applyLayout(d),a=u.EditorCommander.createLayoutCommander(c,a.positionFinder),c=W(b,c),z(b.overview,c,a,b),T(c,b),U(b);else{const {Ha:d,Ga:e}=sa(b,c);c=u.EditorCommander.getLayoutRepository();a=u.EditorCommander.createLayoutCommander(c,a.positionFinder);c=W(b,c);z(b.overview,c,a,b);T(c,b);U(b);va(b,d,
e)}}function Y(a){const b=m([...a.overview.contentChildren,...a.overview.topicChildren]);if(null!=b){var c=a.overview.referenceFrame.point({x:-800,y:-450}),d=a.overview.referenceFrame.point({x:800,y:-450});b.fitInto(b.layoutBox.align(a.overview.zoomLayoutBox.topLeft,a.overview.zoomLayoutBox.topRight,c,d))}}function wa(a,b,c,d,e){return A(this,void 0,void 0,function*(){if("denied"===(yield navigator.permissions.query({name:"camera"})).state)return e.qa(),Object.assign(Object.assign({},c),{enabled:!1});
const g=yield a.videoBackground.startWithWebcam(d);switch(g.status){case h.VideoBackgroundStatusCode.playbackStartFailure:return B.LoggerModule.logException(b,"prezi-ar-convert","video-playback-start",g.error),c;case h.VideoBackgroundStatusCode.genericFailure:return B.LoggerModule.logException(b,"prezi-ar-convert","webcam-start",g.error),e.unknown(),c;case h.VideoBackgroundStatusCode.successfullyStarted:return Object.assign(Object.assign({},c),{wa:d,active:!0});default:throw t.Utils.assertNever(g);
}})}function xa(){navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=null);return null}function Z(a,b=!1){window.open("https://prezi.com/v/create/from-presentation/"+a+(b?"?audio-only":""))}var v=n.dependencies["prezi.geometry"],aa=n.dependencies.prezi_plugin_meta,h=n.dependencies.prezi_plugin_api,t=n.dependencies.prezi_utils,E=n.dependencies.prezi_service_data,k=n.dependencies.prezi_cet_model_editor,u=n.dependencies.prezi_editor_commander,B=n.dependencies.prezi_logger,f=n.dependencies.prezi_i18n,
q=n.dependencies.prezi_featureswitcher,F=n.dependencies.prezi_uaparser,L=n.dependencies.prezi_widgets,ya=n.dependencies.prezi_editor_error,O={};Object.defineProperty(O,"__esModule",{value:!0});O.Ja=class{constructor(a,b,c){this.session=a;this.Ta=b;this.i=c}save(a,b){return new Promise((c,d)=>{this.session.document.save(b).then((b)=>{switch(b){case h.SaveResult.Success:c();break;case h.SaveResult.Error:d();a.dialog.showBuiltInError(ya.EditorErrorCase.SAVE_ERROR_RETRY,!1);break;case h.SaveResult.ErrorExternalEdit:d()}})})}duplicatePrezi(){return this.Ta().duplicatePrezi(this.session.document.preziMetaData).catch((a)=>
{this.i.logFailedToCopyPresentation();return Promise.reject(a)})}};var w=v,ba={La:function(a,b,c,d,e){e?(J(c),X(a,c,d,e)):(Y(c),J(c),X(a,c,d,e),ha(c),Y(c),c=a.insertTarget.getSimpleObjectParent(c),c.is(k.base.ObjectKind.overview)&&a.navigation.focusTo(b,c))}};Object.defineProperty(ba,"__esModule",{value:!0});const Q={Ya:.35,h:.25},x=w.Geometry.colorFromRGB(0,0,0),y=w.Geometry.colorFromRGB(1,1,1);var G={Na:function(a,b,c,d){const e={wa:null,la:!1,active:!1,enabled:!1,ja:(c,d,e)=>wa(a,b,c,d,e),freeze:(b)=>
{c.logPauseCamera({is_camera_paused:!0});a.videoBackground.live=!1;return Object.assign(Object.assign({},b),{la:!0})},resume:(b)=>{c.logPauseCamera({is_camera_paused:!1});a.videoBackground.live=!0;return Object.assign(Object.assign({},b),{la:!1})},ea:(b)=>{c.logStopCamera();a.videoBackground.stop();return Object.assign(Object.assign({},b),{active:!1})},destroy:xa},f=navigator.mediaDevices;null!=f&&(f.ondevicechange=()=>A(this,void 0,void 0,function*(){return d(yield(0,G.Ba)())}));return e},Ba:function(){return A(this,
void 0,void 0,function*(){return navigator.mediaDevices?yield navigator.mediaDevices.enumerateDevices().then((a)=>a.filter((a)=>"videoinput"===a.kind&&"Prezi Video Virtual Camera"!==a.label)):[]})}},A=this&&G.va||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{l(d.next(a))}catch(p){f(p)}}function h(a){try{l(d["throw"](a))}catch(p){f(p)}}function l(a){a.done?c(a.value):e(a.value).then(g,h)}l((d=d.apply(a,b||
[])).next())})};Object.defineProperty(G,"__esModule",{value:!0});var e={Oa:function(a,b,c,d,g,l,m,r,t,ma,na,p,v,w){function ja(){g.dialog.medium((b)=>({id:e.ga,title:f.I18n.ts("How would you like to create?"),content:[b.simpleList((a)=>({items:[a.image({id:"pv-narration-with-camera-item",dataLookup:"pv-narration-with-camera-item",title:f.I18n.ts("I want to appear with my content for maximum audience engagement"),src:{url:n.getResourceUrl("prezi_video_with_video.png")},onClick:()=>{l.logSelectPreziAirFlow({selected_prezi_air_flow:"PREZI_AIR_WITH_FACE_RECORDING"});
d({ma:!1})}}),a.image({id:"pv-narration-no-camera-item",dataLookup:"pv-narration-no-camera-item",title:f.I18n.ts("I don\u2019t want to show up with my content, add my voice only this time"),src:{url:n.getResourceUrl("prezi_video_narration_only.png")},onClick:()=>{l.logSelectPreziAirFlow({selected_prezi_air_flow:"NARRATED_PREZI_AIR_RECORDING"});d({ma:!0})}})],itemLayout:h.ListItemLayout.dynamic,itemType:h.ListItemType.full,showTitle:!0,progress:h.ListProgress.finished,activeId:c.getState().ma?"pv-narration-no-camera-item":
"pv-narration-with-camera-item"}))],footer:(b)=>[b.button({color:h.ButtonColor.Blue,content:{text:f.I18n.ts("Continue")},id:"pv-narration-dialog-continue",onClick:()=>{c.dialog.hide(e.ga);c.getState().ma?(l.logRecordNarratedPreziAirVideo(),Z(a.document.preziMetaData.preziOid,!0)):ma()}}),b.button({color:h.ButtonColor.Ghost,content:{text:f.I18n.ts("Cancel")},id:"pv-narration-dialog-cancel",onClick:()=>c.dialog.hide(e.ga)})]}))}function x(){g.dialog.large((b)=>({id:"prezi_video_desktop_download",title:f.I18n.tsFormat("Go live with \u201c{}\u201c",
a.document.preziMetaData.title,{context:"dialog title"}),onCloseButtonClicked:()=>{},content:[b.sectionHeader({content:f.I18n.ts("We couldn\u2019t open your presentation in the Prezi Video app",{context:"section header"})}),b.label(f.I18n.ts("You\u2019ll need the **Prezi Video** desktop app to live stream your presentation.",{context:"Dialog body text"})),b.button(h.ButtonSize.Small,h.ButtonAlign.Start,(a)=>[a.button({color:h.ButtonColor.Blue,id:"download-prezi-video-app",content:{text:f.I18n.ts("Download Prezi Video app",
{context:"Button title"})},onClick:()=>{l.logDownloadVideoApp();const a=p();null!=a&&(window.location.href=a)}})]),b.label(f.I18n.ts("After installing, please try opening your presentation again.",{context:"Dialog body text"})),b.button(h.ButtonSize.Small,h.ButtonAlign.Start,(b)=>[b.button({color:h.ButtonColor.Blue,id:"pv-go-live-modal-button",content:{text:f.I18n.ts("Open presentation in Prezi Video app",{context:"Button title"})},onClick:()=>{l.logRetryGoLiveWithPreziAir();window.location.href=
`prezi-video://go-live/from-presentation/${a.document.preziMetaData.preziOid}`}})])]}))}function y(){g.dialog.large((b)=>({id:"prezi_video_desktop_redirect",title:f.I18n.tsFormat("Ready to go live with \u201c{}\u201c",a.document.preziMetaData.title,{context:"Title of Prezi Video Go Live dialog"}),onCloseButtonClicked:()=>{},content:[b.sectionHeader({content:f.I18n.ts("Perfect for remote meetings and sharing on social media",{context:"section header"})}),b.label(" \t "),b.spinner(h.SpinnerColor.blue,
L.SpinnerSize.m),b.label(f.I18n.ts("Opening your presentation in the **Prezi Video** desktop app...",{context:"paragraph"})),b.label(f.I18n.ts("From there, you can start live streaming your presentation.",{context:"paragraph"}))]}))}function z(a){const {camera:b,v:e,o:g}=c.getState(),h=0===e.length;return[a.sectionHeader({content:f.I18n.ts("1. Allow camera access",{context:"Prezi Video step"})}),a.dropdown({id:"pv-dropdown-camera",placeholderText:h?f.I18n.ts("Camera not found"):f.I18n.ts("Select Camera"),
disabled:h,activeId:g,options:e.map(({deviceId:a,label:b},c)=>({id:a,title:b||"Camera "+c})),onChange:(a,c)=>H(this,void 0,void 0,function*(){const a=e.filter((a)=>a.deviceId===c).map((a)=>a.label).join("-");l.logSwitchCamera({target_camera:a});b.active?d({o:c,camera:yield b.ja(b,c,D)}):d({o:c})})})]}function B(a){const {xa:b,pa:d}=c.getState();return[a.separator(),a.paragraph(f.I18n.ts("2. Adjust your content",{context:"Prezi Video step"}),f.I18n.ts("This automatically shifts the layout to the right.")),
a.vimeoVideo({videoId:f.I18n.ts("359744095",{context:"Video for Adjust Content section"}),autoplay:!1,muted:!1,onPlay:()=>{l.logPlayPreziAirVideo({prezi_air_tutorial:"ADJUST_CONTENT"})}}),a.button(h.ButtonSize.Large,h.ButtonAlign.Start,(a)=>[a.button({color:h.ButtonColor.Gray,id:e.ya,disabled:!d,content:{text:b},onClick:()=>c.dialog.show(e.aa)})])]}function C(b){return H(this,void 0,void 0,function*(){const d=a.document.preziMetaData.preziOid;try{if(yield M.save(c,b),!(yield w().getMyPrezis()).map((a)=>
a.title).some((a)=>-1<a.indexOf(d))){const a=yield M.duplicatePrezi();l.logCopiedPresentation({original_prezi_oid:d,copy_prezi_oid:a.oid});la(d,a.oid)}}catch(za){c.dialog.show(e.fa)}return Promise.resolve()})}function la(b,d){const e=new URL(window.location.href);e.pathname=e.pathname.replace(b,d);e.hash=e.hash.concat("#opensidebar=prezi-video-adjust-content");b=c.getState().camera;b.active&&(e.hash=e.hash.concat("&cameraId="+b.wa));e.hash=e.hash.concat("&originalTitle="+encodeURIComponent(a.document.preziMetaData.title));
window.open(e.href)}function N(a){const b=c.getState();d({xa:f.I18n.ts("Adjusting...",{context:"Button label"}),pa:!1});E(a);d(b)}function A(b){c.dialog.hide(e.ha);var g=c.getState().ua;g=""!==g?g:f.I18n.ts("Copy for Prezi Video")+" "+c.getState().originalTitle;a.document.setDocumentTitle(g);N(b);l.logAdjustPreziAirContent({adjust_content_method:"NORMAL"});d({ka:!0})}function E(b){const c=q.isActive("js-overview-layout")&&a.document.read((a)=>a.meta.isSupportedGeneration(k.base.DocumentGeneration.OverviewAndContentLayout)),
d=a.document.read((a)=>u.EditorCommander.createColorMixCommander().schemeFromPrezi(a.styleSheet));a.document.executeApiCommand(b,{name:"adjust content",run:(e)=>{ba.La(a,b,e,d.colorScheme.backgroundColor,c)}})}function I(a){var b=c.getState().ca?"3":"2";b=f.I18n.tsFormat("{}. Practice",b,{context:"Prezi Video step"});return[a.separator(),a.paragraph(b,f.I18n.ts("Click through your presentation a few times to make sure your content is in the right place and nothing covers your face on-screen."))]}
function J(b){const g=c.getState().ca?"4":"3";return[b.separator(),b.paragraph(f.I18n.tsFormat("{}. Record or Go live",g,{context:"Prezi Video step"}),f.I18n.ts("Ready to roll? Now that you\u2019re set for action, continue to Prezi Video to record or live stream your new creation.")),b.button(h.ButtonSize.Large,h.ButtonAlign.Start,(b)=>[b.button({color:h.ButtonColor.Gray,id:e.Ea,content:{text:f.I18n.ts("Record video",{context:"link to actual Prezi Video recording app on the web"})},onClick:(b)=>{l.logRecordPreziAirVideo();
d({da:!0});M.save(c,b).then(()=>Z(a.document.preziMetaData.preziOid)).catch()}}),b.button({color:h.ButtonColor.Gray,id:e.Ua,content:{text:f.I18n.ts("Go live",{context:"Go live with Prezi Video"})},onClick:(b)=>{l.logGoLiveWithPreziAir();d({da:!0});M.save(c,b).then(()=>{c.dialog.show("prezi_video_desktop_redirect");const b=()=>{clearTimeout(e);l.logInitiatedPreziAirApp();const {camera:a}=c.getState();d({camera:a.ea(a)});c.dialog.hide("prezi_video_desktop_redirect");window.removeEventListener("blur",
b)},e=setTimeout(()=>{l.logFailedToInitiatePreziAirApp();c.dialog.show("prezi_video_desktop_download");window.removeEventListener("blur",b)},5E3);window.addEventListener("blur",b);window.location.href=`prezi-video://go-live/from-presentation/${a.document.preziMetaData.preziOid}`})}})])]}function K(a,b){const {camera:g,v:k,o:ca}=a;return{title:f.I18n.ts("Prezi Video"),content:[...z(b),b.button(h.ButtonSize.Large,h.ButtonAlign.Start,(a)=>g.active?[a.toggle({id:"pv-pause-button",content:{text:f.I18n.ts("Freeze camera")},
pushed:g.la,onClick:()=>d({camera:g.la?g.resume(g):g.freeze(g)})}),a.button({id:"video-turn-off-button",color:h.ButtonColor.Gray,content:{text:f.I18n.ts("Turn off",{context:"turn off the camera in Prezi Video"})},onClick:()=>d({camera:g.ea(g)})})]:[a.button({id:e.za,content:{text:f.I18n.ts("Allow camera")},disabled:null==ca&&0===k.length,color:h.ButtonColor.Blue,onClick:()=>H(this,void 0,void 0,function*(){l.logEnableCamera();d({camera:yield g.ja(g,ca,D)})})})]),...c.getState().ca?B(b):[],...I(b),
...J(b)]}}const M=new O.Ja(a,v,l),D={unknown:()=>{l.logLoadedCameraErrorScreen({camera_error_type:"CHROME_UNIDENTIFIED_BLOCK"});c.dialog.show(e.ia)},qa:()=>{l.logLoadedCameraErrorScreen({camera_error_type:"CHROME_IDENTIFIED_BLOCK"});c.dialog.show(e.ba)}};(function(){return g.createSidebar((a)=>{const g={};g[e.j]=K(m,a);const k=F.PreziUAParser.isChrome();return{id:e.u,onOpen:()=>H(this,void 0,void 0,function*(){r();b.send(aa.preziVideoOnboarding,{kind:"sidebarOpened"});t(yield G.Ba(),l)}),onClose:()=>
{l.logClosePreziAirSidebar();b.send(aa.preziVideoOnboarding,{kind:"sidebarClosed"});d({na:!1})},root:{title:f.I18n.ts("Prezi Video",{context:"name of our new product"}),content:[a.label(f.I18n.ts("Prezi Video puts you right alongside your content for an interactive and immersive experience like no other.")),a.vimeoVideo({videoId:f.I18n.ts("359744028",{context:"Prezi Video into video ID"}),autoplay:!1,muted:!1,onPlay:()=>{l.logPlayPreziAirVideo({prezi_air_tutorial:"INTRO"})}}),k?null:a.label(f.I18n.ts("Prezi Video needs Google Chrome to run.")),
a.button(h.ButtonSize.Large,h.ButtonAlign.Start,(a)=>[a.button(k?{color:h.ButtonColor.Blue,id:"pv-get-started-button",content:{text:f.I18n.ts("Get started")},onClick:()=>{l.logGetStartedWithPreziAir();d({w:e.j});c.sidebar.open(e.u,e.j)}}:{color:h.ButtonColor.Gray,id:"pv-get-chrome-button",content:{text:f.I18n.ts("Get Chrome now",{context:"link to download Chrome browser"})},onClick:()=>{window.open("https://www.google.com/chrome/")}})])],footer:[a.label(f.I18n.ts("Want to learn more about Prezi Video?")),
a.button(h.ButtonSize.Small,h.ButtonAlign.Start,(a)=>[a.button({color:h.ButtonColor.Ghost,id:"pv-get-help",content:{text:f.I18n.ts("See it in action",{context:"link to some product page about Prezi Video"})},onClick:()=>{l.logOpenPreziAirPage({target_url:"https://prezi.com/video/explore/"});window.open("https://prezi.com/video/explore/")}})])]},pages:g,onPageBack(a){switch(a){case e.j:d({w:"root"});break;default:d({w:"root"})}}}})})();(function(){g.dialog.small((a)=>({id:e.aa,title:f.I18n.ts("Make a copy for your video?"),
content:[a.label(f.I18n.ts("Adjusting content will change the placement of objects in your presentation. Would you like to keep the original version and use a copy of this presentation to create your video?"))],footer:(a)=>[a.button({content:{text:f.I18n.ts("Yes, make a copy")},id:"pv-adjust-make-copy-button",color:h.ButtonColor.Blue,onClick:(a)=>H(this,void 0,void 0,function*(){c.dialog.hide(e.aa);yield C(a);const b=c.getState().camera;d({ka:!0,camera:b.ea(b)});c.sidebar.close(e.u)})}),a.button({content:{text:f.I18n.ts("No, only adjust")},
id:"pv-adjust-in-place-button",color:h.ButtonColor.Ghost,onClick:(a)=>{c.dialog.hide(e.aa);l.logAdjustPreziAirContent({adjust_content_method:"WITHOUT_BACKUP"});N(a);d({ka:!0})}})],onCloseButtonClicked:()=>{c.dialog.hide(e.aa)},align:h.DialogAlign.center}));g.dialog.small((a)=>({id:e.ha,title:f.I18n.ts("Title of copy for Prezi Video"),content:[a.label(f.I18n.ts("Please give your new copy a title")),a.inputField({id:"pv-adjust-title-inputfield",placeholderText:f.I18n.ts("Copy for Prezi Video"),value:c.getState().ua,
onValueChange:(a,b)=>{d({ua:b});return!0},onEnter:(a)=>{A(a)}})],footer:(a)=>[a.button({content:{text:f.I18n.ts("Ready, adjust content")},id:"pv-adjust-make-copy-with-title-button",color:h.ButtonColor.Blue,onClick:(a)=>{A(a)}})],onCloseButtonClicked:()=>{c.dialog.hide(e.ha)},align:h.DialogAlign.center}));g.dialog.alert(()=>({id:e.fa,title:f.I18n.ts("Unable to make a copy",{context:"...of the presentation, before executing the adjust Prezi operation"}),description:f.I18n.ts("Adjusting the content of your presentation cannot be undone. Would you still like to adjust your content without making a copy first?",
{context:"Warning message"}),footer:(a)=>[a.button({content:{text:f.I18n.ts("Cancel")},id:"pv-backup-failed-cancel",color:h.ButtonColor.Red,onClick:()=>{c.dialog.hide(e.fa)}}),a.button({content:{text:f.I18n.ts("Adjust content",{context:"Adjust content for Prezi Video, short button label"})},id:"pv-force-adjust-content",color:h.ButtonColor.Ghost,onClick:(a)=>{c.dialog.hide(e.fa);l.logAdjustPreziAirContent({adjust_content_method:"FORCED_WITHOUT_BACKUP"});N(a)}})]}));g.dialog.small((a)=>({id:e.oa,title:f.I18n.ts("You`ll need a camera to run Prezi Video"),
content:[a.illustration(null,h.IllustrationLargeLightId.NoCamera),a.label(f.I18n.ts("Please try:",{context:"instructions follow on an error dialog"})),a.label(f.I18n.ts("\u2022 Using a laptop or device with a built-in camera")),a.label(f.I18n.ts("\u2022 Connecting a camera to your computer")),a.button(h.ButtonSize.Large,h.ButtonAlign.End,(a)=>[a.button({id:"pv-no-camera-ack",content:{text:f.I18n.ts("Ok")},color:h.ButtonColor.Gray,onClick:()=>{c.dialog.hide(e.oa)}})])],align:h.DialogAlign.center,onCloseButtonClicked:()=>
{c.dialog.hide(e.oa)}}));g.dialog.small((a)=>({id:e.ba,title:f.I18n.ts("Enable your camera in Chrome"),content:[a.vimeoVideo({videoId:f.I18n.ts("349628240",{context:"Video ID for denied camera dialog"}),autoplay:!1,muted:!1}),a.label(f.I18n.ts("Please enable camera access in Chrome Settings to continue.")),a.button(h.ButtonSize.Large,h.ButtonAlign.End,(a)=>[a.button({id:"pv-denied-camera-ack",content:{text:f.I18n.ts("Ok")},color:h.ButtonColor.Gray,onClick:()=>{c.dialog.hide(e.ba)}})])],align:h.DialogAlign.center,
onCloseButtonClicked:()=>{c.dialog.hide(e.ba)}}));g.dialog.small((a)=>({id:e.ia,title:f.I18n.ts("Unable to access camera"),content:[a.illustration(null,h.IllustrationLargeLightId.NoCamera),a.label(f.I18n.ts("Please visit our Support Center for more help.")),a.button(h.ButtonSize.Large,h.ButtonAlign.End,(a)=>[a.button({id:"pv-error-camera-help",content:{text:f.I18n.ts("Visit Support Center")},color:h.ButtonColor.Gray,onClick:()=>{window.open(e.Ka)}})])],align:h.DialogAlign.center,onCloseButtonClicked:()=>
{c.dialog.hide(e.ia)}}));y();x();ja()})();(function(){const a=f.I18n.ts("Prezi Video",{context:"top menu item"}),b=(a)=>{l.logClickTabMenuItem({tab_menu_item:"PREZI_VIDEO"});na(a)};g.createMenuItem({kind:h.MenuItemKind.largeButton,id:"shareMenu/prezivideo",parent:h.TabMenuId.Share,icon:h.IconSmallId.Camera,weight:100,title:a,onClick:()=>b({prezi_air_sidebar_source:"SHARE"})});g.createMenuItem({kind:h.MenuItemKind.dropdown,id:"presenteMenu/prezivideo",parent:h.MenuId.Present,icon:h.IconSmallId.Camera,
weight:3,title:a,onClick:()=>b({prezi_air_sidebar_source:"PRESENT"})})})()}},H=this&&e.va||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function f(a){try{k(d.next(a))}catch(p){g(p)}}function h(a){try{k(d["throw"](a))}catch(p){g(p)}}function k(a){a.done?c(a.value):e(a.value).then(f,h)}k((d=d.apply(a,b||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});e.u="prezi-video-sidebar-design";e.j="video-sodebar-page";
e.aa="copy-on-adjust-dialog";e.ha="title-of-copy-dialog";e.fa="backup-failed-modal";e.oa="no-camera-dialog";e.ba="denied-camera-dialog";e.ia="unkown-error-camera-dialog";e.Ka="https://prez.is/3pg3g8j/";e.ya="pv-adjust-content-button";e.Ua="pv-sidebar-golive-button";e.Ea="pv-recorder-button";e.za="pv-enable-button";e.ga="pv-narration-dialog";var I={};Object.defineProperty(I,"__esModule",{value:!0});I.Ma=[{id:"start",visual:{},isDone:(a)=>a.w===e.j},{id:"allow-camera",visual:{highlights:[{around:{uiElementId:e.za},
pulse:!0,shape:L.HoleShape.rounded}]},isDone:(a)=>a.camera.active||a.da},{id:"adjust-content",visual:{highlights:[{around:{uiElementId:e.ya},pulse:!0,shape:L.HoleShape.rounded}]},isDone:(a)=>!a.ca||!a.pa||a.ka||a.da},{id:"record-video",visual:{highlights:[{around:{uiElementId:e.Ea},pulse:!0,shape:L.HoleShape.rounded}]},isDone:(a)=>a.da,setFlagsOnCompleted:[E.UserSettingBooleanKeys.JS_EDITOR_VIDEO_ONBOARDING_SHOWN]}];var C={},da=this&&C.va||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}
return new (c||(c=Promise))(function(c,g){function f(a){try{k(d.next(a))}catch(p){g(p)}}function h(a){try{k(d["throw"](a))}catch(p){g(p)}}function k(a){a.done?c(a.value):e(a.value).then(f,h)}k((d=d.apply(a,b||[])).next())})};Object.defineProperty(C,"__esModule",{value:!0});C.Ia=class{constructor(){this.Da=!1;this.logger=B.LoggerModule.getLoggerManager().createLogger("prezi_classic_import.ClassicImportPlugin");this.i=B.avro.Avro.createDefaultLogger()}unload(){const {camera:a}=this.f.getState();a.destroy(a)}init(a){this.ra=
q.isActive("prezioption-fromprezivideo");const b=q.isActive("prezioption-prezivideotemplate"),c=a.declareUI({fills:{solidFill:{fillKind:k.base.FillKind.solid,color:{r:239,g:207,b:28,a:1}},current:k.base.FillKind.solid,hasAlpha:!0},$a:!1,w:"root",Za:!0,da:!1,xa:f.I18n.ts("Adjust content",{context:"button title"}),pa:!b,ca:!b,Qa:!1,na:!1,o:null,v:[{deviceId:"dummy",label:"data"}],camera:G.Na(this.session,this.logger,this.i,(a)=>this.Fa(a,this.i)),ua:"",originalTitle:null,ka:!1,ma:!1},(a,b)=>{e.Oa(this.session,
this.pluginAccess,this.f,(a)=>this.setState(a),b,this.i,a,()=>this.Va(),(a,b)=>this.Fa(a,b),()=>this.$(a),(b)=>q.isActive("js-video-narration-only-dialog")?this.ta(a,b):this.$(a,b),()=>this.Pa,()=>this.Ra,()=>this.Xa);this.sa.declareUI(b)});this.f=c;this.setState=(a)=>{c.setState(a);this.sa.refreshOnboarding()};this.sa=u.EditorCommander.createOnboarding(I.Ma,this.f,q.isActive("js-ar-convert-force-onboarding")?"force":q.isActive("js-ar-convert-disable-onboarding")?"disable":[E.UserSettingBooleanKeys.JS_EDITOR_VIDEO_ONBOARDING_SHOWN],
this.userSettings);this.Ra=a.service(["api","v4","presentation-content","duplicate"],(a)=>({duplicatePrezi:(b)=>a.access("POST",[],{},{prezi_oid:b.preziOid,title:b.title,new_owner_userid:b.ownerId,copyright:b.copyright?1:0,showcase_prohibited:b.showcaseProhibited?1:0})}));this.Xa=a.service(["api","v4","presentation"],(a)=>({getMyPrezis:()=>a.read("GET",[],{mine:"true"})}));a.onApplicationModeChange((a)=>{if(a!==h.ApplicationMode.Edit){var {camera:a}=this.f.getState();this.setState({camera:a.ea(a)})}})}Va(){this.Da||
(F.PreziUAParser.isChrome()||this.i.logLoadedUnsupportedBrowserMessage(),this.Aa(),this.setState({ca:this.Wa()}),this.Da=!0)}Wa(){return this.session.document.read((a)=>{var b=u.EditorCommander.getLayoutRepository();const c=b.getPlanetLayoutInfos().filter((a)=>2===a.category),d=a.overview.topicChildren.map((a)=>this.Ca(a)).reduceRight((a,b)=>a.concat(b),[]);return q.isActive("js-overview-layout")&&a.meta.isSupportedGeneration(k.base.DocumentGeneration.OverviewAndContentLayout)?(b=null!=b.getOverviewLayoutInfos().filter((a)=>
2===a.category).find((b)=>b.id===a.overview.layout.id),0<d.length&&(d.some((a)=>null==c.find((b)=>b.id===a))||!b)):0<d.length&&d.some((a)=>null==c.find((b)=>b.id===a))})}Ca(a){if(a.is(k.base.ObjectKind.topicParent)){const b=a.topicChildren.map((a)=>this.Ca(a));return[a.layout.id].concat(...b)}return[]}Fa(a,b){return da(this,void 0,void 0,function*(){const {o:c,camera:d,v:f}=this.f.getState();t.Utils.arrayEquals(f.map((a)=>a.deviceId),a.map((a)=>a.deviceId))||(0===a.length?(b.logLoadedCameraErrorScreen({camera_error_type:"NO_CAMERA"}),
this.setState({v:[],o:null,camera:d.active?d.ea(d):d})):null==c?this.setState({v:a,o:a[0].deviceId}):0>a.map((a)=>a.deviceId).indexOf(c)?this.setState({v:a,o:a[0].deviceId,camera:yield d.ja(d,a[0].deviceId,{unknown:()=>this.f.dialog.show(e.ia),qa:()=>this.f.dialog.show(e.ba)})}):this.setState({v:a}))})}Sa(){if(F.PreziUAParser.isMac())return fetch("https://prezidesktop.s3.amazonaws.com/assets/mac/prezi-video/updates/prezi-video.xml").then((a)=>a.text()).then((a)=>(new DOMParser).parseFromString(a,
"text/xml")).then((a)=>a.getElementsByTagName("enclosure")[0].getAttribute("url")).catch(()=>null);{const a=-1<navigator.userAgent.indexOf("64");return fetch(a?"https://prezidesktop.s3.amazonaws.com/assets/cast/win/latest-release/latestRelease-x64.json":"https://prezidesktop.s3.amazonaws.com/assets/cast/win/latest-release/latestRelease.json").then((a)=>a.json()).then((a)=>a.Url).catch(()=>null)}}$(a,b=null){const {w:c,na:d}=a;d?this.f.sidebar.close(e.u):(!F.PreziUAParser.isChrome()||!this.ra&&this.sa.isActive()?
this.f.sidebar.open(e.u,"root"===c?void 0:c):(this.setState({w:e.j}),this.f.sidebar.open(e.u,e.j)),null!=b&&this.i.logOpenPreziAirSidebar(b),this.setState({na:!0}))}ta(a,b){a.na?this.f.sidebar.close(e.u):F.PreziUAParser.isChrome()?(this.i.logOpenPreziAirSidebar(b),this.i.logLoadedPreziAirFlowDialog(),this.f.dialog.show(e.ga)):(this.i.logOpenPreziAirSidebar(b),this.$(a))}processMessage(a){return da(this,void 0,void 0,function*(){switch(a.kind){case "requestOpen":var b=this.userSettings.getBoolean(E.UserSettingBooleanKeys.JS_EDITOR_PREZI_VIDEO_ONBOARDING);
b=this.ra&&q.isActive("js-enable-prezi-video-onboarding-plugin")&&(q.isActive("js-force-prezi-video-onboarding")||!q.isActive("js-disable-prezi-video-onboarding")&&!b);q.isActive("js-video-narration-only-dialog")?"BANNER_BTN"===a.trigger?this.ta(this.f.getState(),{prezi_air_sidebar_source:"TOP_BUTTON"}):b||this.$(this.f.getState(),{prezi_air_sidebar_source:"AUTO"}):"BANNER_BTN"===a.trigger?this.$(this.f.getState(),{prezi_air_sidebar_source:"TOP_BUTTON"}):b||this.$(this.f.getState(),{prezi_air_sidebar_source:"AUTO"});
break;case "openAdjustContentDialog":b=a.cameraId;this.setState({originalTitle:a.originalTitle});this.f.sidebar.open(e.u,e.j);this.f.dialog.show(e.ha);const c=this.f.getState().camera;this.setState({w:e.j,o:b,camera:b?yield c.ja(c,b,{qa:()=>{},unknown:()=>{}}):c});break;case "openChooseModeDialog":this.ra=!0;this.ta(this.f.getState(),{prezi_air_sidebar_source:"AUTO"});break;default:t.Utils.assertNever(a)}})}Aa(){this.Sa().then((a)=>{this.Pa=a;this.setState({Qa:!0})}).catch(()=>{setTimeout(()=>this.Aa(),
5E3)})}};v={};Object.defineProperty(v,"__esModule",{value:!0});v.lazyModule={createPlugin(){return new C.Ia}};return v});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_ar_convert",["require","prezi.geometry","prezi_cet_model_editor","prezi_editor_commander","prezi_editor_error","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta","prezi_service_data","prezi_uaparser","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_ar_convert.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi.geometry"),require("prezi_cet_model_editor"),require("prezi_editor_commander"),require("prezi_editor_error"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_service_data"),require("prezi_uaparser"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_ar_convert"]=__factory(this["prezi.geometry"],this["prezi_cet_model_editor"],this["prezi_editor_commander"],this["prezi_editor_error"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_service_data"],this["prezi_uaparser"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);
;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_libraryprovider";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_featureswitcher":dependencies[0],"prezi_i18n":dependencies[1],"prezi_plugin_api":dependencies[2]}};})());};})(arguments);var moduleImpl=(function(){return module(function(g){var r=g.dependencies.prezi_featureswitcher,n=g.dependencies.prezi_i18n,f={},e=this&&f.da||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function m(a){try{h(d.next(a))}catch(k){f(k)}}function g(a){try{h(d["throw"](a))}catch(k){f(k)}}function h(a){a.done?c(a.value):e(a.value).then(m,g)}h((d=d.apply(a,b||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0});f.u=class{constructor(a){this.service=
a}getStoryblocksByGuid(a){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["admin","storyblock",`${a}`],{})})}uploadStoryblockData(a,b){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",["admin","storyblock",`${a}`,"data"],{},{data:b.data,documentGeneration:b.documentGeneration,dataType:b.dataType,thumbnailUrl:"",videoThumbnailUrl:""})})}generateStoryblockThumbnail(a,b,c){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",
["admin","snippet",`${a}`,`${b}`,"generate","thumbnail"],{},{xml:c})})}getSnippetDataStatus(a,b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["admin","snippet",`${a}`,`${b}`,"status"],{})})}getFolders(){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["folder"],{limit:`${f.u.ba}`,offset:"0"})})}getStoryblocks(a,b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["storyblock"],{supported_document_generations:a.join(","),
supported_snippet_types:b.join(",")})})}getRecommendedTopics(a,b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["recommended","storyblock"],{supported_document_generations:a.join(","),supported_snippet_types:b.join(",")})})}};f.u.v=["api","v1","library"];f.u.ba=2E3;f.w=class{constructor(a){this.service=a}getStoryblocksV2(a,b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["storyblock"],{supported_document_generations:a.join(","),supported_snippet_types:b.join(",")})})}getRecommendedTopicsV2(a,
b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["recommended","storyblock"],{supported_document_generations:a.join(","),supported_snippet_types:b.join(",")})})}getFavorites(a){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite"],{supported_document_generations:a.join(",")})})}getFavoriteData(a){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",[a],{})})}createFavorite(a){return e(this,void 0,void 0,
function*(){return yield this.service.access("POST",["user","favorite"],{},a)})}deleteFavorite(a){return e(this,void 0,void 0,function*(){return yield this.service.access("DELETE",["user","favorite",a],{},{})})}};f.w.v=["api","v2","library"];f.$=class{constructor(a){this.service=a}getFavoritesV3(){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite"],{})})}getFavoriteDataV3(a){return e(this,void 0,void 0,function*(){const b=a.replace("/api/v3/library/","");
return yield this.service.read("GET",[b],{})})}getFavoriteThumbnailWithStatus(a,b){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite",a,b.toString(),"thumbnail"],{})})}createFavoriteV3(a){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",["user","favorite","create","from-next-data"],{},a)})}deleteFavoriteV3(a){return e(this,void 0,void 0,function*(){return yield this.service.access("DELETE",["user","favorite",a],{},{})})}getFavoriteMedia(a){return e(this,
void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite","media",a],{})})}};f.$.v=["api","v3","library"];var l={},c=this&&l.da||function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{h(d.next(a))}catch(k){f(k)}}function m(a){try{h(d["throw"](a))}catch(k){f(k)}}function h(a){a.done?c(a.value):e(a.value).then(g,m)}h((d=d.apply(a,b||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});
l.ca=class{constructor(a){this.cache={o:[],aa:[]};this.f=a.service(f.u.v,(a)=>new f.u(a));this.i=a.service(f.w.v,(a)=>new f.w(a));this.j=a.service(f.$.v,(a)=>new f.$(a))}getStoryblocksByGuid(a){return c(this,void 0,void 0,function*(){return this.f.getStoryblocksByGuid(a)})}generateStoryblockThumbnail(a,b,d){return c(this,void 0,void 0,function*(){return this.f.generateStoryblockThumbnail(a,b,d)})}getSnippetDataStatus(a,b){return c(this,void 0,void 0,function*(){return this.f.getSnippetDataStatus(a,
b)})}getFolders(){return c(this,void 0,void 0,function*(){0===this.cache.aa.length&&(this.cache.aa=yield this.f.getFolders());return this.cache.aa})}getStoryblocks(a,b){return c(this,void 0,void 0,function*(){0===this.cache.o.length&&(this.cache.o=yield this.f.getStoryblocks(a,b));return this.cache.o})}getStoryblocksV2(a,b){return c(this,void 0,void 0,function*(){0===this.cache.o.length&&(this.cache.o=yield this.i.getStoryblocksV2(a,b));return this.cache.o})}uploadStoryblockData(a,b){return c(this,
void 0,void 0,function*(){return yield this.f.uploadStoryblockData(a,b)})}getDefaultTopics(){return c(this,void 0,void 0,function*(){const a=yield(yield fetch(g.getResourceUrl("/default-topic.json"))).json();a.data.videoThumbnailUrl=g.getResourceUrl("/default-topic-video.mp4");a.data.thumbnailUrl=g.getResourceUrl("/default-topic-thumbnail.jpeg");return[Object.assign(Object.assign({},a),{title:n.I18n.ts("Default")})]})}getRecommendedTopics(a,b){return c(this,void 0,void 0,function*(){return this.f.getRecommendedTopics(a,
b)})}getRecommendedTopicsV2(a,b){return c(this,void 0,void 0,function*(){return this.i.getRecommendedTopicsV2(a,b)})}getStackTopics(){return c(this,void 0,void 0,function*(){const a=yield(yield fetch(g.getResourceUrl("/stack-topics.json"))).json();a.forEach((a)=>{switch(a.key){case "stack-page1":a.data.thumbnailUrl=g.getResourceUrl("/stack-topic-thumbnail-image-stack-page1.jpeg");break;case "stack-page2":a.data.thumbnailUrl=g.getResourceUrl("/stack-topic-thumbnail-image-stack-page2.jpeg")}});return r.isActive("js-show-2-pages-in-stack-section")?
a:[Object.assign(Object.assign({},a[0]),{title:n.I18n.ts("Default")})]})}getFavoriteData(a){return c(this,void 0,void 0,function*(){return yield this.i.getFavoriteData(a)})}getFavorites(a){return c(this,void 0,void 0,function*(){return yield this.i.getFavorites(a)})}createFavorite(a){return c(this,void 0,void 0,function*(){return yield this.i.createFavorite(a)})}deleteFavorite(a){return c(this,void 0,void 0,function*(){return yield this.i.deleteFavorite(a)})}getFavoritesV3(){return c(this,void 0,
void 0,function*(){return yield this.j.getFavoritesV3()})}createFavoriteV3(a){return c(this,void 0,void 0,function*(){return yield this.j.createFavoriteV3(a)})}getFavoriteThumbnailWithStatus(a,b){return c(this,void 0,void 0,function*(){return yield this.j.getFavoriteThumbnailWithStatus(a,b)})}getFavoriteDataV3(a){return c(this,void 0,void 0,function*(){return yield this.j.getFavoriteDataV3(a)})}deleteFavoriteV3(a){return c(this,void 0,void 0,function*(){return yield this.j.deleteFavoriteV3(a)})}getFavoriteMedia(a){return c(this,
void 0,void 0,function*(){return yield this.j.getFavoriteMedia(a)})}};var d={};Object.defineProperty(d,"__esModule",{value:!0});(function(a){a.Animated="animated";a.Static="static"})(d.SnippetType||(d.SnippetType={}));var p;(function(a){a.allAssets="all";a.savedAssets="saved"})(p=d.BaseCollectionFilter||(d.BaseCollectionFilter={}));var q;(q=d.SystemCollection||(d.SystemCollection={})).myUploads="my-uploads";d.CollectionFilter=Object.assign(Object.assign({},p),q);(function(a){a.chart="chart";a.group=
"group";a.image="image";a.pdf="pdf";a.shape="shape";a.text="text";a.topic="topic";a.video="video";a.composite="composite";a.preziClassic="prezi_classic"})(d.FavoritesObjectKind||(d.FavoritesObjectKind={}));(function(a){a.success="success";a.failed="failed";a.inProgress="in-progress";a.none="none"})(d.ThumbnailStatus||(d.ThumbnailStatus={}));(function(a){a.design="design-document";a.presentation="presentation-document";a.video="video-document"})(d.CopydataTypeEnum||(d.CopydataTypeEnum={}));(function(a){a.xml=
"xml";a.jpg="jpg";a.mp4="mp4"})(d.FavoriteDataType||(d.FavoriteDataType={}));(function(a){a.noThumbnail="no_thumbnail";a.publishable="publishable";a.published="published";a.inProgress="in_progress"})(d.SnippetDataStatus||(d.SnippetDataStatus={}));(function(a){let b;a.getLibraryProvider=function(a){null==b&&(b=new l.ca(a));return b}})(d.LibraryProviderModule||(d.LibraryProviderModule={}));return d});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_libraryprovider",["require","prezi_featureswitcher","prezi_i18n","prezi_plugin_api"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_libraryprovider.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_plugin_api"));}else{this["prezi_libraryprovider"]=__factory(this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_plugin_api"]);}}).call(this);
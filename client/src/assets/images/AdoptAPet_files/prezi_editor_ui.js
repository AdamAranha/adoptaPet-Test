;(function(){var baseUrl;var __factory=function(){var React=arguments[0];var ReactDOM=arguments[1];var ReactTransitionGroup=arguments[2];var StyledComponents=arguments[3];var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_editor_ui";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi.engine.dom":dependencies[4],"prezi.engine.dom.converter.xpdom2":dependencies[5],"prezi.geometry":dependencies[6],"prezi.text.model":dependencies[7],"prezi_app_utils":dependencies[8],"prezi_bacon":dependencies[9],"prezi_canvas_listener":dependencies[10],"prezi_cet":dependencies[11],"prezi_cet_model":dependencies[12],"prezi_cet_model_editor":dependencies[13],"prezi_cet_renderer":dependencies[14],"prezi_client_player":dependencies[15],"prezi_code_snippet_editor_widget":dependencies[16],"prezi_coeditui":dependencies[17],"prezi_commenting":dependencies[18],"prezi_contextmenu":dependencies[19],"prezi_editor_commander":dependencies[20],"prezi_editor_controller":dependencies[21],"prezi_editor_error":dependencies[22],"prezi_editor_store_common":dependencies[23],"prezi_editor_store_focus":dependencies[24],"prezi_editor_store_meeting":dependencies[25],"prezi_editor_store_mode":dependencies[26],"prezi_editor_store_object":dependencies[27],"prezi_editor_store_ui":dependencies[28],"prezi_externalserviceprovider":dependencies[29],"prezi_featureswitcher":dependencies[30],"prezi_i18n":dependencies[31],"prezi_koi_sidebar":dependencies[32],"prezi_koi_topmenu":dependencies[33],"prezi_koi_widgets":dependencies[34],"prezi_logger":dependencies[35],"prezi_meeting":dependencies[36],"prezi_nativeapitypes":dependencies[37],"prezi_onboarding":dependencies[38],"prezi_playback":dependencies[39],"prezi_plugin_api":dependencies[40],"prezi_plugin_meta":dependencies[41],"prezi_presenterview":dependencies[42],"prezi_privacypaywall":dependencies[43],"prezi_select":dependencies[44],"prezi_service_data":dependencies[45],"prezi_service_media":dependencies[46],"prezi_spellcheck":dependencies[47],"prezi_spotlight":dependencies[48],"prezi_support":dependencies[49],"prezi_templatechooser":dependencies[50],"prezi_templatepreview":dependencies[51],"prezi_templatepreviewcet":dependencies[52],"prezi_templateservice":dependencies[53],"prezi_thumbnail_render":dependencies[54],"prezi_uaparser":dependencies[55],"prezi_utils":dependencies[56],"prezi_widgets":dependencies[57]}};})(),React,ReactDOM,ReactTransitionGroup,StyledComponents);};})(arguments);var moduleImpl=(function(){return module(function(r,f,fa,ha,Fa){function Qa(a,b,c,e){const m=a.createSubCetApplication({speedMeasurementOptions:{measureSpeed:!1}},w.CetModelEditor.cetSessionFactory().createCetSessionWithIPrezi(A.CetModel.EMPTY_PREZI()),!0),u=Ra.EditorCommander.createTemplateChooserAppEditor(m,m.getBaseScene(),null);return m.updateWithIPrezi(G.DOM.loadXml(b)).then(()=>{if(e===g.I18n.LANGUAGE_KOREAN||e===g.I18n.LANGUAGE_JAPANESE){const a=g.I18n.ts("Double click to edit");u.executeApiCommand(u.template.updateTextPlaceholdersCmd(a))}u.executeApiCommand(u.template.setTemplateDataCmd(c));
return m.getBaseScene().getPreziXml()})}function Sa(a,b){return a.length!==b.length?!1:a.every((c,e)=>a[e]===b[e])}function Ta(a){var b=null,c=null;return function(){if(null==b||!Sa(b,arguments)){c=a.apply(null,arguments);const e=[];Array.prototype.push.apply(e,arguments);b=e}return c}}var Ga=null,Ua=r.dependencies["prezi.engine.dom"],Va=r.dependencies["prezi.engine.dom.converter.xpdom2"],d=r.dependencies.prezi_app_utils,h=r.dependencies.prezi_bacon,t=r.dependencies.prezi_canvas_listener,z=r.dependencies.prezi_cet,
Wa=r.dependencies.prezi_cet_model,Xa=r.dependencies.prezi_cet_model_editor,Ya=r.dependencies.prezi_cet_renderer,Za=r.dependencies.prezi_code_snippet_editor_widget,$a=r.dependencies.prezi_coeditui,N=r.dependencies.prezi_commenting,ab=r.dependencies.prezi_contextmenu,bb=r.dependencies.prezi_editor_commander,E=r.dependencies.prezi_editor_controller,J=r.dependencies.prezi_editor_error,F=r.dependencies.prezi_editor_store_focus,Z=r.dependencies.prezi_editor_store_meeting,Q=r.dependencies.prezi_editor_store_mode,
B=r.dependencies.prezi_editor_store_object,y=r.dependencies.prezi_featureswitcher,cb=r.dependencies.prezi_i18n,M=r.dependencies.prezi_koi_sidebar,H=r.dependencies.prezi_koi_topmenu,v=r.dependencies.prezi_koi_widgets,n=r.dependencies.prezi_logger,O=r.dependencies.prezi_meeting,V=r.dependencies.prezi_onboarding,W=r.dependencies.prezi_plugin_api,x=r.dependencies.prezi_plugin_meta,Ha=r.dependencies.prezi_presenterview,db=r.dependencies.prezi_privacypaywall,eb=r.dependencies.prezi_select,fb=r.dependencies.prezi_service_data,
gb=r.dependencies.prezi_service_media,hb=r.dependencies.prezi_spellcheck,ib=r.dependencies.prezi_templatechooser,jb=r.dependencies.prezi_templatepreview,kb=r.dependencies.prezi_templatepreviewcet,lb=r.dependencies.prezi_templateservice,mb=r.dependencies.prezi_thumbnail_render,aa=r.dependencies.prezi_uaparser,p=r.dependencies.prezi_widgets,k=r.dependencies.prezi_editor_store_ui,R=r.dependencies.prezi_utils,I=r.dependencies.prezi_nativeapitypes,ia={};Object.defineProperty(ia,"__esModule",{value:!0});
ia.DialogControllerImpl=class{constructor(a,b,c,e){this.visibleElementsController=a;this.upsellDialogProvider=b;this.errorValueStream=c;this.isDesktop=e}openDialog(a){if(this.isDesktop)switch(a.kind){case k.DialogKind.Builtin:switch(a.id){case k.BuiltinDialog.presenterViewDesktopDownload:case k.BuiltinDialog.shareDialogCollaborators:case k.BuiltinDialog.shareDialogViewLinks:case k.BuiltinDialog.privacyPaywallWarning:case k.BuiltinDialog.upgradeLicenseIconSearch:case k.BuiltinDialog.upgradeLicenseImageSearch:case k.BuiltinDialog.upgradeLicenseInsertAudio:case k.BuiltinDialog.upgradeLicenseInsertVideo:case k.BuiltinDialog.upgradeLicenseNoWatermark:case k.BuiltinDialog.upgradeLicenseCustomLogo:case k.BuiltinDialog.upgradeLicensePresenterView:case k.BuiltinDialog.upgradeLicenseScheme:case k.BuiltinDialog.upgradeLicenseShareViewLink:case k.BuiltinDialog.upgradeLicenseStoryblocks:case k.BuiltinDialog.upgradeLicenseTextScheme:case k.BuiltinDialog.upgradeLicenseMaster:this.visibleElementsController.openDialog(a);
break;case k.BuiltinDialog.upgradeLicenseInsertChart:this.upsellDialogProvider.showUpsellDialog(I.UpsellFeature.InsertChart);break;case k.BuiltinDialog.upgradeLicenseLivePrezi:this.upsellDialogProvider.showUpsellDialog(I.UpsellFeature.LivePrezi);break;case k.BuiltinDialog.contactSalesCommenting:this.upsellDialogProvider.showUpsellDialog(I.UpsellFeature.Commenting);break;default:R.Utils.assertNever(a)}break;case k.DialogKind.Custom:this.visibleElementsController.openDialog(a);break;default:R.Utils.assertNever(a)}else this.visibleElementsController.openDialog(a)}closeDialog(a){this.visibleElementsController.closeDialog(a)}openErrorModal(a){this.errorValueStream.push(a)}getClosedDialogIdStream(){return this.visibleElementsController.getClosedDialogIdStream()}};
var l={};Object.defineProperty(l,"__esModule",{value:!0});l.VisibleElementsControllerImpl=class{constructor(a){this.uiStore=a;this.openPopup=(a,c)=>{this.isPopupOpen(a)||this.togglePopup(a,c)};this.togglePopup=(a,c=null,e={})=>{const b=this.getLoggingObjectForPopup(a);if(a!==l.VisibleElementsControllerImpl.NULL_ELEMENT)if(this.isPopupOpen(a))if(null!==c&&0<c.length){a=this.state.openedPopupIds.indexOf(a);for(c=a;c<this.state.openedPopupIds.length;c++)d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,
d.VisibleElementLogAction.CLOSE,this.getLoggingObjectForPopup(this.state.openedPopupIds[c]),d.VisibleElementLogTrigger.TOGGLE,e);c=[...this.state.openedPopupIds];c.splice(a);this.state.openedPopupIds=c}else d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,d.VisibleElementLogAction.CLOSE,b,d.VisibleElementLogTrigger.TOGGLE,e),this.state.openedPopupIds=[];else if(this.isAnyPopupOpen()){if(null!==c&&0<c.length){for(let a=0;a<this.state.openedPopupIds.length;a++)(a>=c.length||c[a]!==this.state.openedPopupIds[a])&&
d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,d.VisibleElementLogAction.CLOSE,this.getLoggingObjectForPopup(this.state.openedPopupIds[a]),d.VisibleElementLogTrigger.TOGGLE,e);this.state.openedPopupIds=[...c,a]}else this.state.openedPopupIds.forEach((a)=>{d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,d.VisibleElementLogAction.CLOSE,this.getLoggingObjectForPopup(a),d.VisibleElementLogTrigger.REPLACE,e)}),this.state.openedPopupIds=[a];d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,
d.VisibleElementLogAction.OPEN,b,d.VisibleElementLogTrigger.REPLACE,e)}else d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,d.VisibleElementLogAction.OPEN,b,d.VisibleElementLogTrigger.TOGGLE,e),this.state.openedPopupIds=[a];else this.state.openedPopupIds.forEach((a)=>{d.AppUtilsModule.getLogHelperUtils().togglePopup(this.logger,d.VisibleElementLogAction.CLOSE,this.getLoggingObjectForPopup(a),d.VisibleElementLogTrigger.CLOSE_ALL,{})}),this.state.openedPopupIds=[];this.uiStore.setOpenedPopupId_KILLME(0<
this.state.openedPopupIds.length?this.state.openedPopupIds[this.state.openedPopupIds.length-1]:l.VisibleElementsControllerImpl.NULL_ELEMENT)};this.logger=n.LoggerModule.createPreLogger("prezi_editor_ui.VisibleElementsController");this.state={openedSidebarId:l.VisibleElementsControllerImpl.NULL_ELEMENT,openedPopupIds:[],openedDialogProps:{kind:k.DialogKind.None},codeSnippetEditorOpen:!1};this.closedSidebarStream=h.Bacon.newBus();this.closedDialogIdStream=h.Bacon.newBus();this.codeSnippetEditorOpenBus=
h.Bacon.newBus();this.codeSnippetEditorFocusBus=h.Bacon.newBus();this.uiStore.addCodeSnippetEditorOpenStream(this.codeSnippetEditorOpenBus);this.uiStore.getCodeSnippetEditorOpenStream().onValue((a)=>{this.state.codeSnippetEditorOpen=a});this.uiStore.getOpenedSidebarIdStream().onValue((a)=>{this.state.openedSidebarId!==l.VisibleElementsControllerImpl.NULL_ELEMENT&&this.closedSidebarStream.push(this.state.openedSidebarId);this.state.openedSidebarId=a});this.uiStore.getOpenedDialogPropsStream().onValue((a)=>
{this.state.openedDialogProps.kind!==k.DialogKind.None&&this.closedDialogIdStream.push(this.state.openedDialogProps);this.state.openedDialogProps=a});this.uiStore.getOpenedDialogPropsStream().filter((a)=>a.kind===k.DialogKind.Builtin&&a.id===k.BuiltinDialog.presenterViewDesktopDownload).onValue(()=>{n.avro.Avro.createDefaultLogger().logLoadedDownloadAppDialog()})}openedDialogProps(){return this.state.openedDialogProps}isDialogOpen(a){return this.state.openedDialogProps.kind!==k.DialogKind.None&&k.dialogIdEq(this.state.openedDialogProps,
a)}openDialog(a){this.isDialogOpen(a)||(this.closePopups(),this.toggleDialog(a))}closeDialog(a){this.isDialogOpen(a)&&this.toggleDialog(Object.assign(Object.assign({},a),{isModal:!1}))}toggleBuiltinDialog(a){this.toggleDialog({kind:k.DialogKind.Builtin,id:a,isModal:!0})}toggleDialog(a){if(a.kind===k.DialogKind.None)this.closeDialogs();else{var b=this.isDialogOpen(a);b?this.closeDialogs():(this.uiStore.setOpenedDialogProps(a),d.AppUtilsModule.getLogHelperUtils().toggleModal(this.logger,b?d.VisibleElementLogAction.CLOSE:
d.VisibleElementLogAction.OPEN,a.id,d.VisibleElementLogTrigger.TOGGLE))}}closeDialogs(){this.openedDialogProps().kind!==k.DialogKind.None&&(this.uiStore.setOpenedDialogProps({kind:k.DialogKind.None}),d.AppUtilsModule.getLogHelperUtils().toggleModal(this.logger,d.VisibleElementLogAction.CLOSE,"no_id",d.VisibleElementLogTrigger.CLOSE_ALL))}closePopup(a,b){this.isPopupOpen(a)&&this.togglePopup(a,b)}closeContextMenu(){this.closePopup(l.VisibleElementsControllerImpl.CONTEXT_MENU_POPUP)}closePopups(){this.openPopup(l.VisibleElementsControllerImpl.NULL_ELEMENT)}closeSidebars(){const a=
this.state.openedSidebarId;null!=a&&(this.logCloseSidebar(a,d.VisibleElementLogTrigger.CLOSE_ALL),this.uiStore.setOpenSidebarId(l.VisibleElementsControllerImpl.NULL_ELEMENT));return a}logCloseSidebar(a){d.AppUtilsModule.getLogHelperUtils().toggleSidebar(this.logger,d.VisibleElementLogAction.CLOSE,a,d.VisibleElementLogTrigger.CLOSE_ALL)}getClosedSidebarStream(){return this.closedSidebarStream}getClosedDialogIdStream(){return this.closedDialogIdStream}openSidebar(a){this.isSidebarOpen(a)||this.toggleSidebar(a)}openTabMenu(a){this.uiStore.setOpenTabMenuId(a);
this.closePopups()}closeSidebar(a){this.isSidebarOpen(a)&&this.toggleSidebar(a)}toggleSidebar(a){if(this.isSidebarOpen(a))this.logCloseSidebar(a,d.VisibleElementLogTrigger.TOGGLE),a=l.VisibleElementsControllerImpl.NULL_ELEMENT;else{const b=this.isAnySidebarOpen()?d.VisibleElementLogTrigger.REPLACE:d.VisibleElementLogTrigger.TOGGLE;this.isAnySidebarOpen()&&this.logCloseSidebar(this.state.openedSidebarId,b);d.AppUtilsModule.getLogHelperUtils().toggleSidebar(this.logger,d.VisibleElementLogAction.OPEN,
a,b)}this.uiStore.setOpenSidebarId(a)}isPopupOpen(a){return-1!==this.state.openedPopupIds.indexOf(a)}isTopmenuOpen(){return this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_FILE_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_INSERT_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_EDIT_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_VIEW_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_PRESENT_MENU)||
this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_HELP_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_DEBUG_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_LAB_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_LOOKANDFEEL_MENU)||this.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_PRESENT_DROPDOWN)}isSidebarOpen(a){return this.state.openedSidebarId===a}onSidebarOpen(a,b){this.uiStore.getOpenedSidebarIdStream().changes().skipDuplicates().filter((b)=>
b===a).onValue(b)}getActiveSidebarId(){return this.state.openedSidebarId}isAnySidebarOpen(){return this.state.openedSidebarId!==l.VisibleElementsControllerImpl.NULL_ELEMENT}isAnyPopupOpen(){return 0<this.state.openedPopupIds.length}getLoggingObjectForPopup(a){let b=a;a===l.VisibleElementsControllerImpl.NULL_ELEMENT?b="no_id":0===a.indexOf(l.VisibleElementsControllerImpl.STORYLINE_CONTEXT_POPUP)&&(b=l.VisibleElementsControllerImpl.STORYLINE_CONTEXT_POPUP);-1<b.indexOf(N.COMMENTING_POPUPID_PREFIX)&&
(b="commenting");return b}openedPopupIds(){return this.state.openedPopupIds}openOrFocusCodeSnippetEditor(){this.isCodeSnippetEditorOpen()?this.codeSnippetEditorFocusBus.push(null):this.codeSnippetEditorOpenBus.push(!0)}getFocusCodeSnippetEditorBus(){return this.codeSnippetEditorFocusBus}closeCodeSnippetEditor(){this.codeSnippetEditorOpenBus.push(!1)}isCodeSnippetEditorOpen(){return this.state.codeSnippetEditorOpen}};l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID="remotePresentation";
l.VisibleElementsControllerImpl.TOPMENU_POPUP_FILE_MENU="fileMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_INSERT_MENU="insertMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_EDIT_MENU="editMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_VIEW_MENU="viewMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_PRESENT_MENU="presentMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_HELP_MENU="helpMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_DEBUG_MENU="debugMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_LAB_MENU=
"labMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_LOOKANDFEEL_MENU="look&feelMenu";l.VisibleElementsControllerImpl.TOPMENU_POPUP_ID_SEARCH="idsearch";l.VisibleElementsControllerImpl.TOPMENU_POPUP_PRESENT_DROPDOWN="presentDropdown";l.VisibleElementsControllerImpl.STORYLINE_CONTEXT_POPUP="storyLineContext";l.VisibleElementsControllerImpl.ANIMATION_SIDEBAR_CONTEXTMENU="animation_sidebar_contextmenu";l.VisibleElementsControllerImpl.STORYLINE_TOPICCHOOSER_POPUP="storyLineTopicChooser";l.VisibleElementsControllerImpl.CONTEXT_MENU_POPUP=
"contextMenuPopup";l.VisibleElementsControllerImpl.NULL_ELEMENT=null;l.VisibleElementsControllerImpl.ANIMATION_TYPE_POPUP_MENU="animation-type-popup-menu";l.VisibleElementsControllerImpl.ANIMATION_ADD_POPUP_MENU="animation-add-popup-menu";l.VisibleElementsControllerImpl.ANIMATION_PATH_STEP_CHOOSER_POPUP_MENU="animation-path-step-chooser-popup-menu";l.VisibleElementsControllerImpl.MOBILE_CLICKER_POPUP="mobile-clicker-popup";l.VisibleElementsControllerImpl.CUSTOM_STARTING_POINT_DECORATOR_POPUP="custom-starting-point-decorator-popup";
var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.DesktopEditorUIController=class{init(a){this.editorUI=a;this.changeModeActionBus=h.Bacon.newBus();this.editorUI.setExternalChangeModeActionStream(this.changeModeActionBus)}goToPresentMode(){this.changeModeActionBus.push({newMode:d.EditorMode.playback,trigger:"desktop",shouldGoFullscreen:!1,shouldSeekPathToStart:!1,showTopmenu:!0,linkClickedFlow:!1,presenterNotesFlow:!1})}showPopup(a){let b="",c=!1;switch(a){case I.PopupId.LivePrezi:b=
l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID;n.avro.Avro.createDefaultLogger().logOpenLivePreziDialog();break;case I.PopupId.MobileClicker:b=l.VisibleElementsControllerImpl.MOBILE_CLICKER_POPUP,c=!0}c&&this.goToPresentMode();""!==b&&this.editorUI.showPopup(b)}};var G=Ua,A=Wa,w=Xa,X={};Object.defineProperty(X,"__esModule",{value:!0});X.CetChangeStreams=class{constructor(a){this.scene=a}getParentSmartStructure(a){return this.scene.getEntityById(w.CetModelEditor.getParentSmartStructureId(a,
this.scene))}calculateStructureTypeFromTopics(a,b){if(b===this.scene.getPreziW().getOverview().getId())return null;const c=new Set,e=a.objectProps.filter((a)=>null!=this.scene.getEntityById(a.getEntityId())).filter((a)=>this.scene.getEntityById(a.getEntityId()).isDef(A.CetModel.ID.Z_TOPIC_CONTAINER)).map((a)=>this.getParentSmartStructure(a.getEntityId())).filter((a)=>null!=a);e.forEach((a)=>c.add(a));b=null;1===c.size&&e.length===a.objectProps.length&&(a=this.getParentSmartStructure(a.objectProps[0].getEntityId()),
null==a?b=null:a.isDef(A.CetModel.ID.CHAIN_SMART_STRUCTURE)?b=B.StructureType.Chain:a.isDef(A.CetModel.ID.LINEAR_SMART_STRUCTURE)&&(b=B.StructureType.Linear));return b}calculateStructureTypeFromVisuals(a,b,c,e,m){const u=(a)=>{if(!c.isVisibleOutsideAndInside(a))return null;a=e.getParentId(this.scene.getEntityById(a));return this.getParentSmartStructure(a)},D=(a)=>{a=this.scene.getEntityById(a);if(null==a)return!1;a=this.scene.getEntityById(e.getParentOrOverview(a));return this.scene.getEntityById(e.getParentOrOverview(a)).getId()===
b},d=new Set,f=a.objectProps.map((a)=>u(a.getEntityId())).filter((a)=>null!=a);f.forEach((a)=>d.add(a));const g=a.objectProps.every((a)=>D(a.getEntityId()));let h=null;b!==this.scene.getPreziW().getOverview().getId()&&null==m&&g&&1===d.size&&f.length===a.objectProps.length&&(a=u(a.objectProps[0].getEntityId()),null==a?h=null:a.isDef(A.CetModel.ID.CHAIN_SMART_STRUCTURE)?h=B.StructureType.Chain:a.isDef(A.CetModel.ID.LINEAR_SMART_STRUCTURE)&&(h=B.StructureType.Linear));return h}createEntitiesInPropBarChangeStream(a){a=
h.Bacon.combineWith3((a,b,c)=>({propbar:a,currentTopic:b,coverEditMode:c}),a.getPropertyBarPropsStream(),a.getCurrentTopicStream(),a.getCoverEditModeStream()).combineAndSample((a,b)=>({storeEvent:a,changeEvents:b}),this.scene.getImmediateChangeStream(z.ChangeEventKind.EntitiesModified)).filter((a)=>null==a.storeEvent.coverEditMode);const b=z.Cet.createTopicChildrenQuery(this.scene),c=z.Cet.createHierarchyQuery(this.scene);return a.filter((a)=>null!=a.storeEvent.propbar&&0<a.storeEvent.propbar.objectProps.length).map((a)=>
{const e=new Set;a.changeEvents.forEach((a)=>a.entities.forEach((a)=>e.add(a.getId())));const u=new Set;a.storeEvent.propbar.objectProps.forEach((a)=>u.add(a.getEntityId()));const d=[...e].some((a)=>u.has(a))?[...u]:[],f=E.EditorControllerModule.createPropertyEditor(),h=a.storeEvent.propbar.objectProps[0].kind;var g=[];g=this.calculateStructureTypeFromVisuals(a.storeEvent.propbar,a.storeEvent.currentTopic,b,c,a.storeEvent.coverEditMode);a=this.calculateStructureTypeFromTopics(a.storeEvent.propbar,
a.storeEvent.currentTopic);a=null!=g?g:null!=a?a:null;switch(h){case B.PropsKind.Image:g=d.map((a)=>f.createImageProps(a));break;case B.PropsKind.Pdf:g=d.map((a)=>f.createPdfProps(a));break;case B.PropsKind.ChartPdf:g=d.map((a)=>f.createChartPdfProps(a));break;case B.PropsKind.Overview:g=[];break;default:throw R.Utils.assertNever(h);}return{objectProps:g,structureType:a}}).filter((a)=>0<a.objectProps.length)}static getStyleSheetChangeStream(a){return a.filter((a)=>{for(let b=0;b<a.length;++b)if(!a[b].selector||
0!==a[b].selector.toString().indexOf("#"))return!0;return!1}).throttle(X.CetChangeStreams.STYLE_CHANGE_THROTTLE_TIME).map(()=>null)}};X.CetChangeStreams.STYLE_CHANGE_THROTTLE_TIME=10;var ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.ContainerExtraParameters=class{constructor(a){if(this.extraParameterString=a){if((a=this.extraParameterString.match(/([^\?]*)(\?.*)?$/))&&a[1]){const b=a[1].match(/^\/?([^\/]*)\//);b&&(this.showEntityOnStartId=b[1])}a&&a[2]&&(this.queryParameters=R.Utils.createUrlUtils().parseQueryString(a[2]))}}getQueryParameter(a){return null==
this.queryParameters?null:this.queryParameters[a]}getShowEntityOnStartId(){return this.showEntityOnStartId}isOpenCommentThread(){return"1"===this.getQueryParameter("open_comment_thread")}};var la={};Object.defineProperty(la,"__esModule",{value:!0});la.ContextMenuSection=class{constructor(){}init(a){this.applicationController=a}createContextMenu(a,b){a=a.contextMenuState;b={visible:b.isPopupOpen(l.VisibleElementsControllerImpl.CONTEXT_MENU_POPUP),x:0,y:0,items:[],pluginItems:[]};const c=(a)=>null==
a?{}:{shortcutDefinition:Object.assign(Object.assign({},a),{key:String.fromCharCode(a.key)})};if(null!==a){const e=a.getStagePos();b.x=a.getPagePos().x;b.y=a.getPagePos().y;b.items=a.getItems();b.pluginItems=this.applicationController?this.applicationController.getContextMenuItems().map((a)=>Object.assign({id:a.id,title:a.title,weight:a.weight,onClick:()=>a.onClick(e.x,e.y),enabled:a.enabled},c(a.shortcut))):[]}return f.createElement("div",{className:""},f.createElement(v.KoiWidgets.ContextMenu,b))}};
var q={};Object.defineProperty(q,"__esModule",{value:!0});q.DeepLinkMapper=class{static initializeRoutingTable(a){q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_CHART_INSERT,{messageValue:"openChartInsertSidebar",descriptor:x.chartInsert});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_VIDEO_INSERT,{messageValue:"openVideoInsertSidebar",descriptor:x.videoInsert});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_ARROWS_INSERT,{messageValue:"openArcInsertSidebar",
descriptor:x.shapeAndArcEditor});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_SHAPES_INSERT,{messageValue:"openShapeInsertSidebar",descriptor:x.shapeAndArcEditor});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_ICON_INSERT,{messageValue:"openIconInsertSidebar",descriptor:x.iconInsert});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_BACKGROUND_INSERT,{messageValue:{uat:a,body:"openBackgroundImageSidebar"},descriptor:x.backgroundImage});
q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_SCHEME,{messageValue:"schemeSidebar",descriptor:x.scheme});q.DeepLinkMapper.ROUTING_TABLE.set(q.DeepLinkMapper.FRAGMENT_SIDEBAR_IMAGE_INSERT,{messageValue:"openImageInsertSidebar",descriptor:x.imageInsert})}static getDeepLinkData(a,b){return null!=b&&-1<b.indexOf("=")?(b=R.Utils.createUrlUtils().parseQueryString(b),q.DeepLinkMapper.getFromKeyValueFragment(a,b)):q.DeepLinkMapper.getFromPathFragment(a,b)}static getFromPathFragment(a,
b){b=b.toLowerCase();0===q.DeepLinkMapper.ROUTING_TABLE.size&&this.initializeRoutingTable(a);a=q.DeepLinkMapper.ROUTING_TABLE;return a.has(b)?a.get(b):null}static getFromKeyValueFragment(a,b){var c;switch(b.opensidebar){case this.OPEN_SIDEBAR_STORYBLOCKS:return{messageValue:{kind:"openStoryblocksSidebar",searchTerm:b.searchterm?b.searchterm:null},descriptor:x.storyblocks};case this.OPEN_SIDEBAR_STORYBLOCKS_ADMIN:return{messageValue:{kind:"openStoryblocksAdminSidebar",guid:b.guid?b.guid:null},descriptor:x.storyblocksAdmin};
case this.OPEN_SIDEBAR_CHART_INSERT:return{messageValue:"openChartInsertSidebar",descriptor:x.chartInsert};case this.OPEN_SIDEBAR_VIDEO_INSERT:return{messageValue:"openVideoInsertSidebar",descriptor:x.videoInsert};case this.OPEN_SIDEBAR_ARROWS_INSERT:return{messageValue:"openArcInsertSidebar",descriptor:x.shapeAndArcEditor};case this.OPEN_SIDEBAR_ANIMATION_INSERT:return null;case this.OPEN_SIDEBAR_SHAPES_INSERT:return{messageValue:"openShapeInsertSidebar",descriptor:x.shapeAndArcEditor};case this.OPEN_SIDEBAR_ICON_INSERT:return{messageValue:"openIconInsertSidebar",
descriptor:x.iconInsert};case this.OPEN_SIDEBAR_BACKGROUND_INSERT:return{messageValue:{uat:a,body:"openBackgroundImageSidebar"},descriptor:x.backgroundImage};case this.OPEN_SIDEBAR_SCHEME:return{messageValue:"schemeSidebar",descriptor:x.scheme};case this.OPEN_SIDEBAR_IMAGE_INSERT:return{messageValue:"openImageInsertSidebar",descriptor:x.imageInsert};case this.OPEN_SIDEBAR_PREZI_VIDEO:return{messageValue:{kind:"requestOpen",trigger:"AUTOMATIC"},descriptor:x.arConvert};case this.OPEN_MODE_DIALOG_PREZI_VIDEO:return{messageValue:{kind:"openChooseModeDialog"},
descriptor:x.arConvert};case this.OPEN_DIALOG_ADJUST_CONTENT:return{messageValue:{kind:"openAdjustContentDialog",cameraId:null!==(c=b.cameraId)&&void 0!==c?c:null,originalTitle:b.originalTitle},descriptor:x.arConvert};case this.OPEN_SIDEBAR_TEXT_STYLE:return{messageValue:"textStyleSidebar",descriptor:x.textStyle};case this.OPEN_SIDEBAR_FAVORITES_INSERT:return{messageValue:{kind:"openFavoritesSidebar"},descriptor:x.favorites};case this.OPEN_SIDEBAR_FONT_SELECTOR:return{messageValue:{kind:"openFontSelectorModal"},
descriptor:x.fontSelector}}switch(b.startingmode){case this.START_WITH_PRESENTER_VIEW:return{messageValue:{uat:a,body:"presenterView"},descriptor:x.editorMode}}return null}};q.DeepLinkMapper.FRAGMENT_SIDEBAR_CHART_INSERT="opensidebar/chart-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_VIDEO_INSERT="opensidebar/video-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_ARROWS_INSERT="opensidebar/arrows-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_SHAPES_INSERT="opensidebar/shapes-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_ICON_INSERT=
"opensidebar/icon-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_BACKGROUND_INSERT="opensidebar/background-insert";q.DeepLinkMapper.FRAGMENT_SIDEBAR_SCHEME="opensidebar/scheme";q.DeepLinkMapper.FRAGMENT_SIDEBAR_IMAGE_INSERT="opensidebar/image-insert";q.DeepLinkMapper.OPEN_SIDEBAR_STORYBLOCKS="story-blocks";q.DeepLinkMapper.OPEN_SIDEBAR_STORYBLOCKS_ADMIN="story-blocks-admin";q.DeepLinkMapper.OPEN_SIDEBAR_CHART_INSERT="chart-insert";q.DeepLinkMapper.OPEN_SIDEBAR_VIDEO_INSERT="video-insert";q.DeepLinkMapper.OPEN_SIDEBAR_ARROWS_INSERT=
"arrows-insert";q.DeepLinkMapper.OPEN_SIDEBAR_ANIMATION_INSERT="animation-insert";q.DeepLinkMapper.OPEN_SIDEBAR_SHAPES_INSERT="shapes-insert";q.DeepLinkMapper.OPEN_SIDEBAR_ICON_INSERT="icon-insert";q.DeepLinkMapper.OPEN_SIDEBAR_BACKGROUND_INSERT="background-insert";q.DeepLinkMapper.OPEN_SIDEBAR_SCHEME="scheme";q.DeepLinkMapper.OPEN_SIDEBAR_IMAGE_INSERT="image-insert";q.DeepLinkMapper.OPEN_SIDEBAR_PREZI_VIDEO="prezi-video-sidebar-design";q.DeepLinkMapper.OPEN_MODE_DIALOG_PREZI_VIDEO="prezi-video-choose-mode";
q.DeepLinkMapper.OPEN_DIALOG_ADJUST_CONTENT="prezi-video-adjust-content";q.DeepLinkMapper.OPEN_SIDEBAR_TEXT_STYLE="text-style";q.DeepLinkMapper.OPEN_SIDEBAR_FAVORITES_INSERT="favorites-insert";q.DeepLinkMapper.OPEN_SIDEBAR_FONT_SELECTOR="font-selector";q.DeepLinkMapper.START_WITH_PRESENTER_VIEW="presenter-view";q.DeepLinkMapper.SIDEBAR_ANIMATION_ID="koi-sidebar-animations";q.DeepLinkMapper.ROUTING_TABLE=new Map;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.StartEditingControllerImpl=
class{constructor(a){this.templateUIController=a}setMetadataSaver(a){this.metadataSaver=a}startEditing(a,b){const c=[...y.FeatureSwitcher.getActiveFeatures()];a.pptTemplateFromSegmentation&&c.push("prezioption-pptcreate");a.preziVideoTemplate&&c.push("prezioption-prezivideotemplate");y.FeatureSwitcher.initWithArray(c);this.templateUIController.startEditing(a).then(()=>{if(null!=a.title&&null!=this.metadataSaver)try{this.metadataSaver.savePreziTitle(a.title)}catch(e){}});this.action=b;this.createOptions=
a}handleDeeplinks(a,b,c){var e,m;if("branding"===this.action)var u={messageValue:"requestOpen",descriptor:x.brandColors};else"storyblocks"===this.action&&"blank_-_white:blank_-_white_default"===(null===(u=this.createOptions)||void 0===u?void 0:u.templateId)?u=q.DeepLinkMapper.getDeepLinkData(null,"opensidebar=story-blocks"):(null===(e=this.createOptions)||void 0===e?0:e.preziVideoTemplate)?u={descriptor:x.arConvert,messageValue:{kind:"requestOpen",trigger:"AUTOMATIC"}}:(null===(m=this.createOptions)||
void 0===m?0:m.pptTemplateFromSegmentation)?u={descriptor:x.pptPreload,messageValue:{kind:"start"}}:(u=this.getDeepLinkData(a,b),null==u&&b.isNewPreziFranklin&&(u=this.getSidebarIdentifierForNewPrezi(a)));null!=u&&c.send(u.descriptor,u.messageValue)}getDeepLinkData(a,b){return q.DeepLinkMapper.getDeepLinkData(a,!b.deepLinkRoute||b.startInPresentMode||b.startInMobileClickerMode||b.startInLivePreziMode?"":b.deepLinkRoute)}getSidebarIdentifierForNewPrezi(a){return y.isActive("abtest-act-disable-background-sidebar-a")||
y.isActive("prezioption-pptcreate")?null:{descriptor:x.backgroundImage,messageValue:{uat:a,body:"openBackgroundImageSidebar"}}}};var Ra=bb,g=cb,T={};Object.defineProperty(T,"__esModule",{value:!0});T.TemplateUIController=class{constructor(a,b,c,e){this.mainApp=a;this.templateService=b;this.changeModeBus=c;this.language=e;this.acceptingStartEditEvents=!0;this.logger=n.LoggerModule.getLoggerManager().createLogger("prezi_editor_ui.TemplateUIController")}static addTemplateInfoListener(a,b){b.addTemplateDataStream(a.getImmediateChangeStream(z.ChangeEventKind.Entity).map((a)=>
{for(let b=0;b<a.length;b++)if(a[b].def.isDef(A.CetModel.ID.TEMPLATE_INFO))return a=a[b].entity.getWrapper(A.CetModel.ID.TEMPLATE_INFO.W),{templateId:a.getBaseId(),themeId:a.getThemeId()};return null}).filter((a)=>null!=a).skipDuplicates())}showTemplateChooser(a){this.onTemplateSelected=a;this.acceptingStartEditEvents=!0;this.changeModeBus.push({newMode:d.EditorMode.templateChooser,trigger:"machine"})}startEditing(a){if(!this.acceptingStartEditEvents)return Promise.resolve();this.acceptingStartEditEvents=
!1;-1!==T.TemplateUIController.connectorTemplates.indexOf(a.templateId)&&this.logger.info({action:"open",object:"connector-prezi-template",trigger:"button"});return this.templateService.loadTemplateXml(a.templateId,null).then((b)=>Qa(this.mainApp,b,a.templateId,this.language)).then((a)=>G.DOM.loadXml(a)).then((b)=>{b=this.onTemplateSelected(b,a);b.onError(()=>{this.acceptingStartEditEvents=!0});b.onValue((a)=>{a||(this.acceptingStartEditEvents=!0)})}).catch(()=>{this.acceptingStartEditEvents=!0})}};
T.TemplateUIController.connectorTemplates=["social_network","creativity","impact","midnight"];var na={};Object.defineProperty(na,"__esModule",{value:!0});const {default:U}=Fa;na.CopyPasteInfoDialog=class{constructor(a){this.uiContainer=a;this.show=()=>{this.dialogUI.setState({active:!0})};fa.render(f.createElement(pb,{ref:(a)=>this.dialogUI=a}),this.uiContainer)}};class pb extends f.Component{constructor(){super(...arguments);this.close=()=>{this.setState({active:!1})};this.state={active:!1}}render(){if(!this.state.active)return null;
const a=f.createElement(Ja,{buttonColor:p.ExtendedButtonColor.Gray,content:{text:"OK"},id:"CopyPasteInfoDialog_ok_button",size:p.ExtendedButtonSize.Large,onClick:this.close}),b=aa.PreziUAParser.getCmdKeyOnPlatform();return f.createElement(p.Dialog,{title:g.I18n.ts("Copying and pasting in Prezi"),subtitle:null,dialogType:p.DialogType.small,onClose:null,footer:a},f.createElement(Ka,{content:g.I18n.ts("These actions are unavailable via context menu.")+" "+g.I18n.ts("Please use:",{context:"...the following keyboard shortcuts"})}),
f.createElement(La,null,f.createElement(oa,null,f.createElement(p.Headline2,{content:b+"C"})),f.createElement(pa,null,f.createElement(p.Caption,{content:g.I18n.ts("for copy",{context:"as in copy-paste"})}))),f.createElement(Ma,null,f.createElement(oa,null,f.createElement(p.Headline2,{content:b+"V"})),f.createElement(pa,null,f.createElement(p.Caption,{content:g.I18n.ts("for paste",{context:"as in copy-paste"})}))))}}const La=U.div`
	float: left;
	margin: 12px 18px 8px 52px;
	width: 130px;
	height: 67px;
`;La.displayName="LeftShortcutBox";const Ma=U.div`
	float: left;
	margin: 12px 52px 8px 18px;
	width: 130px;
	height: 67px;
`;Ma.displayName="RightShortcutBox";const oa=U.div`
	height: 52px;
	text-align: center;
	margin-left: -2px;
`;oa.displayName="KeyBox";const pa=U.div`
	text-align: center;
`;pa.displayName="CaptionBox";const Ka=U(p.Body2)`
	padding: 0px 24px 0px 24px;
`;Ka.displayName="CPDialogBodyText";const Ja=U(p.NormalButton)`
	margin-right: 20px;
`;Ja.displayName="CPDialogOkButton";var qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.EditorStoreBuses=class{constructor(a){this.editorStore=a;this.changeModeBus=h.Bacon.newBus();this.editorStore.addChangeModeActionStream(this.changeModeBus);this.openSidebarBus=h.Bacon.newBus();this.editorStore.addOpenSidebarIdStream(this.openSidebarBus);this.openDialogPropsBus=h.Bacon.newBus();this.editorStore.addOpenedDialogPropsStream(this.openDialogPropsBus);this.openTabBus=h.Bacon.newBus();this.editorStore.addOpenTabMenuIdStream(this.openTabBus);
this.uiComponentFocusBus=h.Bacon.newBus();this.editorStore.addComponentFocusStream(this.uiComponentFocusBus);this.saveTypeBus=h.Bacon.newBus();this.editorStore.addSaveTypeStream(this.saveTypeBus)}};var ra={};Object.defineProperty(ra,"__esModule",{value:!0});const qb=({buttonText:a,contentText:b,onClick:c})=>{var e={fontSize:"13px",fontWeight:500,fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",letterSpacing:"0.5px",textAlign:"center",borderRadius:3,border:"solid 1px #ececec",minHeight:30};
return f.createElement("div",{style:{display:"flex",margin:12}},f.createElement("div",{style:{width:250,fontSize:"13px",fontWeight:500,fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",letterSpacing:"0.5px",textAlign:"left",marginRight:12}},b),a&&c&&f.createElement(v.KoiWidgets.Button,{text:a,style:e,onClick:c}))};ra.CustomStartingPointDecoratorPopup=class extends f.PureComponent{constructor(){super(...arguments);this.simplePopupCss={popup:{background:"rgb(21, 34, 53)",color:"#fff"},content:{background:"rgb(21, 34, 53)",
color:"#fff"},pointer:{background:"rgb(21, 34, 53)",color:"#fff"}};this.zoomToStartingPoint=(a)=>()=>{this.props.callbacks.zoomToStartingPoint(a)}}render(){if(!this.props.open)return null;const a=document.getElementById("canvas-custom-starting-point-decorator");if(null==a)return null;var b=a.getAttribute("data-starting-point-id"),c=a.getAttribute("data-position");if(null==b)return null;var e=this.props.customStartingPointIsTopic(b);switch(c){case "onCurrentTopic":b={contentText:g.I18n.ts("Your presentation will start from here.")};
c="BOTTOM";e={x:0,y:12};break;case "onEntity":b={contentText:g.I18n.ts("Your presentation will start from here.")};c="RIGHT";e={x:12,y:0};break;case "onParent":b={buttonText:g.I18n.ts("Zoom in"),contentText:e?g.I18n.ts("There is a topic inside, set as the presentation starting point."):g.I18n.ts("There is an animation inside, set as the presentation starting point."),onClick:this.zoomToStartingPoint(b)};c="RIGHT";e={x:12,y:0};break;default:return null}return f.createElement(v.KoiWidgets.SimplePopup,
{open:this.props.open,anchor:a,styles:this.simplePopupCss,orientation:c,offset:e,allowFlipSide:!0},f.createElement(qb,Object.assign({},b)))}};var ba={logErrorData:function(a,b){{let a={};"number"===typeof b.errorCase?a=Object.assign({error_case:J.EditorErrorCase[b.errorCase]},b.parameters):a.error=b.message||b.data&&b.data.toString()||null;b=a}a.info({action:"show",object:"error_dialog",trigger:"machine",payload:b})}};Object.defineProperty(ba,"__esModule",{value:!0});ba.ErrorUI=class extends f.Component{constructor(a){super(a);
this.state={showDetails:!1}}close(){this.setState({showDetails:!1});this.props.onClose()}setShowDetails(a){this.setState({showDetails:a})}componentWillReceiveProps(a){this.props.error!==a.error&&this.setState({showDetails:!1})}generateContentFromEditorError(a,b,c){a=J.ErrorDefinitions.getErrorDialogContent(a);return this.generateContentFromErrorDialogContent(a,b,c)}generateContentFromErrorBase(a,b,c){a=J.ErrorDefinitions.getFallbackErrorDialogContent(a);return this.generateContentFromErrorDialogContent(a,
b,c)}generateContentFromErrorDialogContent(a,b,c){const e=[];for(const b of a.explanationTemplate.split("\n"))0<e.length&&e.push(f.createElement("br",null)),e.push(b);b=f.createElement("div",{className:"error-ui-body"},f.createElement("div",{className:"error-ui-explanation-row"},f.createElement("div",{className:"error-ui-icon"},f.createElement("i",{className:"icon-warning"})),f.createElement("div",{className:"error-ui-explanation"},f.createElement("div",null,e,f.createElement(v.KoiWidgets.Conditional,
{condition:!!a.moreInfoLinkHref},f.createElement("a",{className:"error-ui-explanation-link",href:a.moreInfoLinkHref,target:"_blank"},a.moreInfoLinkText))))),f.createElement(v.KoiWidgets.Conditional,{condition:!!a.errorId},this.renderDetails(a,b,c)));return{title:a.titleTemplate,body:b}}renderDetails(a,b,c){return f.createElement("div",{className:"error-ui-details"},f.createElement("div",{className:"error-ui-detail-handle"},f.createElement("a",{href:"#",onClick:(a)=>{c(!b);a.preventDefault()}},f.createElement("i",
{className:b?"icon-arrow-down2":"icon-arrow-right"}),f.createElement("span",null,g.I18n.ts("Technical information")))),f.createElement(v.KoiWidgets.Conditional,{condition:b},f.createElement("div",{className:"error-ui-detail-text"},g.I18n.tsFormat("Error code: {}",a.errorId))))}render(){if(this.props.error){var a=this.props.error;let b;b="number"===typeof a.errorCase?this.generateContentFromEditorError(a,this.state.showDetails,this.setShowDetails.bind(this)):this.generateContentFromErrorBase(this.props.error,
this.state.showDetails,this.setShowDetails.bind(this));a=!0===a.unclosable?[]:[{text:g.I18n.ts("Close")}];return f.createElement(v.KoiWidgets.Modal,{title:b.title,body:b.body,onAnswer:()=>this.close(),actions:a,visible:!0})}return null}};var ca={},Na=this&&ca.__awaiter||function(a,b,c,e){function m(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,d){function u(a){try{g(e.next(a))}catch(S){d(S)}}function D(a){try{g(e["throw"](a))}catch(S){d(S)}}function g(a){a.done?
c(a.value):m(a.value).then(u,D)}g((e=e.apply(a,b||[])).next())})};Object.defineProperty(ca,"__esModule",{value:!0});var rb=f.Component;ca.EditorUIComponent=class extends rb{constructor(){super(...arguments);this.logHelper=d.AppUtilsModule.getLogHelperUtils();this.errorUI=f.createFactory(ba.ErrorUI);this.pushNotificationController=null;this.state={contextMenuState:null,currentTopic:null,enableRedo:!1,enableUndo:!1,canvasHoveredEntityIds:null,uiHoveredEntityIds:null,canvasEditedEntityIds:[],propertyBarProps:null,
audioState:null,mode:{kind:d.EditorMode.edit},openedPopupId_KILLME:"",featurePreviewModeWithSaveDisabled:!1,isStorylineVisible:!0,openedSidebarId:null,openedDialogProps:{kind:k.DialogKind.None},saveState:I.SaveState.saved,coeditStatus:Q.CoeditStatus.uninitialized,coeditOfflineOnlineSwitchStatus:{kind:"NoSyncInProgress"},networkStatus:0,saveAvailabilityStatus:Q.SaveAvailabilityStatus.enabled,isEditingSessionClosed:!1,selectionInfo:B.emptySelectionInfo(),textSelectionState:null,userHasEditRights:!1,
userHasCommentRights:!1,userHasPresentRights:!1,isFullscreen:!1,isOnboarding:!1,css:"",indexAdded:null,mediaLoadingError:!1,loadingOverlay:!1,preziXml:this.props.preziXml,preziXmlStamp:null,showSupportBackButton:!1,aspectRatio:"",templateData:{templateId:null,themeId:null},title:this.props.title,shareService:null,startRendering:!1,onboardingNotificationVisible:!1,editScene:null,startEditingController:null,templatePreviewController:null,templatePreviewCetController:null,templateService:null,thumbnailService:null,
xmlLoaderCallback:null,error:null,followerState:null,presenterState:null,coverEditMode:null,invariantError:null,globalException:null,hiddenBetaEndingNotification:!1,commentingStateVersion:null,shownOnboardingStep:null,supportWidgetState:null,onboardingController:null,isBgUploadInProgress:!1,navbarFullyVisible:!1,xmlEditorSection:null,codeSnippetEditorSidebarSection:null,styleEditorSection:null,zobjectEditor:null,showJiraCollectorDialog:()=>{},copyPasteInfoDialog:null,spellcheckStatus:"NOT_INITIALIZED",
codeSnippetEditorOpen:!1,openTabMenuId:null,userLicenseInformation:null,privacyPaywallEditorSection:null}}render(){this.updateForcer=null;if(!this.state.startRendering||(this.state.mode.kind===d.EditorMode.playback||this.state.mode.kind===d.EditorMode.view)&&this.state.isFullscreen)return null;const a=[f.createElement("div",{id:"error-ui",style:{pointerEvents:null!=this.state.error?"auto":"none"}},this.errorUI({error:this.state.error,onClose:()=>{this.setState({error:null})}}))];var b=this.state.openedDialogProps,
c=this.props.playerUI.getOptions(),e=null;switch(b.kind){case k.DialogKind.None:break;case k.DialogKind.Builtin:if(b.id===k.BuiltinDialog.contactSalesCommenting)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_comment/"});else if(b.id===k.BuiltinDialog.upgradeLicenseInsertVideo)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_video_upload/"});else if(b.id===
k.BuiltinDialog.upgradeLicenseLivePrezi)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_remote_present/"});else if(b.id===k.BuiltinDialog.upgradeLicensePresenterView)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_presenter_view/"});else if(b.id===k.BuiltinDialog.upgradeLicenseInsertChart)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",
targetUrl:"/upgrade/embedded/features/pitch_edit_charts/"});else if(b.id===k.BuiltinDialog.upgradeLicenseInsertAudio)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_audio_upload/"});else if(b.id===k.BuiltinDialog.upgradeLicenseShareViewLink)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_analytics/"});else if(b.id===k.BuiltinDialog.upgradeLicenseIconSearch)e=
v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_icon_search/"});else if(b.id===k.BuiltinDialog.upgradeLicenseImageSearch)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_image_search/"});else if(b.id===k.BuiltinDialog.upgradeLicenseNoWatermark)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_no_watermark/"});
else if(b.id===k.BuiltinDialog.upgradeLicenseCustomLogo)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_custom_logo/"});else if(b.id===k.BuiltinDialog.upgradeLicenseStoryblocks)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_storyblocks/"});else if(b.id===k.BuiltinDialog.upgradeLicenseScheme)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",
targetUrl:"/upgrade/embedded/features/pitch_custom_schemes/"});else if(b.id===k.BuiltinDialog.upgradeLicenseTextScheme)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_text_schemes/"});else if(b.id===k.BuiltinDialog.upgradeLicenseMaster)e=v.KoiWidgetsModule.getWidgetFactory().iframeModal({className:"upgrade-licence",targetUrl:"/upgrade/embedded/features/pitch_master/"});else if(b.id===k.BuiltinDialog.shareDialogViewLinks){const {analyticsEnabled:a,
pitchPrivacyPrivate:b,unlimitedViewlinks:d}=this.state.userLicenseInformation;e=sharedialog.ShareDialogComponentFactory({openDialog:"viewlinks",dialogClosed:()=>{this.props.visibleElementsController.toggleBuiltinDialog(k.BuiltinDialog.shareDialogViewLinks)},openPaywallPanel:()=>{this.props.visibleElementsController.toggleBuiltinDialog(k.BuiltinDialog.shareDialogViewLinks);this.props.visibleElementsController.toggleBuiltinDialog(k.BuiltinDialog.upgradeLicenseShareViewLink)},metaData:{preziOid:c.preziId,
preziTitle:this.state.title,preziIsMine:c.userId===c.ownerId.toString(10),currentUserId:c.userId,currentUserEmail:c.email,unlimitedViewlinks:d,analyticsEnabled:a,privatePrezisEnabled:b,orgId:c.orgId,isTeamSharingFeatureEnabled:c.isTeamSharingFeatureEnabled,source:"editor"}})}else if(b.id===k.BuiltinDialog.shareDialogCollaborators){const {analyticsEnabled:a,pitchPrivacyPrivate:b,unlimitedViewlinks:d}=this.state.userLicenseInformation;e=sharedialog.ShareDialogComponentFactory({openDialog:"collaborators",
dialogClosed:()=>{this.props.visibleElementsController.toggleBuiltinDialog(k.BuiltinDialog.shareDialogCollaborators)},metaData:{preziOid:c.preziId,preziTitle:this.state.title,preziIsMine:c.userId===c.ownerId.toString(10),currentUserId:c.userId,currentUserEmail:c.email,unlimitedViewlinks:d,analyticsEnabled:a,privatePrezisEnabled:b,orgId:c.orgId,isTeamSharingFeatureEnabled:c.isTeamSharingFeatureEnabled,source:"editor"}})}else b.id===k.BuiltinDialog.presenterViewDesktopDownload?e=Ha.PresenterViewModule.createPresenterViewDesktopDownloadModal({onModalClose:()=>
this.props.visibleElementsController.toggleBuiltinDialog(k.BuiltinDialog.presenterViewDesktopDownload)}):b.id===k.BuiltinDialog.privacyPaywallWarning&&(e=this.state.privacyPaywallEditorSection.createPrivacyPaywallWarning(()=>this.props.visibleElementsController.closeDialogs()));break;case k.DialogKind.Custom:e=null;break;default:throw Error(b);}a.push(f.createElement("div",{id:"modal-ui","data-prezi-input":""},null==e?null:f.createElement(ha.CSSTransition,{classNames:"overlayAnimation",timeout:{enter:p.DialogAnimationTime,
exit:p.DialogAnimationTime}},e)));b=H.TabbedTopMenuMode.NORMAL;if(this.state.mode.kind===d.EditorMode.templateChooser)y.isActive("js-load-instant-template-chooser")&&null!=this.state.templatePreviewController&&null!=this.state.templateService&&(b=this.state.templateService.getTemplateWorkflowMode(c.simplifiedTemplateChooser,this.props.playerUI.getOptions().pptRegistration),a.push(f.createElement(ib.TemplateChooserUI,{templateService:this.state.templateService,templatePreviewController:this.state.templatePreviewController,
templatePreviewCetController:this.state.templatePreviewCetController,startEditingController:this.state.startEditingController,pushNotificationController:this.getPushNotificationController(),privacyPaywallEnabled:c.privacyPaywallEnabled,ppwUpgradeToEduPlusEnabled:c.ppwUpgradeToEduPlusEnabled,simplifiedTemplateChooser:c.simplifiedTemplateChooser,onlyTutorialCompatibleTemplates:c.onlyTutorialCompatibleTemplates,workflow:b,hostname:this.props.playerUI.getOptions().hostName,templateListKey:""})));else if(this.props.isFollower)a.push(this.props.followerController.createOverlay(this.state.followerState));
else if(this.props.isEditingEnabled){a.push(this.props.propertyBarSection.createPropertyBar(this.state,this.state.editScene,this.props.commentingController,!0,this.props.visibleElementsController.openedPopupIds()));c=null;this.state.mode.kind!==d.EditorMode.edit&&this.state.mode.kind!==d.EditorMode.animationPreview||!this.state.isStorylineVisible||null!=this.props.getEditMode()&&(c=f.createElement(p.LeftSidebarRootContainer,{key:"left-sidebar-container",id:"left-sidebar-container"},this.props.getEditMode().getApplicationController().renderLeftSidebar(this.props.visibleElementsController.openedPopupIds())));
e=null;if(this.state.mode.kind!==d.EditorMode.playback)switch(this.state.openedSidebarId){case M.Sidebar.STYLEEDITOR_ID:y.isActive("js-developer-features")&&null!=this.state.styleEditorSection&&(e=this.state.styleEditorSection.createStyleEditorSidebar(this.state,this.props.visibleElementsController,()=>{this.setState({css:this.state.editScene?this.state.editScene.getStyleDefinition():"",preziXmlStamp:this.props.playerUI.getCet().getDocumentStamp()})}));break;case M.Sidebar.XMLEDITOR_ID:y.isActive("js-developer-features")&&
null!=this.state.xmlEditorSection&&(e=this.state.xmlEditorSection.createXmlEditorSidebar(this.state,this.props.visibleElementsController,()=>{this.setState({preziXml:this.state.editScene?this.state.editScene.getPreziXml():"",preziXmlStamp:this.props.playerUI.getCet().getDocumentStamp()})},(a)=>{this.state.xmlLoaderCallback(a)}));break;default:null!=this.state.openedSidebarId&&null!=this.props.getEditMode()&&(e=f.createElement(p.SidebarRootContainer,{key:this.state.openedSidebarId},this.props.getEditMode().getApplicationController().renderSidebar(this.state.openedSidebarId,
this.props.visibleElementsController.openedPopupIds())))}y.isActive("js-developer-features")&&null!=this.state.codeSnippetEditorSidebarSection&&a.push(this.state.codeSnippetEditorSidebarSection.createCodeSnippetEditorSidebar(this.state,this.props.visibleElementsController,(a)=>Na(this,void 0,void 0,function*(){var b=gb.MediaServiceModule.createMediaService(this.props.externalServiceProvider.mediaUploadProvider,this.props.externalServiceProvider.assetLoaderProvider,this.props.externalServiceProvider);
b=w.base.temp_createSession(this.props.playerUI.getCet(),this.props.externalServiceProvider.assetLoaderProvider,b,this.props.playerUI.getCet().getMainStage().getRenderer().getAssetManager(),this.state.editScene,{getPreziSaver:()=>null},this.props.playerUI.getCet().getMediaAssetPatcher(),this.props.playerUI.getCet());yield a(b,this.state.currentTopic,this.state.selectionInfo.allEntityIds)}),(a)=>Na(this,void 0,void 0,function*(){yield a(this.props.getEditMode().getApplicationController())})));a.push(null==
e?null:f.createElement(ha.CSSTransition,{classNames:"sidebar",timeout:{enter:p.SidebarAnimationTime,exit:p.SidebarAnimationTime}},e));a.push(null==c?null:f.createElement(ha.CSSTransition,{classNames:"storyline-sidebar",timeout:{enter:300,exit:300}},c));a.push(this.props.contextMenuSection.createContextMenu(this.state,this.props.visibleElementsController));a.push(this.props.globalNotificationSection.createGlobalNotificationContainer(this.state,this.props));a.push(this.props.ribbonSection.createRibbonContainer(this.state,
this.props));null!=this.state.editScene&&a.push(this.props.topMenuSection.createTopMenu(this.state,this.state.editScene,w.CetModelEditor.usesChaptersOnOverview(this.state.editScene),this.props.commentingController,this.props.commentingSection,this.props.coeditUISection,this.state.presenterState,z.Cet.createEditorPath(this.state.editScene).hasCustomStartPoint(),this.isLivePreziButtonForceEnabled(),b));a.push(this.props.commentingSection.createThreadBoxPopupCollection(this.state.openedPopupId_KILLME,
this.state.coeditStatus,this.state.networkStatus));a.push(f.createElement(ra.CustomStartingPointDecoratorPopup,{open:this.props.visibleElementsController.isPopupOpen(l.VisibleElementsControllerImpl.CUSTOM_STARTING_POINT_DECORATOR_POPUP),customStartingPointIsTopic:(a)=>{a=w.CetModelEditor.createTopicQuery(this.state.editScene).getTopicKind(a);return a===w.TopicKind.Planet||a===w.TopicKind.Stack||a===w.TopicKind.Page},callbacks:{zoomToStartingPoint:(a)=>{this.props.visibleElementsController.closePopups();
this.props.playerUI.getPlayback().flyToObject(a)}}}))}else this.props.isCommentingEnabled?(a.push(this.props.commentingSection.createThreadBoxPopupCollection(this.state.openedPopupId_KILLME,this.state.coeditStatus,this.state.networkStatus)),null!=this.state.editScene&&a.push(this.props.topMenuSection.createTopMenu(this.state,this.state.editScene,w.CetModelEditor.usesChaptersOnOverview(this.state.editScene),this.props.commentingController,this.props.commentingSection,this.props.coeditUISection,this.state.presenterState,
z.Cet.createEditorPath(this.state.editScene).hasCustomStartPoint(),this.isLivePreziButtonForceEnabled(),b)),a.push(this.props.contextMenuSection.createContextMenu(this.state,this.props.visibleElementsController))):(a.push(this.props.contextMenuSection.createContextMenu(this.state,this.props.visibleElementsController)),a.push(this.props.globalNotificationSection.createGlobalNotificationContainer(this.state,this.props)),this.props.playerUI.isLoggedIn()&&a.push(this.props.topMenuSection.createTopMenu(this.state,
this.state.editScene,w.CetModelEditor.usesChaptersOnOverview(this.state.editScene),this.props.commentingController,this.props.commentingSection,this.props.coeditUISection,this.state.presenterState,z.Cet.createEditorPath(this.state.editScene).hasCustomStartPoint(),this.isLivePreziButtonForceEnabled())));null!=this.props.presenterController&&a.push(this.createPresenterStartPopup(this.state.presenterState));if(this.state.mode.kind===d.EditorMode.edit||this.state.mode.kind===d.EditorMode.animationPreview)a.push(this.props.editorOnboardingController.createSupportWidget(this.state.supportWidgetState,
this.state.openedSidebarId)),a.push(this.props.editorOnboardingController.createHelpTooltip(this.state.supportWidgetState,this.state.openedSidebarId,this.state.openedDialogProps.kind!==k.DialogKind.None));a.push(this.props.multiProductOnboarding.createOnboardingVideoPopup());return f.createElement("div",{className:"koi-editor-ui",onWheel:(a)=>this.onWheelEditorUI(a)},...a)}isLivePreziButtonForceEnabled(){return"desktop"===this.props.externalServiceType&&this.props.playerUI.getOptions().startInLivePreziMode&&
!this.props.isEditingEnabled&&!this.props.isCommentingEnabled}componentDidMount(){this.unsubscribeStateChangeBusKillMe=this.props.stateChangeBusKillMe.onValue((a)=>{this.setState(a)});this.unsubscribeForceUpdate=this.props.forceUpdate.onValue(()=>{null==this.updateForcer&&(this.updateForcer=R.Utils.callAtEndOfFrame(()=>{this.forceUpdate()}))})}componentWillUnmount(){this.unsubscribeStateChangeBusKillMe();this.unsubscribeForceUpdate()}componentDidUpdate(){this.props.renderedUIStateChangeListener()}onWheelEditorUI(a){a.ctrlKey&&
(a.preventDefault(),a.stopPropagation())}createPresenterStartPopup(a){return this.props.presenterController.createStartPopup(a,this.state.openedPopupId_KILLME===l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID,()=>{this.props.visibleElementsController.togglePopup(l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID,null,{editor_mode:this.logHelper.editorModeToString()})})}getPushNotificationController(){null===this.pushNotificationController&&(this.pushNotificationController=
E.EditorControllerModule.createPushNotificationController(fb.DataServiceModule.createUserSettingsStore(this.props.externalServiceProvider)));return this.pushNotificationController}};var P={};Object.defineProperty(P,"__esModule",{value:!0});var sa;(function(a){a[a.BetaEnding=0]="BetaEnding";a[a.ExceptionUIClose=1]="ExceptionUIClose"})(sa=P.GlobalNotificationId||(P.GlobalNotificationId={}));class sb{constructor(a){this.widgetFactory=v.KoiWidgetsModule.getWidgetFactory();this.closeNotificationBus=h.Bacon.newBus();
this.meetingMemberController=a}isConnectionLost(a,b){return(b.isFollower?a.followerState:a.presenterState).connection===Z.ConnectionStatus.Lost}hasReconnected(a,b){return(b.isFollower?a.followerState:a.presenterState).connection===Z.ConnectionStatus.Established}isConnectionTerminated(a,b){return(b.isFollower?a.followerState:a.presenterState).connection===Z.ConnectionStatus.Terminated}createGlobalNotificationContainer(a,b){return null!=a.globalException?this.widgetFactory.globalNotification({className:"ui-top-error-notification",
message:`${a.globalException}:check the logs`,closable:!0,closeCallback:()=>{this.closeNotificationBus.push(sa.ExceptionUIClose)},level:v.GlobalNotificationLevel.DebugError}):null!=a.invariantError?this.widgetFactory.globalNotification({className:"ui-top-error-notification",message:a.invariantError,level:v.GlobalNotificationLevel.DebugError}):a.mode.kind!==d.EditorMode.view&&a.mode.kind!==d.EditorMode.playback||!a.isFullscreen?this.isConnectionLost(a,b)?this.widgetFactory.globalNotification({className:"ui-top-error-notification",
message:g.I18n.ts("Connection lost. You can\u2019t use Live Prezi while offline."),level:v.GlobalNotificationLevel.Error,actionMessage:g.I18n.ts("Retry now?"),actionCallback:()=>{this.meetingMemberController.manualReconnect()}}):this.hasReconnected(a,b)?this.widgetFactory.globalNotification({className:"ui-top-error-notification",message:g.I18n.ts("You are back online."),level:v.GlobalNotificationLevel.Ok}):this.isConnectionTerminated(a,b)?this.widgetFactory.globalNotification({className:"ui-top-error-notification",
message:g.I18n.ts("We couldn\u2019t reconnect you to the Internet. Refresh your page to try again."),level:v.GlobalNotificationLevel.Error}):a.saveState===I.SaveState.errorExternalEdit?this.widgetFactory.globalNotification({className:"ui-top-error-notification",message:g.I18n.ts("Your changes cannot be saved. Please reload your prezi."),level:v.GlobalNotificationLevel.Error}):a.mediaLoadingError&&a.mode.kind===d.EditorMode.edit?this.widgetFactory.globalNotification({className:"ui-top-error-notification",
message:g.I18n.ts("Some media files couldn\u2019t be loaded in the prezi!"),level:v.GlobalNotificationLevel.Error}):a.mode.kind===d.EditorMode.edit&&b.externalServiceProvider.shouldShowEditingWillBeDisabledNotification()&&!y.isActive("js-online-edit")&&y.isActive("js-stop-browser-edit")&&!a.hiddenBetaEndingNotification?this.widgetFactory.globalNotification({className:"ui-top-error-notification",message:"Pitch beta is ending. You won\u2019t be able to edit this prezi after June 23. ",link:"https://prezi.com/support/b-prezi/",
linkmessage:"Click here to learn more.",level:v.GlobalNotificationLevel.Error,closable:!0,closeCallback:()=>{this.closeNotificationBus.push(sa.BetaEnding)}}):this.widgetFactory.globalNotification({className:"ui-top-hidden-notification",message:"",level:v.GlobalNotificationLevel.Hidden}):this.widgetFactory.globalNotification({className:"ui-top-hidden-notification",message:"",level:v.GlobalNotificationLevel.Hidden})}getCloseNotificationStream(){return this.closeNotificationBus}}P.GlobalNotification=
sb;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.InfoLayerManager=class{constructor(){}registerInfoLayerModeStream(a){a.onValue((a)=>{null!=this.setInfoLayerMode&&this.setInfoLayerMode(a)})}registerSetInfoLayerModeCallback(a){this.setInfoLayerMode=a}};var da={};Object.defineProperty(da,"__esModule",{value:!0});da.KeyboardEventMatcherImpl=class{constructor(a){this.isMac=a}matching(a,b){if(null!=b.key&&a.keyCode!==b.key||a.type!==t.KeyboardEventType.KEYDOWN)return!1;var c=b.alt||!1,
e=b.shift||!1,m=this.isMac&&(b.osCmd||!1);return!!a.ctrlKey===(b.ctrl||!this.isMac&&(b.osCmd||!1))&&!!a.altKey===c&&!!a.shiftKey===e&&!!a.metaKey===m}};var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.MouseCursorChangeHandler=class{constructor(){this.cursorToImage={};aa.PreziUAParser.isMac()?(this.cursorToImage[B.MouseCursorShapes.TOPLEFT_ROTATE]="AAACAAEAICAAABAADgCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAKHR0dEoODg1aenp4WAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAADAQEBCJ1dXVv5eXl2/n5+dC7u7sMAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////n////w////4H///8B///+AP///gB///+D////w////8Hv///A5///4GH///AA///4AH///AB///8A////wf///+f////v///////////////////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.TOPRIGHT_ROTATE]="AAACAAEAICAAABAADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIqKihCEhIQgAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC1tbUO/Pz8zfPz88ygoKAkAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUVFRA/j4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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////8////+H////A////wP///4B///8AP///4P///+H////B///zg///wwP//4AH//8AD///AB///4A////B////4/////P//////////////////////////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.BOTTOMRIGHT_ROTATE]="AAACAAEAICAAABAADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////3////5////4P///8A///+AD///gAf//8AD///hgf//+cD///3g////8P////B///+AH///wB///+A////gf///8P////n/////////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.BOTTOMLEFT_ROTATE]="AAACAAEAICAAAA8ADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA///////////////////////////////////////////////////z////8f///+D///8Af//+AD///AA///gAf//wMP//8HP//+D////h////wf///wA///+Af///wP///8D////h////8/////////////////////////////8=), auto"):
(this.cursorToImage[B.MouseCursorShapes.TOPLEFT_ROTATE]="AAACAAEAICAAAA8ADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFEAAAAuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA2BQUFnQMDA9EAAAA7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAMDA4pgYGDxoqKi8gMDA+0AAAAqAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////8////+H////g////wH///4A///8AH///4f////D////w+///8Hn///g4///8CH///AA///8AH///gB////A////4////+f////v///////////////////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.TOPRIGHT_ROTATE]="AAACAAEAICAAABAADwCoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAAAEEAAAASAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAA7AwMD0QUFBZ0AAAAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKgMD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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAgICeE5OTvGoqKjvIiIisAAAADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAQEBagwMDOkICAi8AAAALAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAXAAAALYAAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAIgAAABsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////8////+H////B////gP///wB///8AP///4f///8P////D///ng///xwf//4QP//8AD//+AD///gB///8D////x////+f////3/////////////////////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.BOTTOMRIGHT_ROTATE]="AAACAAEAICAAABAAEACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////3////5////8f///8D///+AH///gA///8AD///hA///8cH///ng///98P////D////4f///gA///8Af///gP///8H////h////8////////////////////////////8=), auto",
this.cursorToImage[B.MouseCursorShapes.BOTTOMLEFT_ROTATE]="AAACAAEAICAAABAAEACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////v////5////+P////A///+AH///AB///AA///wIf//4OP//8Hn///D////w////4f///wA///+AP///wH///+D////h////8/////////////////////////////8=), auto")}setCursor(a,
b){b=this.cursorToImage[b];$(a).css("cursor",`url(data:image/x-icon;base64,${b}`)}startHandler(a,b){b.getMouseCursorStateStream().onValue((b)=>{b.cursor===B.MouseCursorShapes.TOPLEFT_ROTATE||b.cursor===B.MouseCursorShapes.TOPRIGHT_ROTATE||b.cursor===B.MouseCursorShapes.BOTTOMRIGHT_ROTATE||b.cursor===B.MouseCursorShapes.BOTTOMLEFT_ROTATE?this.setCursor(a,b.cursor):$(a).css("cursor",b.cursor)})}};var va={};Object.defineProperty(va,"__esModule",{value:!0});const tb=(a)=>f.createElement("div",null,a.onboardingSection.createOnboardingUI(a.onboardingController,
a.shownOnboardingStep,a.navbarFullyVisible));va.OnboardingUIContainer=class{constructor(a,b,c){this.containerElement=a;this.onboardingController=c;this.onboardingSection=V.OnboardingModule.createOnboardingSection();this.onboardingController=c;b.getStateStream().map((a)=>({shownOnboardingStep:a.shownOnboardingStep,navbarFullyVisible:a.navbarFullyVisible})).skipDuplicates(R.Utils.deepEquals).onValue((a)=>{this.render(a)})}render(a){fa.render(f.createElement(tb,Object.assign({},{shownOnboardingStep:a.shownOnboardingStep,
navbarFullyVisible:a.navbarFullyVisible,onboardingSection:this.onboardingSection,onboardingController:this.onboardingController})),this.containerElement)}};var Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.PreziStatLogger=class{constructor(a,b,c){this.templateService=a;this.intervalProvider=b;this.scene=c;this.timerHandle=this.refprezi=null;this.logger=n.LoggerModule.getLoggerManager().createLogger("PreziStatLogger")}onTemplateInfoChange(a){null!=a&&null!=a.templateId&&(this.clearTimer(),
this.refprezi=null,w.CetModelEditor.loadTemplateData(this.templateService,a).then((a)=>{let b=a;a.getTopicType()===G.DOM.ENUMS().TOPIC_TYPE().FRAME()&&(b=Va.Converter.convertFromV2ToV2_1(a).getResult());this.refprezi=b;this.preziDomStatCollector=z.Cet.createPreziDOMStatCollector(this.getCurrentPrezi());this.preziDomStatCollector.withRefPrezi(b);this.logStat(!1);this.startTimer()}).catch((b)=>{const c=this.templateService.getTemplateIdFromTemplateInfo(a.templateId,a.themeId);this.logger.warn({action:"prezistatLoadTemplate",
object:"document",trigger:"machine",payload:{message:`Original template of prezi (${c}) not found: ${b}`}});this.refprezi=null;this.preziDomStatCollector=z.Cet.createPreziDOMStatCollector(this.getCurrentPrezi());this.logStat(!1);this.startTimer()}))}clearTimer(){null!=this.timerHandle&&this.intervalProvider.clearInterval(this.timerHandle);this.timerHandle=null}startTimer(){this.timerHandle=this.intervalProvider.setInterval(()=>{this.logStat(!0)},Y.PreziStatLogger.LOG_INTERVAL)}forceLogForTest(){null!=
this.timerHandle&&this.logStat(!1)}logStat(a){a=this.collectStat(a);this.logger.info({action:"prezistat",object:"document",trigger:"machine",payload:a})}getCurrentPrezi(){return this.scene.getPrezi().getUntypedComponent(z.Cet.getPdomCompKey()).getPdomObject().freeze()}collectStat(a){a&&this.preziDomStatCollector.withOtherPrezi(this.getCurrentPrezi());a=this.preziDomStatCollector.getAvgCoverTypeCountsPerLevel(2);const b=this.preziDomStatCollector.getAvgVisualTypeCountsPerLevel(2);if(null!=this.refprezi){var c=
this.preziDomStatCollector.getAvgTopicCoverStructureDistance(2);var e=this.preziDomStatCollector.getAvgTopicVisualStructureDistance(2);c={template_found:!0,bg_asset_cust:this.preziDomStatCollector.getBackgroundAssetDistance(),bg_style_cust:this.preziDomStatCollector.getBackgroundStyleDistance(),l0_cov_struct_cust:c[0],l0_vis_struct_cust:e[0],l1_cov_struct_cust:c[1],l1_vis_struct_cust:e[1],l2_cov_struct_cust:c[2],l2_vis_struct_cust:e[2]}}else c={template_found:!1,bg_asset_cust:0,bg_style_cust:0,l0_cov_struct_cust:0,
l0_vis_struct_cust:0,l1_cov_struct_cust:0,l1_vis_struct_cust:0,l2_cov_struct_cust:0,l2_vis_struct_cust:0};e={img:G.ZObjectType.Z_IMAGE,pdf:G.ZObjectType.Z_PDF,shape:G.ZObjectType.Z_SHAPE,text:G.ZObjectType.Z_TEXT};for(let m=0;2>=m;m++){for(let d in e)e.hasOwnProperty(d)&&(c[`l${m}_${d}_cov_avg`]=a[e[d]][m],c[`l${m}_${d}_vis_avg`]=b[e[d]][m]);c[`l${m}_line_cov_avg`]=a[G.ZObjectType.Z_LINE][m]+a[G.ZObjectType.Z_ARROW][m];c[`l${m}_line_vis_avg`]=b[G.ZObjectType.Z_LINE][m]+b[G.ZObjectType.Z_ARROW][m]}$.extend(c,
this.preziDomStatCollector.collectBasicStats());return c}};Y.PreziStatLogger.LOG_INTERVAL=18E4;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});const {default:ub}=Fa,vb=ub.div`
	position: absolute;
	transition: top 0.2s ease-in-out;
	top: ${(a)=>a.hidden?"8px":"48px"};
	width: 100%;
`;wa.PropertyBarSection=class{constructor(a,b,c){this.visibleElementsController=a;this.basicEditController=b;this.editorStore=c;this.undoCallback=()=>{this.basicEditController.undo(E.UndoRedoRequestTrigger.button)};this.toggleLeftSidebarCallback=()=>{this.editorStore.setStorylineVisible(!this.editorStore.isStorylineVisible())};this.redoCallback=()=>{this.basicEditController.redo(E.UndoRedoRequestTrigger.button)};this.openCommentsCallback=()=>{n.avro.Avro.createDefaultLogger().logClickPropertyBar({property_item:"ANY"});
this.addCommentStream.push()};this.logger=n.LoggerModule.getLoggerManager().createLogger("PropertyBarSection");this.addCommentStream=h.Bacon.newVoidBus()}createPropertyBar(a,b,c,e,m){if(null==b)return null;if(a.mode.kind===d.EditorMode.templateChooser)return f.createElement("div",null);b=null==this.applicationController?[]:this.applicationController.getPropertyBarItems().filter((a)=>a.parent===W.PropertyBarId.Left).sort((a,b)=>a.weight-b.weight);e=null==this.applicationController?[]:this.applicationController.getPropertyBarItems().filter((a)=>
a.parent===W.PropertyBarId.Right).sort((a,b)=>a.weight-b.weight);return f.createElement(vb,{hidden:a.mode.kind===d.EditorMode.playback},f.createElement(p.PropertyBar,{paddingLeft:a.isStorylineVisible?p.leftSidebarWidth:0,paddingRight:null!=a.openedSidebarId?p.sidebarWidth:0,leftChildren:[...this.createLeftBlock(a),...b],rightChildren:[...e,...this.createRightBlock(c.isCommentingEnabled())],openedPopupIds:m,onMoreClick:this.visibleElementsController.togglePopup,currentScrollIntoViewIds:this.applicationController.getCurrentScrollIntoViewIds()}))}createRightBlock(a){let b=
[];a&&b.push({id:"PROPERTY_BAR_COMMENT_BUTTON",createReactElement:()=>f.createElement(p.NormalButton,{id:"PROPERTY_BAR_COMMENT_BUTTON",onClick:this.openCommentsCallback,key:"PROPERTY_BAR_COMMENT_BUTTON",disabled:!1,tooltipText:g.I18n.ts("Add comment..."),content:{icon:W.IconSmallId.Comment},buttonColor:p.ExtendedButtonColor.Transparent,size:p.ExtendedButtonSize.PropertyBar})});a=[];for(let c=0;c<b.length;c++)a.push(b[c]),c<b.length-1&&a.push({id:`sep-${c}`,createReactElement:()=>f.createElement(p.PropertyBarSeparator,
{size:p.PropertyBarSeparatorSize.Large,id:`sep-${c}`,key:`sep-${c}`}),isPropertyBarSeparator:!0});return a}createLeftBlock(a){let b=[];y.isActive("js-allow-hide-timeline")&&b.push({id:"propertybar-storyline-button",createReactElement:()=>f.createElement(p.NormalButton,{id:"propertybar-storyline-button",onClick:this.toggleLeftSidebarCallback,key:"propertybar-storyline-button",disabled:!1,content:{icon:this.editorStore.isStorylineVisible()?W.IconSmallId.ChevronLeft:W.IconSmallId.ChevronRight},buttonColor:p.ExtendedButtonColor.Transparent,
size:p.ExtendedButtonSize.PropertyBar})});b.push({id:"propertybar-undo-button",createReactElement:()=>f.createElement(p.NormalButton,{id:"propertybar-undo-button",onClick:this.undoCallback,key:"propertybar-undo-button",disabled:!a.enableUndo,tooltipText:g.I18n.ts("Undo"),content:{text:g.I18n.ts("Undo")},buttonColor:p.ExtendedButtonColor.Transparent,size:p.ExtendedButtonSize.PropertyBar})});a.enableRedo&&(b.push({id:"undo-redo-separator",createReactElement:()=>f.createElement(p.PropertyBarSeparator,
{id:"undo-redo-mid-separator",size:p.PropertyBarSeparatorSize.Small,key:"undo-redo-mid-separator"}),isPropertyBarSeparator:!0}),b.push({id:"propertybar-redo-button",createReactElement:()=>f.createElement(p.NormalButton,{id:"propertybar-redo-button",onClick:this.redoCallback,key:"propertybar-redo-button",disabled:!1,tooltipText:g.I18n.ts("Redo"),content:{text:g.I18n.ts("Redo")},buttonColor:p.ExtendedButtonColor.Transparent,size:p.ExtendedButtonSize.PropertyBar})}));b.push({id:"undo-redo-separator",
createReactElement:()=>f.createElement(p.PropertyBarSeparator,{id:"undo-redo-separator",size:p.PropertyBarSeparatorSize.Large,key:"undo-redo-separator"}),isPropertyBarSeparator:!0});return b}setApplicationController(a){this.applicationController=a}getAddCommentStream(){return this.addCommentStream}};var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.RibbonSection=class{constructor(){this.widgetFactory=v.KoiWidgetsModule.getWidgetFactory()}createRibbonContainer(){return this.widgetFactory.ribbon({className:"hidden",
message:""})}};var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.ShortcutDefinitions=class{constructor(a){this.keyboardEventMatcher=a;this.COPY={action:t.ShortcutAction.COPY,filter:this.composeFilters([this.getEventFilter([{key:t.Key.C,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit}])])};this.CUT={action:t.ShortcutAction.CUT,filter:this.composeFilters([this.getEventFilter([{key:t.Key.X,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit}])])};
this.GO_TO_EDIT_MODE={action:t.ShortcutAction.GO_TO_EDIT_MODE,filter:this.composeFilters([this.getEventFilter([{key:t.Key.ESC,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{userHasEditRights:!0}]),this.getStateFilter([{mode:d.EditorMode.playback},{mode:d.EditorMode.view}])]),preventDefault:!0};this.PASTE={action:t.ShortcutAction.PASTE,filter:this.composeFilters([this.getEventFilter([{key:t.Key.V,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit}])])};
this.POPUP_CLOSE={action:t.ShortcutAction.POPUP_CLOSE,filter:this.composeFilters([this.getEventFilter([{key:t.Key.ESC,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{componentFocusModes:[F.ComponentFocusMode.none,F.ComponentFocusMode.canvas,F.ComponentFocusMode.ui,F.ComponentFocusMode.textEditor]}])]),preventDefault:!0};this.SAVE={action:t.ShortcutAction.SAVE,filter:this.getEventFilter([{key:t.Key.S,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}])};this.SELECT_ALL={action:t.ShortcutAction.SELECT_ALL,
filter:this.composeFilters([this.getEventFilter([{key:t.Key.A,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit,componentFocusModes:[F.ComponentFocusMode.none,F.ComponentFocusMode.canvas,F.ComponentFocusMode.textEditor]}])])};this.UNDO={action:t.ShortcutAction.UNDO,filter:this.composeFilters([this.getEventFilter([{key:t.Key.Z,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit}])])};this.REDO={action:t.ShortcutAction.REDO,
filter:this.composeFilters([this.getEventFilter([{key:t.Key.Y,osCmd:!0,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit}])])};this.STOP_COVEREDITING={action:t.ShortcutAction.STOP_COVEREDITING,filter:this.composeFilters([this.getEventFilter([{key:t.Key.ESC,type:t.KeyboardEventType.KEYDOWN}]),this.getStateFilter([{mode:d.EditorMode.edit,componentFocusModes:[F.ComponentFocusMode.none,F.ComponentFocusMode.canvas]}])]),preventDefault:!0};this.START_COVEREDITING={action:t.ShortcutAction.START_COVEREDITING,
filter:this.composeFilters([this.getEventFilter([{key:t.Key.E,type:t.KeyboardEventType.KEYDOWN,osCmd:!0}]),this.getStateFilter([{mode:d.EditorMode.edit,componentFocusModes:[F.ComponentFocusMode.none,F.ComponentFocusMode.canvas]}])]),preventDefault:!0};this.CUSTOM={action:t.ShortcutAction.CUSTOM,filter:()=>!0}}getDefinitions(){return[this.COPY,this.CUT,this.GO_TO_EDIT_MODE,this.PASTE,this.POPUP_CLOSE,this.REDO,this.SAVE,this.SELECT_ALL,this.STOP_COVEREDITING,this.START_COVEREDITING,this.UNDO,this.CUSTOM]}composeFilters(a){return(b,
c)=>a.every((a)=>a(b,c))}getEventFilter(a){return(b,c)=>a.some((a)=>this.keyboardEventMatcher.matching(c,a))}getStateFilter(a){return(b)=>a.some((a)=>a.componentFocusModes&&0>a.componentFocusModes.indexOf(b.componentFocusMode)||a.mode&&a.mode!==b.mode.kind||void 0!==a.userHasEditRights&&a.userHasEditRights!==b.userHasEditRights?!1:!0)}};var za={};Object.defineProperty(za,"__esModule",{value:!0});za.ShortcutInteractionsImpl=class{constructor(a,b,c,e){this.keyboardEventMatcher=a;this.shortcutDefinitions=
void 0!==e?e:this.generateDefinitions();this.shortcutInteractionStream=this.generateShortcutInteractionStream(b,c,this.shortcutDefinitions)}generateDefinitions(){return(new ya.ShortcutDefinitions(this.keyboardEventMatcher)).getDefinitions()}logShortcutAction(a){switch(a){case t.ShortcutAction.SELECT_ALL:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"SELECT_ALL"});break;case t.ShortcutAction.UNDO:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"UNDO"});
break;case t.ShortcutAction.REDO:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"REDO"});break;case t.ShortcutAction.COPY:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"COPY"});break;case t.ShortcutAction.CUT:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"CUT"});break;case t.ShortcutAction.PASTE:n.avro.Avro.createDefaultLogger().logUseKeyboardShortcut({shortcut_type:"PASTE"})}}getShortcutStream(a){return this.shortcutInteractionStream.filter((b)=>
-1!==b.actions.indexOf(a)).map((a)=>a.event)}getShortcutInteractionStream(){return this.shortcutInteractionStream}generateShortcutInteractionStream(a,b,c){return b.combineAndSample((a,b)=>this.processKeyboardEvent(a,b,c),a).filter((a)=>this.checkIfShortcut(a))}processKeyboardEvent(a,b,c){return{actions:c.filter((c)=>c.filter(a,b)).map((a)=>{this.logShortcutAction(a.action);b&&b.preventDefault&&!0===a.preventDefault&&b.preventDefault();return a.action}),event:b}}checkIfShortcut(a){return 0!==a.actions.length}};
var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.StyleEditorSidebarSection=class{constructor(a){this.runner=a}createStyleEditorSidebar(a,b,c){a=[f.createElement(M.Sidebar.StyleEditor,{source:a.css,xmlVersion:a.preziXmlStamp,callbacks:this.createCallbacks(b,c,this.runner)})];b.onSidebarOpen(M.Sidebar.STYLEEDITOR_ID,()=>{c()});return f.createElement("div",{key:"styleEditor",className:"sidebar koi-editor-ui-styleeditor"},...a)}createCallbacks(a,b,c){return{close:()=>{a.closeSidebars()},
update:(a)=>{c.executeLegacyCommand({name:"Apply style definition",runLegacy:(b)=>{b.applyStyleDefinition(a)}})},reload:()=>{b()}}}};var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});const C=()=>{},wb={kind:"NoSyncInProgress"};class Oa extends f.Component{render(){return f.createElement("div",Object.assign({},this.props),this.props.children)}}Ba.TopMenuSection=class{constructor(a,b,c,e,m,u,D,g,f){this.visibleElementHandler=a;this.externalServiceProvider=b;this.showFileMenuShowInfo=c;this.hideFileMenuYourPrezis=
e;this.playerUI=m;this.editorOnboardingController=u;this.basicEditController=D;this.camera=g;this.spellcheckStatusBus=f;this.dropDownMenuCallbacks={newPrezi:C,shareViewLinkPopup:C,addCollaboratorsPopup:C,startRemotePresentation:C,preview:C,switchToPresentMode:C,save:C,undo:C,redo:C,showInfo:C,toggleIdSearch:C,toggleXmlSidebar:C,toggleStyleSidebar:C,toggleCodeSnippetSidebar:C,addComment:C,popupPresenterView:C,changeCommentsVisibility:C,cut:C,copy:C,paste:C,selectAll:C,toggleSpellcheck:C};this.saveTypeStream=
h.Bacon.newBus();this.shouldOverwritePresentButtonBehaviour=!1;this.toggleSpellcheck=(a)=>{this.spellcheckStatusBus.push(a);"ENABLED"!==a&&"DISABLED"!==a||n.avro.Avro.createDefaultLogger().logSetSpellCheckVisibility({spell_check_status:a})};this.togglePopup=(a)=>this.visibleElementHandler.togglePopup(a);this.isPopupOpen=(a)=>this.visibleElementHandler.isPopupOpen(a);this.constructDropDownMenus=(a,b,c,e,d,m,u,D,g,f,h,k,l,n,p,q,t,r,Ia,v,x,nb,w,z,B,A=H.TabbedTopMenuMode.DISABLED,C)=>{D=O.MeetingModule.isRemotePresentationInProgress(u);
f=this.externalServiceProvider.isMenuInvokeInUserEvent();k=l||n||p;u=A!==H.TabbedTopMenuMode.DISABLED;a=[this.createFileMenu(b,D,r,d,m,u,C),A!==H.TabbedTopMenuMode.DISABLED?this.createStyleMenu(A):null,this.createEditMenu(b,c,e,D,u),this.createInsertMenu(q,A),this.createViewMenu(g,D,n,nb,u),this.createPresentMenu(b,D,r,d,l,f,k,x,h,C),this.createHelpMenu(v,u),y.isActive("js-lab-menu")?this.createLabMenu(a,b):null,y.isActive("js-developer-features")?this.createDebugMenu(a,b):null,A!==H.TabbedTopMenuMode.DISABLED?
this.createShareMenu(x,d,h,l,n,p,C,r):null];u&&(a=this.addHamburgerMenu(a));const ob=this.dropDownItemsFromPlugins(w,z,B);a=a.map((a)=>this.mergeMenuItems(a,ob));w=a.filter((a)=>null!=a&&!a.internal).filter((a)=>"styleMenu"!==a.popupId&&"hamburgerMenu"!==a.popupId&&"shareMenu"!==a.popupId).map((a)=>({text:a.text,desktopMenuBarId:a.desktopMenuBarId,itemsDisabled:a.itemsDisabled,items:a.items.filter((a)=>null!=a&&!0!==a.hidden&&!a.internal).map((a)=>({isDivider:a.isDivider,text:a.text,shortcutChar:null==
a.shortcutDefinition?null:a.shortcutDefinition.key,shortcutWin:a.shortcutWin,disabled:a.disabled,sendKeyPressOnClick:a.sendKeyPressOnClick,onClick:a.onClick,id:a.id}))}));w=this.externalServiceProvider.updateExternalDropDownMenus(w);return{menus:a,isDesktop:w}};this.editTitle=(a,b,c,e)=>{switch(a){case v.KoiLabelEditAction.START:this.logger.info({action:"title_edit_start",object:"prezi_title",trigger:b});break;case v.KoiLabelEditAction.APPLY:a=c!==e;this.logger.info({action:"title_edit_apply",object:"prezi_title",
trigger:b,payload:{title_changed:a}});a&&this.metadataSaver.savePreziTitle(e);break;case v.KoiLabelEditAction.CANCEL:this.logger.info({action:"title_edit_cancel",object:"prezi_title",trigger:b})}};this.handleAddComment=()=>{this.addCommentStream.push()};this.handleShareClicked=()=>{this.externalServiceProvider.launchExternalShareViaLinkDialog()||this.visibleElementHandler.toggleBuiltinDialog(k.BuiltinDialog.shareDialogViewLinks)};this.handleAddCollaborators=()=>{this.externalServiceProvider.launchExternalAddCollaboratorsDialog()||
this.visibleElementHandler.toggleBuiltinDialog(k.BuiltinDialog.shareDialogCollaborators)};this.handleSaveClicked=()=>{this.saveTypeStream.push("MANUAL");this.basicEditController.save()};this.handleUndoClicked=()=>{this.basicEditController.undo(E.UndoRedoRequestTrigger.button)};this.handleRedoClicked=()=>{this.basicEditController.redo(E.UndoRedoRequestTrigger.button)};this.handleToggleIdSearch=()=>{this.visibleElementHandler.togglePopup(l.VisibleElementsControllerImpl.TOPMENU_POPUP_ID_SEARCH)};this.logger=
n.LoggerModule.getLoggerManager().createLogger("prezi_editor_ui.TopMenuSection");this.changeModeBus=h.Bacon.newBus();this.preziTitleEditedBus=h.Bacon.newBus();this.toggleLandingLayerBus=h.Bacon.newBus();this.cetDebugFlagStream=h.Bacon.newBus();this.addCommentStream=h.Bacon.newVoidBus();this.selectAllBus=h.Bacon.newVoidBus();this.changeOpenPopupAction=h.Bacon.newBus();this.changeOpenPopupAction.onValue((a)=>this.visibleElementHandler.openPopup(a));this.cetNetworkEventBus=h.Bacon.newBus();this.coeditOfflineOnlineSwitchStatusBus=
h.Bacon.newBus();this.networkStatusBus=h.Bacon.newBus();this.endSessionBus=h.Bacon.newBus();this.shouldOverwritePresentButtonBehaviour=y.isActive("js-editor-first-steps-onboarding");this.topMenuCallbacks={shareViewLinkPopup:this.handleShareClicked,addCollaboratorsPopup:this.handleAddCollaborators,openPresenterView:(a)=>{this.openAndLogPresenterView("present_button_dropdown",a)},save:this.handleSaveClicked,undo:this.handleUndoClicked,redo:this.handleRedoClicked,toggleIdSearch:this.handleToggleIdSearch,
remotePresentation:(a)=>this.handleRemotePresentationClicked("topmenu_icon",a),switchToPresentMode:(a)=>{this.shouldOverwritePresentButtonBehaviour?(this.handleStartPresentation(!1,!0,!1,!1),this.shouldOverwritePresentButtonBehaviour=!1):this.handleStartPresentation(!0,a,!1,!1)},switchToEditMode:()=>this.changeModeBus.push({newMode:d.EditorMode.edit,trigger:"topmenu"}),titleEditAction:this.editTitle,help:()=>{this.externalServiceProvider.launchExternalHelp()||(this.editorOnboardingController.activateWidget(),
d.AppUtilsModule.getLogHelperUtils().topMenuHelpClick(this.logger))}};this.popupMenuCallbacks={toggleDropDownMenu:(a)=>this.visibleElementHandler.togglePopup(a),hoverDropDownMenu:(a)=>{this.visibleElementHandler.isTopmenuOpen()&&!this.visibleElementHandler.isPopupOpen(a)&&this.visibleElementHandler.togglePopup(a)}};this.getDropDownMenus=Ta(this.constructDropDownMenus)}init(a,b,c,e){this.commentingController=a;if(null==this.commentingController)throw Error("commentingController should not be null");
this.copyPasteInfoDialog=b;if(null==this.copyPasteInfoDialog)throw Error("copyPasteInfoDialog should not be null");this.pluginAccess=e;if(null==this.pluginAccess)throw Error("pluginAccess should not be null");this.applicationController=c;this.createDropdownCallbacks()}createDropdownCallbacks(){const a=E.EditorControllerModule.createClipboardTrigger();this.dropDownMenuCallbacks={toggleIdSearch:this.handleToggleIdSearch,shareViewLinkPopup:this.handleShareClicked,addCollaboratorsPopup:this.handleAddCollaborators,
save:this.handleSaveClicked,undo:this.handleUndoClicked,redo:this.handleRedoClicked,startRemotePresentation:(a)=>this.handleRemotePresentationClicked("dropdown",a),preview:()=>this.handleStartPresentation(!1,!1,!0,!1),switchToPresentMode:(a)=>this.handleStartPresentation(!0,a,!1,!1),newPrezi:()=>this.externalServiceProvider.launchNewPrezi(),showInfo:()=>this.toggleLandingLayerBus.push(d.InfoLayerMode.MINI),toggleXmlSidebar:()=>{this.visibleElementHandler.toggleSidebar(M.Sidebar.XMLEDITOR_ID)},toggleCodeSnippetSidebar:()=>
{this.visibleElementHandler.openOrFocusCodeSnippetEditor()},toggleStyleSidebar:()=>{this.visibleElementHandler.toggleSidebar(M.Sidebar.STYLEEDITOR_ID)},addComment:()=>{this.handleAddComment()},toggleSpellcheck:this.toggleSpellcheck,popupPresenterView:(a)=>{d.AppUtilsModule.getLogHelperUtils().topMenuItemClick(this.logger,"presentMenu","presenterView");this.openAndLogPresenterView("present_topmenu",a)},changeCommentsVisibility:(a)=>{n.avro.Avro.createDefaultLogger().logSetCommentVisibility({comment_visibility:a?
"SHOW":"HIDE"});return this.commentingController.changeCommentsVisibility(a)},cut:()=>a.triggerCut(),copy:()=>a.triggerCopy(),paste:()=>{a.triggerPaste()||(n.avro.Avro.createDefaultLogger().logLoadedInvalidPasteDialog(),null!=this.copyPasteInfoDialog&&this.copyPasteInfoDialog.show())},selectAll:()=>this.selectAllBus.push()}}getChangeModeStream(){return this.changeModeBus}getPreziTitleEditedBus(){return this.preziTitleEditedBus}getToggleInfoLayerStream(){return this.toggleLandingLayerBus}getCetNetworkEventStream(){return this.cetNetworkEventBus}getOfflineCoeditStatusStream(){return this.coeditOfflineOnlineSwitchStatusBus}getNetworkStatusBus(){return this.networkStatusBus}getEndSessionBus(){return this.endSessionBus}getCetDebugFlagStream(){return this.cetDebugFlagStream}getSaveTypeStream(){return this.saveTypeStream}createTopMenu(a,
b,c,e,m,u,D,f,h,k=H.TabbedTopMenuMode.DISABLED){if(a.mode.kind===d.EditorMode.playback&&!a.mode.showTopmenu)return null;this.createDropdownCallbacks();const l=a.mode.kind===d.EditorMode.edit||a.mode.kind===d.EditorMode.animationPreview;if(!l&&a.presenterState&&a.presenterState.status===Z.PresenterStatus.MeetingStarted)return null;const n=a.mode.kind===d.EditorMode.templateChooser?g.I18n.ts("Choose template"):a.title;let p=!0,q=!1;const r=a.currentTopic;b&&r&&(p=b.getPrezi().getChild(A.CetModel.ID.PREZI.OVERVIEW).getId()===
r,q=w.CetModelEditor.isPage(r,b));this.presenterState=D;b=this.getDropDownMenus(b,l,a.enableUndo,a.enableRedo,a.networkStatus,a.saveAvailabilityStatus,a.presenterState,a.currentTopic,null==e?!1:e.isCommentsVisible(),this.visibleElementHandler.getActiveSidebarId(),p,q,a.userHasEditRights,a.userHasCommentRights,a.userHasPresentRights,null==e?!1:e.isCommentingEnabled(),a.coeditStatus,a.isOnboarding,!1,a.showJiraCollectorDialog,f,a.spellcheckStatus,this.applicationController?this.applicationController.getMenuItems():
[],this.applicationController?this.applicationController.getTabMenuItems():[],this.applicationController?this.applicationController.getMixerButtons():[],k,a.userLicenseInformation);this.playerUI&&(D=this.playerUI.getPlayback().getPathNavigator(),(e=D.getPendingNavigationTargetPosition())||D.getCurrentPosition());return b.isDesktop?this.createDesktopTopMenu(b.menus,n,a,l,c,m,p,q,u,!0,f,h,k):this.createBrowserTopMenu(b.menus,n,a,l,c,m,p,q,u,!1,f,h,k)}tabChange(a,b){a===H.TabbedTopMenuMode.SIMPLIFIED&&
"style"===b?this.visibleElementHandler.openTabMenu(null):(null!=b&&"none"!==b&&n.avro.Avro.createDefaultLogger().logOpenTabMenu({tab_menu:b.toUpperCase()}),this.visibleElementHandler.openTabMenu(b))}createDesktopTopMenu(a,b,c,e,d,u,D,g,h,k,n,p,q){a={key:"topmenu",callbacks:this.topMenuCallbacks,popupMenuCallbacks:this.popupMenuCallbacks,openPopupIds:this.visibleElementHandler.openedPopupIds(),openedPopupId_KILLME:c.openedPopupId_KILLME,idSearchOpen:this.visibleElementHandler.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_ID_SEARCH),
title:b,enableUndo:c.enableUndo,enableRedo:c.enableRedo,saveState:c.saveState,coeditStatus:c.coeditStatus,coeditOfflineOnlineSwitchStatus:c.coeditOfflineOnlineSwitchStatus,remotePresentationInProgress:O.MeetingModule.isRemotePresentationInProgress(c.presenterState),networkStatus:c.networkStatus,isEditingSessionClosed:c.isEditingSessionClosed,visible:!0,canEdit:c.userHasEditRights,canComment:c.userHasCommentRights,isEditMode:e,hasChapterOnOverview:d,commentingSection:u,onOverview:D,isPage:g,coeditUISection:h,
renderNotificationText:k,isOnboarding:c.isOnboarding,commentingStateVersion:c.commentingStateVersion,isSaveAvailable:c.saveAvailabilityStatus===Q.SaveAvailabilityStatus.enabled,togglePopup:this.togglePopup,isPopupOpen:this.isPopupOpen,progressBarCurrent:12,progressBarMax:24,hasCustomStartingPoint:n,userCanLivePresent:c.userHasEditRights||c.userHasCommentRights||c.userHasPresentRights,forceEnableLivePreziButton:p,spellcheckStatus:c.spellcheckStatus,tabbedTopMenu:q,activeTabId:c.openTabMenuId,onTabChange:(a)=>
this.tabChange(q,a),dropDownMenus:a,userLicenseInformation:c.userLicenseInformation,featurePreviewModeWithSaveDisabled:c.featurePreviewModeWithSaveDisabled};return f.createElement(Oa,{className:"koi-editor-ui-topmenu"},f.createElement(H.DesktopTopMenu,Object.assign({},a)))}createBrowserTopMenu(a,b,c,e,d,u,D,g,h,p,q,r,t=H.TabbedTopMenuMode.DISABLED){const m=y.isActive("js-gm-unlock-features-cta")&&e&&1===c.networkStatus&&!c.userLicenseInformation.isPaidLicense,v=()=>{this.visibleElementHandler.toggleBuiltinDialog(k.BuiltinDialog.upgradeLicenseMaster)},
Ia=y.isActive("js-prezi-video")&&e&&1===c.networkStatus,w=()=>{this.pluginAccess.send(x.arConvert,{kind:"requestOpen",trigger:"BANNER_BTN"})};a={key:"topmenu",callbacks:this.topMenuCallbacks,popupMenuCallbacks:this.popupMenuCallbacks,openPopupIds:this.visibleElementHandler.openedPopupIds(),openedPopupId_KILLME:c.openedPopupId_KILLME,dropDownMenus:a,idSearchOpen:this.visibleElementHandler.isPopupOpen(l.VisibleElementsControllerImpl.TOPMENU_POPUP_ID_SEARCH),title:b,enableUndo:c.enableUndo,enableRedo:c.enableRedo,
saveState:c.saveState,coeditStatus:c.coeditStatus,coeditOfflineOnlineSwitchStatus:wb,remotePresentationInProgress:O.MeetingModule.isRemotePresentationInProgress(c.presenterState),networkStatus:c.networkStatus,isEditingSessionClosed:c.isEditingSessionClosed,visible:!0,canEdit:c.userHasEditRights,canComment:c.userHasCommentRights,isEditMode:e,hasChapterOnOverview:d,commentingSection:u,onOverview:D,isPage:g,coeditUISection:h,renderNotificationText:p,isOnboarding:c.isOnboarding,commentingStateVersion:c.commentingStateVersion,
isSaveAvailable:c.saveAvailabilityStatus===Q.SaveAvailabilityStatus.enabled,togglePopup:this.togglePopup,isPopupOpen:this.isPopupOpen,userCanLivePresent:c.userHasEditRights||c.userHasCommentRights||c.userHasPresentRights,hasCustomStartingPoint:q,forceEnableLivePreziButton:r,spellcheckStatus:c.spellcheckStatus,tabbedTopMenu:t,activeTabId:c.openTabMenuId,onTabChange:(a)=>{t===H.TabbedTopMenuMode.SIMPLIFIED&&"style"===a?this.visibleElementHandler.openTabMenu(null):(null!=a&&"none"!==a&&n.avro.Avro.createDefaultLogger().logOpenTabMenu({tab_menu:a.toUpperCase()}),
this.visibleElementHandler.openTabMenu(a))},userLicenseInformation:c.userLicenseInformation,onUnlockFeaturesButtonClicked:m?v:null,onBannerButtonClicked:Ia?w:null,featurePreviewModeWithSaveDisabled:c.featurePreviewModeWithSaveDisabled};return f.createElement(Oa,{className:"koi-editor-ui-topmenu"},f.createElement(H.BrowserTopMenu,Object.assign({},a)))}dropDownItemsFromPlugins(a,b,c){const e=new Map,d=(a,b)=>{e.has(a)||e.set(a,[]);e.get(a).push(b)},u=(a)=>null==a?{}:{shortcutDefinition:Object.assign(Object.assign({},
a),{key:String.fromCharCode(a.key)})};a.map((a)=>{d(a.parent,Object.assign({weight:a.weight,text:a.title,leftIcon:a.icon,onClick:a.onClick,id:a.id,disabled:!a.enabled},u(a.shortcut)))});b.map((a)=>{d(a.parent,Object.assign({weight:a.weight,text:a.title,leftIcon:a.icon,onClick:a.onClick,id:a.id,disabled:!a.enabled,color:a.color},u(a.shortcut)))});c.map((a)=>{d(a.parent,Object.assign({weight:a.weight,text:a.title,onClick:a.onClick,onClickSecondary:a.onClickSecondary,imgUrl:a.url,imgBlendColor:a.blendColor,
id:a.id,disabled:!a.enabled},u(a.shortcut)))});return e}createStyleMenu(){return{text:g.I18n.ts("Style"),className:"",popupId:"styleMenu",desktopMenuBarId:"styleMenu",itemsDisabled:!1,items:[]}}createFileMenu(a,b,c,e,d,u,f){const m=l.VisibleElementsControllerImpl.TOPMENU_POPUP_FILE_MENU;let h=g.I18n.ts("My presentations");y.isActive("js-gm-main-menu-dashboard-text")?h=g.I18n.ts("Dashboard"):y.isActive("js-gm-main-menu-home-text")&&(h=g.I18n.ts("Home"));return{text:g.I18n.ts("File"),className:"koi-topmenu-filemenu",
popupId:m,desktopMenuBarId:"fileMenu",onOpen:()=>n.avro.Avro.createDefaultLogger().logOpenFileMenu(),itemsDisabled:b,items:[{text:g.I18n.ts("New presentation"),id:m+"/newprezi",disabled:!f.pitchCreate,onClick:()=>{u&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"NEW_PRESENTATION"});n.avro.Avro.createDefaultLogger().logCreateNewPresentation();window.open("https://prezi.com/p/create-prezi/","_blank")},internal:!0,inHamburger:!0},{text:h,id:m+"/yourprezis",onClick:()=>
{u&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"MY_PRESENTATIONS"});n.avro.Avro.createDefaultLogger().logOpenDashboard();window.open("https://prezi.com/dashboard/next/","_blank")},hidden:this.hideFileMenuYourPrezis,inHamburger:!0},u?{isDivider:!0,id:"divider",inHamburger:!0}:null,{text:g.I18n.ts("Save"),shortcutDefinition:{key:"s",osCmd:!0},className:"filemenu-save",id:m+"/save",disabled:!a||d===Q.SaveAvailabilityStatus.disabled,onClick:()=>{u&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"SAVE"});
n.avro.Avro.createDefaultLogger().logSavePresentation();this.dropDownMenuCallbacks.save()},inHamburger:!0},{text:g.I18n.ts("Share view link..."),id:m+"/shareViaLink",disabled:c||2===e,onClick:this.dropDownMenuCallbacks.shareViewLinkPopup,hidden:this.externalServiceProvider.isMenuInvokeInUserEvent()&&!y.FeatureSwitcher.SHARE_DIALOG_IN_BOXFISH()},{text:g.I18n.ts("Add collaborators..."),id:m+"/addCollaborators",disabled:c||2===e,onClick:this.dropDownMenuCallbacks.addCollaboratorsPopup,hidden:this.externalServiceProvider.isMenuInvokeInUserEvent()&&
!y.FeatureSwitcher.SHARE_DIALOG_IN_BOXFISH()},{text:g.I18n.ts("Show info"),id:m+"/showinfo",onClick:()=>{n.avro.Avro.createDefaultLogger().logShowInfoOfPresentation();this.dropDownMenuCallbacks.showInfo()},hidden:!this.showFileMenuShowInfo}]}}createViewMenu(a,b,c,e,d){const m=l.VisibleElementsControllerImpl.TOPMENU_POPUP_VIEW_MENU;b=[{disabled:!c||b,text:a?g.I18n.ts("Hide Comments"):g.I18n.ts("Show Comments"),id:m+"/toggleComments",inHamburger:!0,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"TOGGLE_COMMENTS"});
return this.dropDownMenuCallbacks.changeCommentsVisibility(!a)}},null,{disabled:"NOT_INITIALIZED"===e,text:"ENABLED"===e?g.I18n.ts("Disable Spellcheck"):g.I18n.ts("Enable Spellcheck"),className:"viewmenu-spellcheck",id:m+"/spellcheck",inHamburger:!0,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"TOGGLE_SPELLCHECK"});return this.dropDownMenuCallbacks.toggleSpellcheck("ENABLED"===e?"DISABLED":"ENABLED")}},d?{isDivider:!0,id:"divider",inHamburger:!0}:
null];return{text:g.I18n.ts("View"),className:"koi-topmenu-viewmenu",popupId:m,desktopMenuBarId:"viewMenu",onOpen:()=>{n.avro.Avro.createDefaultLogger().logOpenViewMenu()},items:b}}createEditMenu(a,b,c,e,d){const m=l.VisibleElementsControllerImpl.TOPMENU_POPUP_EDIT_MENU;a=!a||e;return{text:g.I18n.ts("Edit"),className:"koi-topmenu-editmenu",popupId:m,desktopMenuBarId:"editMenu",onOpen:()=>{n.avro.Avro.createDefaultLogger().logOpenEditMenu()},items:[{text:g.I18n.ts("Undo"),leftIcon:p.IconSmallId.Backward,
shortcutDefinition:{key:"z",osCmd:!0},className:"editmenu-undo",id:m+"/undo",disabled:!b||a,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"UNDO"});this.handleUndoClicked()},inHamburger:!0},{text:g.I18n.ts("Redo"),leftIcon:p.IconSmallId.Forward,shortcutDefinition:{key:"y",osCmd:!0},className:"editmenu-redo",id:m+"/redo",disabled:!c||a,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"REDO"});this.handleRedoClicked()},
inHamburger:!0},{isDivider:!0,id:"divider",inHamburger:!0},{text:g.I18n.ts("Cut"),shortcutDefinition:{key:"x",osCmd:!0},className:"editmenu-cut",id:m+"/cut",disabled:a,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"CUT"});this.dropDownMenuCallbacks.cut()},inHamburger:!0},{text:g.I18n.ts("Copy"),shortcutDefinition:{key:"c",osCmd:!0},className:"editmenu-copy",id:m+"/copy",disabled:!1,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"COPY"});
this.dropDownMenuCallbacks.copy()},inHamburger:!0},{text:g.I18n.ts("Paste"),shortcutDefinition:{key:"v",osCmd:!0},className:"editmenu-paste",id:m+"/paste",disabled:!1,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"PASTE"});this.dropDownMenuCallbacks.paste()},inHamburger:!0},{isDivider:!0,id:"divider"},{text:g.I18n.ts("Select All"),shortcutDefinition:{key:"a",osCmd:!0},className:"editmenu-selectall",id:m+"/selectall",disabled:!1,onClick:()=>{d&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"SELECT_ALL"});
n.avro.Avro.createDefaultLogger().logSelectAllVisibleObjects();this.dropDownMenuCallbacks.selectAll()},inHamburger:!0},d?{inHamburger:!0,isDivider:!0,id:"divider"}:null]}}createShareMenu(a,b,c,e,d,u,f,h){const m=this.shouldSeekToStart(a,c);a=e||d||u;return{text:g.I18n.ts("Share"),className:"",popupId:"shareMenu",onOpen:()=>n.avro.Avro.createDefaultLogger().logOpenTabMenu({tab_menu:"SHARE"}),items:[{id:"share_menu_playback",text:g.I18n.ts("Present"),leftIcon:p.IconSmallId.Play,disabled:!1,onClick:()=>
{n.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"PRESENT"});n.avro.Avro.createDefaultLogger().logOpenToPresent();this.dropDownMenuCallbacks.switchToPresentMode(m)}},{id:"share_menu_view_link",text:g.I18n.ts("View Link"),leftIcon:p.IconSmallId.Link,disabled:1!==b,onClick:()=>{n.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"VIEW_LINK"});this.dropDownMenuCallbacks.shareViewLinkPopup()}},{id:"share_menu_collaborate",text:g.I18n.ts("Collaborate"),leftIcon:p.IconSmallId.Users,
disabled:2===b,onClick:()=>{n.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"ADD_COLLABORATOR"});this.handleAddCollaborators()}},{id:"share_menu_live_prezi",text:g.I18n.ts("Live Prezi"),leftIcon:p.IconSmallId.LivePrezi,disabled:h||2===b||!a,onClick:()=>{this.visibleElementHandler.openTabMenu(null);n.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"LIVE_PREZI"});this.dropDownMenuCallbacks.startRemotePresentation(f)}}]}}createInsertMenu(a,b=H.TabbedTopMenuMode.DISABLED){const c=
b!==H.TabbedTopMenuMode.DISABLED;b=l.VisibleElementsControllerImpl.TOPMENU_POPUP_INSERT_MENU;a={disabled:!a,text:g.I18n.ts("Comment..."),leftIcon:p.IconSmallId.Comment,className:"insertmenu-comment",id:b+"/comment",tabMenuText:g.I18n.ts("Comment"),weight:100,onClick:()=>{c&&n.avro.Avro.createDefaultLogger().logClickTabMenuItem({tab_menu_item:"ADD_COMMENT"});this.dropDownMenuCallbacks.addComment()},inInsertDropdown:!0};g.I18n.ts("Animation...");g.I18n.ts("Animation");a=[{isDivider:!0,id:"divider"},
a];return{text:g.I18n.ts("Insert"),className:"koi-topmenu-insertmenu",popupId:b,desktopMenuBarId:"insertMenu",onOpen:()=>{n.avro.Avro.createDefaultLogger().logOpenInsertMenu()},items:a}}shouldSeekToStart(a,b){return a&&b}createPresentMenu(a,b,c,e,m,u,f,h,k,q){const D=l.VisibleElementsControllerImpl.TOPMENU_POPUP_PRESENT_MENU;let r=[];const t=this.shouldSeekToStart(h,k);r.push({text:g.I18n.ts("Start Presentation"),id:D+"/startPresentation",leftIcon:p.IconSmallId.Play,shortcutDefinition:{key:"p",osCmd:!0},
shortcutWin:{key:"F5"},sendKeyPressOnClick:!u,onClick:()=>{n.avro.Avro.createDefaultLogger().logOpenToPresent();this.dropDownMenuCallbacks.switchToPresentMode(t)}});r.push({text:g.I18n.ts("Presenter View"),id:D+"/popupPresenterView",leftIcon:p.IconSmallId.Presentation,disabled:!m,onClick:()=>{d.AppUtilsModule.getLogHelperUtils().topMenuItemClick(this.logger,"presentMenu","presenterView");n.avro.Avro.createDefaultLogger().logOpenPresenterView();this.dropDownMenuCallbacks.popupPresenterView(q)}});r.push({text:g.I18n.ts("Preview"),
id:D+"/preview",leftIcon:p.IconSmallId.Preview,disabled:!a,onClick:()=>{n.avro.Avro.createDefaultLogger().logOpenPreview();this.dropDownMenuCallbacks.preview()}});r.push({text:g.I18n.ts("Live Prezi"),leftIcon:p.IconSmallId.LivePrezi,id:D+"/startRemotePresentation",disabled:c||2===e||!f,onClick:()=>{this.dropDownMenuCallbacks.startRemotePresentation(q)}});return{text:g.I18n.ts("Present"),className:"koi-topmenu-presentmenu",popupId:D,itemsDisabled:b,onOpen:()=>{n.avro.Avro.createDefaultLogger().logOpenPresentMenu()},
items:r}}createHelpMenu(a,b){const c=l.VisibleElementsControllerImpl.TOPMENU_POPUP_HELP_MENU,e=[{text:b?g.I18n.ts("Help"):g.I18n.ts("Prezi support"),id:c+"/preziSupport",onClick:()=>{b&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"PREZI_SUPPORT"});n.avro.Avro.createDefaultLogger().logOpenSupportPage();window.open(g.I18n.ts("https://prezi.com/business/support/"),"_blank")},inHamburger:!0},{text:g.I18n.ts("Knowledge base"),id:c+"/knowledgeBase",onClick:()=>{n.avro.Avro.createDefaultLogger().logOpenKnowledgeBase();
window.location.href=g.I18n.ts("https://prezi.com/business/kb/")}},{text:g.I18n.ts("Keyboard shortcuts"),id:c+"/keyboardShortcuts",inHamburger:!0,onClick:()=>{b&&n.avro.Avro.createDefaultLogger().logClickHamburgerMenuItem({hamburger_menu_item:"KEYBOARD_SHORTCUTS"});n.avro.Avro.createDefaultLogger().logOpenArticle({organization_id:null,target_url:"https://prezi.com/business/kb/create-your-prezi/shortcuts/"});window.open(g.I18n.ts("https://prezi.com/business/kb/create-your-prezi/shortcuts/"),"_blank")}},
{isDivider:!0,id:"divider"},{text:g.I18n.ts("Your account"),id:c+"/yourAccount",onClick:()=>{n.avro.Avro.createDefaultLogger().logOpenAccountSettings({action_source:null});window.location.href=g.I18n.ts("https://prezi.com/settings/")}}];y.isActive("js-report-bug")&&e.push({isDivider:!0,id:"divider"},{text:"Report WebGL Bug",id:"staff-report-webgl-bug",onClick:()=>a()});return{text:g.I18n.ts("Help"),popupId:c,className:"koi-topmenu-helpmenu",internal:!0,items:e,onOpen:()=>n.avro.Avro.createDefaultLogger().logOpenHelpMenu({action_source:null})}}createLabMenu(a,
b){return{text:"Lab",className:"koi-topmenu-labmenu",popupId:l.VisibleElementsControllerImpl.TOPMENU_POPUP_LAB_MENU,itemsDisabled:!b,items:[]}}createDebugMenu(a,b){const c=l.VisibleElementsControllerImpl.TOPMENU_POPUP_DEBUG_MENU;return{text:"Debug",className:"koi-topmenu-debugmenu",popupId:c,items:[{text:"XML",leftIcon:p.IconSmallId.Xml2,id:"debug-xml",disabled:!b,onClick:this.dropDownMenuCallbacks.toggleXmlSidebar},{text:"Code",leftIcon:p.IconSmallId.Code,id:"debug-code",disabled:!b,onClick:this.dropDownMenuCallbacks.toggleCodeSnippetSidebar},
{text:"Style",leftIcon:p.IconSmallId.Css,id:"debug-css",disabled:!b,onClick:this.dropDownMenuCallbacks.toggleStyleSidebar},{text:"Download stored avro logs",id:"download-stored-avro-logs",disabled:!b,hidden:!y.FeatureSwitcher.isActive("js-log-avro-store"),onClick:()=>{var a=n.LoggerModule.getStoredAvroLogs();a="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a));const b=document.createElement("a");b.setAttribute("href",a);b.setAttribute("download","avro-logs.json");b.click();b.remove()}},
{isDivider:!0,id:"divider"},{text:"Show outlying object list",id:"debug-outlying",disabled:!b,onClick:()=>{const b=[],c=z.Cet.createHierarchyQuery(a);a.getEntityList().forEach((e)=>{var d=z.Cet.world(e);if(null!=d){d=d.getWorldBounds();var m=a.getEntityById(c.getParentId(e));null!=m&&(z.Cet.getViewportWorldIfFocusedOnEntity(m,a,this.camera).intersects(d)||b.push(e))}});b.forEach((a)=>console.log(`OUTLYING-OBJECT-ID:${a.getId()}`))}},{isDivider:!0,id:"divider"},{text:"Show object ids",id:"show-object-ids",
disabled:!1,onClick:()=>{this.cetDebugFlagStream.push(z.DebugFlag.SHOW_OBJECT_IDS)}},{text:"Show surroundings",id:"show-surroundings",disabled:!1,onClick:()=>{this.cetDebugFlagStream.push(z.DebugFlag.RENDER_ZOOMED_OUT_TO_SHOW_SURROUNDINGS)}},{text:"Quadtree",id:"quadtree-bounds",leftIcon:p.IconSmallId.Layout,disabled:!1,onClick:()=>{this.cetDebugFlagStream.push(z.DebugFlag.QUADTREE_BOUNDS)}},{text:"Continuous editor invariant check",id:"editor-invariant-check",disabled:!b,onClick:()=>{this.cetDebugFlagStream.push(z.DebugFlag.CHECK_INVARIANTS)}},
{text:"Start Autoplay speed test",id:"autoplay-speed-test",disabled:b,onClick:()=>{this.playerUI.getAutoplaySpeedTestHelper().start()}},{text:"Set coedit status: no sync in progress",id:"Set coedit status: no sync in progress",disabled:!1,onClick:()=>{this.coeditOfflineOnlineSwitchStatusBus.push({kind:"NoSyncInProgress"});this.cetNetworkEventBus.push({type:z.CetNetworkEventType.Reconnected,preziId:""})}},{text:"Set coedit status: connection lost",id:"Set coedit status: connection lost",disabled:!1,
onClick:()=>{this.cetNetworkEventBus.push({type:z.CetNetworkEventType.ConnectionLost,preziId:""})}},{text:"Set coedit status: connection closed",id:"Set coedit status: connection closed",disabled:!1,onClick:()=>{this.cetNetworkEventBus.push({type:z.CetNetworkEventType.Finished,preziId:""})}},{text:"Set coedit status: offline timer triggered",id:"Set coedit status: offline timer triggered",disabled:!1,onClick:()=>{this.cetNetworkEventBus.push({type:z.CetNetworkEventType.ConnectionLost,preziId:""});
this.cetNetworkEventBus.push({type:z.CetNetworkEventType.OfflineTimerTriggered,preziId:""})}},{text:"Set coedit status: offline media inserted",id:"Set coedit status: offline media inserted",disabled:!1,onClick:()=>this.coeditOfflineOnlineSwitchStatusBus.push({kind:"OfflineMediaInserted"})},{text:"Set coedit status: media sync 0/11",id:"Set coedit status: media sync 0/11",disabled:!1,onClick:()=>this.coeditOfflineOnlineSwitchStatusBus.push({kind:"MediaSync",offlineMediaAssetSyncMaxCount:11,offlineMediaAssetSyncCurrentCount:0})},
{text:"Set coedit status: media sync 3/11",id:"Set coedit status: media sync 3/11",disabled:!1,onClick:()=>this.coeditOfflineOnlineSwitchStatusBus.push({kind:"MediaSync",offlineMediaAssetSyncMaxCount:11,offlineMediaAssetSyncCurrentCount:3})},{text:"Set coedit status: media sync 11/11",id:"Set coedit status: media sync 11/11",disabled:!1,onClick:()=>this.coeditOfflineOnlineSwitchStatusBus.push({kind:"MediaSync",offlineMediaAssetSyncMaxCount:11,offlineMediaAssetSyncCurrentCount:11})},{text:"End session",
id:"end-session",disabled:!1,onClick:()=>{this.endSessionBus.push(!0)}},{text:"Restart session",id:"restart-session",disabled:!1,onClick:()=>{this.endSessionBus.push(!1)}},{text:"Set network offline",id:"network-offline",disabled:!1,onClick:()=>{this.networkStatusBus.push(2)}},{text:"Set network online",id:"network-online",disabled:!1,onClick:()=>{this.networkStatusBus.push(1)}},{text:"Toggle Dom Layer visibility",id:"toggle-dom-layer-visibility",onClick:()=>{$(".domLayer.playerLayer").toggle()}},
{text:"Find object id...",leftIcon:p.IconSmallId.Search,id:c+"/findid",onClick:this.dropDownMenuCallbacks.toggleIdSearch}].filter((a)=>null!=a)}}setMetadataSaver(a){this.metadataSaver=a}getAddCommentStream(){return this.addCommentStream}getOpenPopupActionStream(){return this.changeOpenPopupAction}getSelectAllStream(){return this.selectAllBus}handleRemotePresentationClicked(a,b){b.remotePresent?(this.visibleElementHandler.togglePopup(l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID),
n.avro.Avro.createDefaultLogger().logOpenLivePreziDialog(),O.MeetingModule.createLivePreziLogger("TopMenuSection").logPresenterOpenDialog(this.presenterState,this.playerUI.getOptions().userCanEdit,a,this.playerUI.getOptions().presenterUserName),this.logger.info({feature:"remote_presentation",action:"open_dialog",object:"present_live",trigger:a})):"desktop"===this.playerUI.getOptions().externalServiceType?this.externalServiceProvider.showUpsellDialog(I.UpsellFeature.LivePrezi):this.visibleElementHandler.toggleBuiltinDialog(k.BuiltinDialog.upgradeLicenseLivePrezi)}handleStartPresentation(a,
b,c,e){this.changeModeBus.push({newMode:d.EditorMode.playback,trigger:"topmenu",shouldGoFullscreen:a,shouldSeekPathToStart:b,showTopmenu:c,linkClickedFlow:!1,presenterNotesFlow:e})}openAndLogPresenterView(a,b){var c=this.playerUI.getOptions().preziId;c=this.externalServiceProvider.launchExternalPresenterView(c);this.logger.info({action:"open_presenter_view",object:"presenter_view",trigger:a,category:"presenter_view_structured"});c||(b.presenterView?this.playerUI.openPresenterView():this.visibleElementHandler.toggleBuiltinDialog(k.BuiltinDialog.upgradeLicensePresenterView))}mergeMenuItems(a,
b){return null!=a&&null!=b&&b.has(a.popupId)?Object.assign(Object.assign({},a),{items:[...b.get(a.popupId).map((a)=>({weight:a.weight,body:Object.assign({},a)})),...a.items.map((a,b)=>({weight:b,body:a}))].sort((a,b)=>a.weight-b.weight).map((a)=>a.body)}):a}addHamburgerMenu(a){let b=[];a.filter((a)=>null!=a).forEach((a)=>{b=b.concat(a.items.filter((a)=>null!=a&&a.inHamburger))});return[{text:g.I18n.ts("Hamburger"),className:"hamburgermenu main-hamburgermenu",popupId:"hamburgerMenu",leftIcon:p.IconSmallId.Hamburger,
onOpen:()=>n.avro.Avro.createDefaultLogger().logOpenHamburgerMenu(),items:b},...a]}};var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.VisiblePropertyBarHandler=class{constructor(a,b){this.changeEventStream=a;this.scene=b}isValidSelection(a){a=this.scene.getEntityList().getEntitiesById(a);if(0===a.length)return!1;var b=a[0];const c=b.getDef(),e=w.CetModelEditor.createTopicQuery(this.scene);b=e.getTopicKind(b.getId());b=b===w.TopicKind.Page||b===w.TopicKind.Stack||b===w.TopicKind.Planet;
for(let m=0;m<a.length;m++){var d=e.getTopicKind(a[m].getId());d=d===w.TopicKind.Page||d===w.TopicKind.Stack||d===w.TopicKind.Planet;if(!(c.isDef(a[m].getDef())||b&&d))return!1}return!0}isPath(a){a=this.scene.getEntityById(a);return null!=a&&a.isDef(A.CetModel.ID.FLY_TO_OBJECT_EP)}getPropertyBarDataFromSelection(a){var b=E.EditorControllerModule.createPropertyEditor(),c=a.selectedIds;if(0===c.length||1===c.length&&this.isPath(c[0])){c=this.scene.getEntityById(a.currentTopicId);if(null==c||null!=a.coverEditMode)return null;
w.CetModelEditor.isPage(c.getId(),this.scene)&&(c=this.scene.getEntityById(w.CetModelEditor.getCurrentChapterId(c.getId(),this.scene)));return c.isDef(A.CetModel.ID.OVERVIEW)?{structureType:null,objectProps:[b.createOverviewProps(c.getId())]}:{structureType:null,objectProps:this.getTopicData([c.getId()],a).objectProps}}if(!this.isValidSelection(c))return null;const e=this.scene.getEntityById(c[0]);var d=z.Cet.pathKludge.getISomeEditorPathStepW(e);return null!=d&&d.is(A.CetModel.ID.FLY_TO_OBJECT_EP)&&
(d=d.getTarget(),w.CetModelEditor.isPage(d,this.scene))?(b=w.CetModelEditor.getCurrentChapterId(d,this.scene),this.getTopicData([b],a)):"undefined"===typeof e?null:this.getPropertyBarDataByEntityType(c,b,!1,a)}getParentSmartStructure(a){return this.scene.getEntityById(w.CetModelEditor.getParentSmartStructureId(a,this.scene))}getTopicData(a,b){let c=null;b.currentTopicId!==this.scene.getPreziW().getOverview().getId()&&this.scene.getEntityById(a[0]).isDef(A.CetModel.ID.Z_TOPIC_CONTAINER)&&(a=this.getParentSmartStructure(a[0]),
null!=a&&(c=a.isDef(A.CetModel.ID.CHAIN_SMART_STRUCTURE)?B.StructureType.Chain:B.StructureType.Linear));return{structureType:c,objectProps:[]}}getPropertyBarDataByEntityType(a,b,c,e){const d=this.scene.getEntityList().getEntityById(a[0]);if(this.isVisibleTopic(d))return this.getTopicData(a,e);e=[];let f=null;const h=z.Cet.createHierarchyQuery(this.scene),g=(a)=>a.getOwner().getId()===this.scene.getPreziW().getOverview().getId();c&&(c=h.getParentId(this.scene.getEntityById(a[0])),c=this.getParentSmartStructure(c),
null==c||g(c)||(f=c.isDef(A.CetModel.ID.CHAIN_SMART_STRUCTURE)?B.StructureType.Chain:B.StructureType.Linear));if(d.isDef(A.CetModel.ID.Z_ARROW)||d.isDef(A.CetModel.ID.Z_LINE))e=[];d.isDef(A.CetModel.ID.Z_TEXT)&&(e=[]);d.isDef(A.CetModel.ID.Z_SHAPE)&&(e=[]);d.isDef(A.CetModel.ID.Z_IMAGE)&&(e=a.map((a)=>b.createImageProps(a)));d.isDef(A.CetModel.ID.Z_PDF)&&(e=a.map((a)=>b.createPdfProps(a)));d.isDef(A.CetModel.ID.Z_CHART_PDF)&&(e=a.map((a)=>b.createChartPdfProps(a)));return{objectProps:e,structureType:f}}getChangePropertyBarAction(){return this.changeEventStream.map((a)=>
this.getPropertyBarDataFromSelection(a))}isVisibleTopic(a){a=w.CetModelEditor.createTopicQuery(this.scene).getTopicKind(a.getId());return a===w.TopicKind.Stack||a===w.TopicKind.Planet}};var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.CodeSnippetEditorSection=class{createCodeSnippetEditorSidebar(a,b,c,e){const d=[];a.codeSnippetEditorOpen&&d.push(f.createElement(Za.Widget.CodeSnippetEditorComponent,{callbacks:this.createCallbacks(b,c,e),focusRequestStream:b.getFocusCodeSnippetEditorBus()}));
return f.createElement("div",{key:"codeSnippetEditor",className:"hidden"},...d)}createCallbacks(a,b,c){return{onClose:()=>{a.closeCodeSnippetEditor()},exec:b,execPlugin:c}}};var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.XmlEditorSidebarSection=class{createXmlEditorSidebar(a,b,c,e){a=[f.createElement(M.Sidebar.XmlEditor,{xml:a.preziXml,xmlVersion:a.preziXmlStamp,callbacks:this.createCallbacks(b,c,e)})];b.onSidebarOpen(M.Sidebar.XMLEDITOR_ID,()=>{c()});return f.createElement("div",
{key:"xmlEditor",className:"sidebar koi-editor-ui-xmleditor"},...a)}createCallbacks(a,b,c){return{close:()=>{a.closeSidebars()},update:(a)=>{c(a)},reload:()=>{b()}}}};var K={},xb=this&&K.__awaiter||function(a,b,c,e){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,m){function f(a){try{g(e.next(a))}catch(S){m(S)}}function h(a){try{g(e["throw"](a))}catch(S){m(S)}}function g(a){a.done?c(a.value):d(a.value).then(f,h)}g((e=e.apply(a,b||[])).next())})};
Object.defineProperty(K,"__esModule",{value:!0});var L;(function(a){a[a.KeepCameraStill=0]="KeepCameraStill";a[a.RefocusArea=1]="RefocusArea";a[a.ReflyToEntity=2]="ReflyToEntity"})(L||(L={}));K.EditorUIImpl=class{constructor(a,b,c,e,m,f,g,k,l,p,q,r,t,v,w,x,y,z,A,B,C,F){this.playerUI=a;this.activityLogger=b;this.editorStore=c;this.mediaService=e;this.mainApp=m;this.userSettingsStore=f;this.userLicenseLoader=g;this.externalServiceProvider=k;this.followerController=l;this.presenterController=p;this.coeditUIController=
q;this.editorOnboardingController=r;this.basicEditController=t;this.globalExceptionStream=v;this.initialEditorMode=w;this.visibleElementsController=x;this.cetPreziSaver=y;this.pluginSession=z;this.spotlight=A;this.errorValueStream=B;this.shortCutStreamDuringEdit=C;this.cetMetadataSaver=F;this.isInitHtml=!1;this.selectionController=eb.SelectionModule.createSelectionController(this.editorStore,()=>this.editScene);this.textSelectionController=E.TextEditorModule.createTextSelectionController(this.selectionController,
this.editorStore,()=>this.editScene);this.renderedUIStateChangeBus=h.Bacon.newBus();this.spotlight.init(m,this.getRenderedUIStateStream());this.externalChangeModeBus=h.Bacon.newBus();this.externalCetNetworkEventBus=h.Bacon.newBus();this.externalComponentFocusActionBus=h.Bacon.newBus();this.externalSelectActionBus=h.Bacon.newBus();this.externalCetDebugFlagBus=h.Bacon.newBus();this.isUndoableActionBus=h.Bacon.newBus();this.isRedoableActionBus=h.Bacon.newBus();this.zoomEventBus=h.Bacon.newBus();this.externalPPTFileStream=
h.Bacon.newBus();this.errorStream=h.Bacon.newBus();this.spellcheckStatusStream=h.Bacon.newBus();this.editorUIComponentStateChangeBusKillMe=h.Bacon.newBus();this.forceUpdateBus=h.Bacon.newBus();this.buses=new qa.EditorStoreBuses(this.editorStore);this.playerUI.getToggleDialogStream().onValue((a)=>{this.visibleElementsController.toggleBuiltinDialog(a)});this.playerUI.getTogglePopupStream().onValue((a)=>{this.visibleElementsController.togglePopup(a)});this.editorStore.getOpenedPopupIdStream().onValue((a)=>
{this.playerUI.togglePopup(a)});window.closePaywallPanel=()=>{this.visibleElementsController.closeDialogs()};window.paywallUpgradeSuccess=()=>{this.editorStore.addUserLicenseInformationStream(h.Bacon.fromPromise(this.userLicenseLoader.loadLicense()));this.userSettingsStore.reloadUserSettings()};d.AppUtilsModule.setLogHelperUtilsEditorModeChangeStream(this.editorStore.getModeStream().map((a)=>a.kind));this.logger=n.LoggerModule.getLoggerManager().createLogger("prezi_editor_ui.EditorUIImpl");this.externalServiceProvider.onSessionClosed(()=>
{this.editorStore.addEditingSessionClosedStream(h.Bacon.once(!0))});this.logHelper=d.AppUtilsModule.getLogHelperUtils();this.initErrorUI();this.commentingController=N.CommentingModule.createCommentingController(this.editorStore.getDeferredUserLicenseInformationStream(),this.visibleElementsController.openPopup);this.keyboardEventBus=h.Bacon.newBus();this.editorStateBus=h.Bacon.newBus();this.shortcutInteractions=new za.ShortcutInteractionsImpl(new da.KeyboardEventMatcherImpl(aa.PreziUAParser.isMac()),
this.keyboardEventBus,this.editorStateBus);this.containerExtraParameters=new ka.ContainerExtraParameters(this.getPlayerOptions().extraParameters);this.templateService=lb.TemplateServiceModule.createTemplateService(this.externalServiceProvider);this.initCopyPasteInfoDialog();this.createEditorUIContainer();this.initSections();this.initMultiProductOnboarding();this.initHtml();this.metaData&&this.editorStore.syncUpdateWithState((a)=>{a.title=this.metaData.title});this.initCoverEditModeChanges();this.initTemplateChooser();
this.startEditingController=new ma.StartEditingControllerImpl(this.templateUIController);this.listenToEditorStateChange(this.editorStore.getDeferredStateStream());this.initInfoLayerManager();this.isLoggedIn()&&!this.isFollower()&&this.presenterController.attachUIDependencies(this.hideRemotePresentationPopup.bind(this),this.getShortcutInteractions());this.initBugReport();this.topMenuSection.setMetadataSaver(F);this.startEditingController.setMetadataSaver(F)}initBugReport(){y.isActive("js-report-bug")?
(window.ATL_JQ_PAGE_PROPS={triggerFunction:(a)=>{this.showJiraCollectorDialog=a},fieldValues:{customfield_10009:"ENGINE-229",customfield_12300:JSON.stringify(n.LoggerModule.getLoggerManager().getConfig())}},$.ajax({url:"https://prezidoc.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/4gk1gl/b/c/3d70dff4c40bd20e976d5936642e2171/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=b876faa3",
type:"get",cache:!0,dataType:"script"})):this.showJiraCollectorDialog=()=>{}}initInfoLayerManager(){this.infoLayerManager=new ta.InfoLayerManager;this.infoLayerManager.registerInfoLayerModeStream(this.topMenuSection.getToggleInfoLayerStream())}initCopyPasteInfoDialog(){const a=$("<div id='copy-paste-info-dialog-ui'></div>")[0];$(this.playerUI.getPlayerDiv()).parent().append(a);this.copyPasteInfoDialog=new na.CopyPasteInfoDialog(a)}getRenderedUIStateStream(){return this.renderedUIStateChangeBus}setMetadata(a){this.metaData=
a;this.isInitHtml&&this.editorStore.syncUpdateWithState((b)=>{b.title=a.title;b.shareService=this.externalServiceProvider.createShareServiceProvider(a.oid);this.getPlayerOptions().userCanComment&&null!=a.oid&&(b=this.externalServiceProvider.createCommentServiceProvider(a.oid),this.commentingController.setCommentingBackend(b),this.commentingController.setContactsBackend(this.externalServiceProvider));b=this.externalServiceProvider.createCollaboratorInfoProvider(a.oid);this.coeditUIController.setShareService(b)});
this.playerUI.setMetadata(a)}updateMetadata(a){const b={};for(let a in this.metaData)this.metaData.hasOwnProperty(a)&&(b[a]=this.metaData[a]);for(let c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);this.setMetadata(b)}getMetadata(){return this.metaData}updateRevision(a){this.metaData.current_version=a}startRendering(){this.editorUIComponentStateChangeBusKillMe.push({startRendering:!0,editScene:this.editScene,startEditingController:this.startEditingController,templatePreviewController:this.templatePreviewController,
templatePreviewCetController:this.templatePreviewCetController,templateService:this.templateService})}startMeeting(){this.followerController.startMeeting();this.startRendering()}startEditing(a){this.startEditingController.startEditing(a)}startTemplateChooser(a){if(null==this.templateUIController)throw Error("Template chooser is not initialized");this.templateUIController.showTemplateChooser(a);this.startRendering()}restartEditor(){this.getEditorStore().reset();this.editMode.getUpdatableAnimationScene_KILLME().update()}initSelectionAvroLogging(){let a=
[];this.editorStore.getSelectionStream().onValue((b)=>{b.allEntityIds.filter((b)=>-1===a.indexOf(b)).map((a)=>this.editMode.getScene().getEntityById(a)).filter((a)=>null!=a).forEach((a)=>{n.avro.Avro.createDefaultLogger().logSelectedObject({object_type:a,topic_relationship:a,parent_type:a,object_id:a.getId()})});a=b.allEntityIds})}initEditorSections(a){this.xmlEditorSection=new Ea.XmlEditorSidebarSection;this.codeSnippetEditorSidebarSection=new Da.CodeSnippetEditorSection;this.styleEditorSection=
new Aa.StyleEditorSidebarSection(a);this.editorUIComponentStateChangeBusKillMe.push({xmlEditorSection:this.xmlEditorSection,codeSnippetEditorSidebarSection:this.codeSnippetEditorSidebarSection,styleEditorSection:this.styleEditorSection,zobjectEditor:a,showJiraCollectorDialog:this.showJiraCollectorDialog,copyPasteInfoDialog:this.copyPasteInfoDialog,privacyPaywallEditorSection:db.createPrivacyPaywallEditorSection(this.getPlayerOptions().hostName)})}createEditorModeChangeAction(a){return a.kind===d.EditorMode.playback?
{newMode:a.kind,trigger:"machine",shouldGoFullscreen:!1,shouldSeekPathToStart:!1,showTopmenu:a.showTopmenu,linkClickedFlow:a.linkClickedFlow,presenterNotesFlow:a.presenterNotesFlow}:{newMode:a.kind,trigger:"machine"}}startEditor(a,b){this.initEditMode();this.editMode.getUpdatableAnimationScene_KILLME().update();var c=this.editMode.getZObjectEditor();this.initSpotlight(c);this.coverController=E.ObjectEditorModule.createCoverController(this.editMode.getScene(),this.editorStore,this.selectionController,
c,c.cover,this.playerUI.getCet().getMainStage());if(this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled()){const a=h.Bacon.newBus();this.addErrorValueStream(a);this.initSelectionAvroLogging();this.preziDocEditController=E.EditorControllerModule.createPreziDocEditController(this.playerUI.getCet().getMainStage(),this.editorStore.getCurrentTopicStream(),this.editorStore.getSelectionStream(),this.editorStore.getCoverEditModeStream(),c,c.doc);this.initEditorSections(c);this.topMenuSection.init(this.commentingController,
this.copyPasteInfoDialog,this.editMode.getApplicationController(),this.editMode.getPluginAccess());this.contextMenuSection.init(this.editMode.getApplicationController());this.preziLayoutController=E.EditorControllerModule.createPreziLayoutController(c);this.propertyBarSection.setApplicationController(this.editMode.getApplicationController())}this.addMediaLoadingErrorListener();this.startRendering();this.initApplication();this.addUnsupportedDocumentErrorListeners();this.addNotReleasedDocumentErrorListeners();
this.initChangeListeners();this.setDocument(this.playerUI.getCet().getDocument(),!1);c=this.createEditorModeChangeAction(a);this.editorStore.addChangeModeActionStream(h.Bacon.once(c));this.editorStore.addUserHasEditRightsStream(h.Bacon.once(b));this.setupStageMargins({editorMode:a,isFullscreen:this.playerUI.isFullscreen(),isStorylineVisible:!0},L.KeepCameraStill);a=w.CetModelEditor.getPageOrChapterId(this.containerExtraParameters.getShowEntityOnStartId(),this.editScene);null!=a&&(this.playerUI.getPlayback().flyToObject(a),
this.containerExtraParameters.isOpenCommentThread()&&null!=this.commentingController&&this.commentingController.goToThreadOnEntity(this.containerExtraParameters.getShowEntityOnStartId()));this.isLoggedIn()&&!this.isFollower()&&this.presenterController.attachUserSettingStore(this.userSettingsStore);this.getPlayerOptions().startInLivePreziMode&&(this.visibleElementsController.togglePopup(l.VisibleElementsControllerImpl.TOPMENU_POPUP_REMOTE_PRESENTATION_ID),O.MeetingModule.createLivePreziLogger("TopMenuSection").logPresenterOpenDialog(this.editorStore.getPresenterState(),
this.playerUI.getOptions().userCanEdit,"details_page",this.playerUI.getOptions().presenterUserName));this.getPlayerOptions().startInMobileClickerMode&&this.visibleElementsController.togglePopup(l.VisibleElementsControllerImpl.MOBILE_CLICKER_POPUP);this.kickPlugins_NEKTON_HACK_KILLME();this.deferUIStateUpdateAfterRenderFrames();y.isActive("js-prezi-stat-log")&&this.initPreziStatLogger()}handleDeeplinks(){(this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled())&&this.startEditingController.handleDeeplinks(this.editMode.getApplicationController().initialUat,
this.playerUI.getOptions(),this.editMode.getPluginAccess())}kickPlugins_NEKTON_HACK_KILLME(){this.editorStore.getOpenTabMenuIdStream().onValue((a)=>{switch(a){case "style":this.editMode.getPluginAccess().send(x.pptInsert,{kind:"tabMenuOpened"});break;case "insert":this.editMode.getPluginAccess().send(x.preziVideoOnboarding,{kind:"insertMenuOpened"});break;case null:this.editMode.getPluginAccess().send(x.pptInsert,{kind:"tabMenuClosed"}),this.editMode.getPluginAccess().send(x.preziVideoOnboarding,
{kind:"insertMenuClosed"})}})}showPopup(a){if(!this.visibleElementsController.isPopupOpen(a))return this.visibleElementsController.togglePopup(a)}integration_test_getZObjectEditor(){return this.editMode.getZObjectEditor()}deferUIStateUpdateAfterRenderFrames(){this.editorStore.initDeferredStream(()=>this.playerUI.getCet().isAnimFramePending(),this.playerUI.getCet().getEndOfFrameStream())}addFullScreenChangeListener(){this.editorStore.addIsFullscreenStream(this.playerUI.getFullScreenChangeStream());
let a=h.Bacon.never().toProperty(0);const b=h.Bacon.combineWith5((a,b,d,f,g)=>({editorMode:b,isFullscreen:a,openedSidebarId:g,currentTopicId:d,isStorylineVisible:f}),this.playerUI.getFullScreenChangeStream(),this.getEditorStore().getModeStream(),this.getEditorStore().getCurrentTopicStream(),this.getEditorStore().getIsStorylineVisibleStream(),this.getEditorStore().getOpenedSidebarIdStream()).toEventStream();b.sampledBy(this.playerUI.getFullScreenChangeStream()).toEventStream().merge(b.sampledBy(this.playerUI.getCet().getMainStage().getSceneReplacedStream()).toEventStream()).merge(b.sampledBy(this.getEditorStore().getCurrentTopicStream()).toEventStream()).merge(b.sampledBy(this.playerUI.getCet().getCetUI().getResizeStream()).toEventStream()).onValue((a)=>
{this.setupStageMargins(a,L.KeepCameraStill)});b.sampledBy(this.getEditorStore().getOpenedSidebarIdStream()).onValue((a)=>{this.setupStageMargins(a,L.ReflyToEntity)});b.sampledBy(a).onValue((a)=>{this.setupStageMargins(a,L.ReflyToEntity)});b.sampledBy(this.editorStore.getIsStorylineVisibleStream()).onValue((a)=>this.setupStageMargins(a,L.ReflyToEntity));this.editorStore.getCoverEditModeStream().map((a)=>null==a?null:a.topicId).onValue((a)=>{this.coverEditTopicId=a})}createEditorUIContainer(){this.editorUIcontainer=
$("<div id='koi-editor-ui-container'></div>")[0];this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled()||!1!==this.getPlayerOptions().isPrezipage||this.getPlayerOptions().startInLivePreziMode||(this.editorUIcontainer.style.display="none");$(this.playerUI.getPlayerDiv()).parent().append(this.editorUIcontainer)}initErrorUI(){const a=this.errorStream.errors().mapError((a)=>a).merge(this.errorValueStream);this.errorValueStream.filter((a)=>a.errorCase===J.EditorErrorCase.DOCUMENT_ACCESS_DENIED_FOR_USER).onValue(()=>
this.editorStore.syncUpdateWithState(()=>{this.editorStore.addUserHasEditRightsStream(h.Bacon.once(!1));this.editorStore.addChangeModeActionStream(h.Bacon.once({newMode:d.EditorMode.playback,trigger:"DOCUMENT_ACCESS_DENIED_FOR_USER",shouldGoFullscreen:!1,shouldSeekPathToStart:!1,showTopmenu:!0,linkClickedFlow:!1,presenterNotesFlow:!1}))}));a.onValue((a)=>{this.editorStore.syncUpdateWithState((b)=>{b.error=a});ba.logErrorData(this.logger,a)})}initSpotlight(a){this.spotlight.ui.initUi(a)}initApplication(){this.canvasListener=
this.playerUI.getCanvasListener();this.canvasListener.addComponentFocusStream(this.editorStore.getComponentFocusStream());this.canvasListener.addNonEditedTextInFocusStream(this.editorStore.getTextSelectionStateStream().map((a)=>!!a&&!a.isEditing()));this.editorStore.addComponentFocusStream(this.playerUI.getComponentFocusActionStream());this.keyboardEventBus.plug(this.canvasListener.getKeyboardEventStream());this.editorStateBus.plug(this.editorStore.getStateStream());var a=h.Bacon.combineWith((a,c)=>
({mode:a,isFullscreen:c}),this.editorStore.getModeStream(),this.editorStore.getIsFullscreenStream());this.playerUI.setModeStream(a);this.playerUI.setCurrentTopicIdStream(this.editorStore.getCurrentTopicStream());this.playerUI.setCurrentTopicNavigationStream(this.editorStore.getCurrentTopicNavigationStream());this.playerUI.setCoverEditModeStream(this.editorStore.getCoverEditModeStream());this.playerUI.setIsStorylineVisibleStream(this.editorStore.getIsStorylineVisibleStream());this.storeAudioStateStream=
this.editorStore.getDeferredStateStream().filter((a)=>null!=a.state.audioState).map((a)=>a.state.audioState);this.playerUI.setAudioStateStream(this.storeAudioStateStream);a=this.editorStore.getPresenterStateStream().map((a)=>O.MeetingModule.isRemotePresentationInProgress(a));this.playerUI.setRemotePresentationInProgressStream(a);a=this.editScene.getPrezi().get(w.CetModelEditor.getStageQueryKey());this.initFeatures(this.mouseStreamDuringEdit,a);if(this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled())this.initEditorFeatures(a),
this.initEditor();this.editorStore.addRecalculateEntityUnderMouseActionStream(this.playerUI.getPlayback().getRecalculateEntityUnderMouseActionStream());this.editorStore.addCurrentTopicActionStream(this.playerUI.getPlayback().getCurrentTopicActionStream());this.playerUI.getPlaybackForWiring().setCameraNavigationStream(this.playerUI.getCet().getMainStage().getNavigationActions());this.playerUI.getPlaybackForWiring().setupSceneChangeHandler(this.editorStore.getCurrentTopicStream());(new ua.MouseCursorChangeHandler).startHandler(this.playerUI.getPlayerDiv(),
this.editBehavior);this.editorStore.addNavbarFullyVisibleStream(this.playerUI.getNavbarFullyVisibleStream());this.initActivityLogger();this.editorStore.getOpenedDialogPropsStream().onValue((a)=>{this.externalServiceProvider.onActiveViewChange(a.kind!==k.DialogKind.None&&a.isModal?I.ActiveView.Iframe:I.ActiveView.Canvas)});this.setupChangeMode();this.initPopupCloser()}removeHoverOnCameraFly(){this.playerUI.getCet().getMainStage().getNavigationActions().filter((a)=>a.animationType===z.NavigationActionAnimationType.Snap||
a.animationType===z.NavigationActionAnimationType.Fly).onValue(()=>this.editorStore.setCanvasHoveredEntityIds(null))}initEditor(){window.upgrade_logger=(a,c)=>{this.logHelper.upgradeLicence(this.logger,a,c)};this.editorStore.addComponentFocusStream(this.externalComponentFocusActionBus);this.wireUIToFeatures();this.setupDragAndDrop();this.removeHoverOnCameraFly();const a=this.editMode.getZObjectEditor().getInsertedEntityIdsStream();(this.getPlayerOptions().userCanEdit?this.externalSelectActionBus.merge(this.contextMenu.getSelectActionStream()).merge(a.filter(K.EditorUIImpl.filterOutUserInsertions).map((a)=>
K.EditorUIImpl.createSelectActionEvent(a.ids))).merge(this.commentingController.getSelectActionStream()).merge(this.textEditorController.getSelectAction()):h.Bacon.never()).onValue((a)=>{this.selectionController.select(a)});a.onValue((a)=>{a.flyToId&&this.playerUI.getCet().getMainStage().getModelScene().requestNoDomBatchUpdate(()=>{this.playerUI.getPlayback().flyToObject(a.flyToId)})});this.setCurrentTopicChangeActions();this.editorStore.addIsUndoableActionStream(this.isUndoableActionBus);this.editorStore.addIsRedoableActionStream(this.isRedoableActionBus);
this.initMouseRightClickLogger()}setupChangeMode(){var a=this.playerUI.getFullScreenChangeStream();const b=this.editorStore.getModeStream();a=b.sampledBy(a.filter((a)=>!a)).map((a)=>a.kind===d.EditorMode.playback?a.linkClickedFlow?{newMode:d.EditorMode.playback,showTopmenu:a.showTopmenu,presenterNotesFlow:a.presenterNotesFlow,linkClickedFlow:!1,shouldGoFullscreen:!1,shouldSeekPathToStart:!1,trigger:"Esc"}:a.presenterNotesFlow?{newMode:d.EditorMode.playback,showTopmenu:a.showTopmenu,linkClickedFlow:a.linkClickedFlow,
presenterNotesFlow:a.presenterNotesFlow,shouldGoFullscreen:!1,shouldSeekPathToStart:!1,trigger:"Esc"}:{newMode:d.EditorMode.edit,trigger:"Esc"}:null).filter((a)=>null!=a);a=h.Bacon.mergeAll([this.editBehavior.getChangeModeActionStream(),this.externalChangeModeBus,this.contextMenu.getChangeModeAction(),this.topMenuSection.getChangeModeStream(),this.playerUI.getChangeModeActionStream(),a]);null!=this.presenterController&&(a=a.merge(this.presenterController.getChangeModeActionStream()));const c=h.Bacon.newBus();
h.Bacon.combineWith((a,b)=>({currentMode:b,newMode:a}),a,b).sampledBy(a).onValue((a)=>{a.currentMode.kind===d.EditorMode.edit&&this.getEditScene().rc_DONT_USE_THIS_METHOD_DISCUSS_WITH_API_TEAM({message:"changeModeActionStream",snapshotBefore:{reset:()=>{}},snapshotAfter:{reset:()=>{}}});c.push(a.newMode)});c.onValue((a)=>{a.newMode!==d.EditorMode.playback||!a.shouldGoFullscreen||this.playerUI.isFullscreen()||y.isActive("js-disable-fullscreen-start-presentation")||this.playerUI.toggleFullscreen();
a.newMode===d.EditorMode.playback&&a.shouldSeekPathToStart&&this.playerUI.getPlayback().initPosition(!1)});this.externalSelectActionBus.plug(a.filter((a)=>a.newMode===d.EditorMode.playback).map(()=>({selectedGroupIds:[],selectedEntityIds:[],type:B.SelectActionType.replace})));a.filter((a)=>a.newMode===d.EditorMode.playback).onValue(()=>this.editorStore.setCanvasHoveredEntityIds(null));this.editorStore.addChangeModeActionStream(c);this.editorStore.getModeStream().onValue((a)=>{this.playerUI.getCet().getMainStage().getCamera().setIsZoomLimitEnforced(a.kind===
d.EditorMode.edit);switch(a.kind){case d.EditorMode.edit:this.playerUI.getCet().setSpeedMeasurementMode("edit");break;case d.EditorMode.playback:this.playerUI.getCet().setSpeedMeasurementMode("present");break;case d.EditorMode.view:this.playerUI.getCet().setSpeedMeasurementMode("view")}})}initPreziStatLogger(){this.preziStatLogger=new Y.PreziStatLogger(this.templateService,window,this.baseScene);this.editorStore.getTemplateDataStream().skipDuplicates((a,b)=>a.templateId===b.templateId&&a.themeId===
b.themeId).onValue((a)=>this.preziStatLogger.onTemplateInfoChange(a))}integration_test_forceStatLog(){null!=this.preziStatLogger&&this.preziStatLogger.forceLogForTest()}integration_test_closeModals(){this.visibleElementsController.closeDialogs()}setupStageMargins(a,b){var c=0,e=0;let f=0,g=0;if(!a.isFullscreen)if(a.editorMode.kind===d.EditorMode.edit||a.editorMode.kind===d.EditorMode.animationPreview){if(e=M.Sidebar.width(a.openedSidebarId),e=y.isActive("js-test-override-margins")&&!y.isActive("js-test-no-override-margins")?
60:e,c=this.height("[data-lookup='propertybar']"),c=y.isActive("js-test-override-margins")&&!y.isActive("js-test-no-override-margins")?90:(this.height(".koi-topmenu")||this.height(".koi-topmenu-desktop"))+c,g=a.isStorylineVisible?y.isActive("js-for-test-old-timeline-width")?168:p.leftSidebarWidth:0,this.coverEditTopicId&&(c+=K.EditorUIImpl.COVER_EDIT_RIBBON_HEIGHT),!y.isActive("js-disable-zoom-bounds-padding")){var h=this.playerUI.getCet().getMainStage().getCamera();const a=.015*h.getViewport().getHeight();
h=.015*h.getViewport().getWidth();c+=a;f+=a;g+=h;e+=h}}else a.editorMode.kind===d.EditorMode.playback?(c=a.editorMode.showTopmenu?this.height(".koi-topmenu")||this.height(".koi-topmenu-desktop"):0,f=this.height(".koi-navbar")):a.editorMode.kind===d.EditorMode.view&&(c=this.height(".koi-topmenu")||this.height(".koi-topmenu-desktop"),f=this.height(".koi-navbar"));this.playerUI.setMargins(c,e,f,g,a.editorMode.kind===d.EditorMode.playback||a.editorMode.kind===d.EditorMode.view||a.editorMode.kind===d.EditorMode.follow,
b===L.KeepCameraStill||b===L.ReflyToEntity);b===L.ReflyToEntity&&(a=this.playerUI.getCet().getMainStage().getEntityIdInFocus(),null!=a&&this.playerUI.getPlayback().flyToObject(a))}height(a){return $(a).first().height()}setupPlayback(){var a=this.editorStore.getModeStream().map((a)=>a.kind===d.EditorMode.playback||a.kind===d.EditorMode.view),b=this.canvasListener.getMouseInteractionStream().filterWithStream(a).merge(this.editMode.getOutputInteractionStream());a=this.canvasListener.getKeyboardStream().filterWithStream(a);
const c=this.editorStore.getCurrentTopicStream();this.zoomEventBus.plug(this.playerUI.getZoomEventStream());this.coverController&&this.coverController.setPlayback(this.playerUI.getPlayback());this.playerUI.getPlaybackForWiring().initInteractionStreams(this.shortcutInteractions,b,this.canvasListener.getKeyboardStream(),c,this.zoomEventBus,this.editorStore.getModeStream(),this.editorStore.getIsFollowerStream(),this.editorStore.getCoverEditModeStream(),this.editorStore.getSelectionStream());b=this.editorStore.getModeStream().map((a)=>
a.kind===d.EditorMode.edit);this.playerUI.setIsStorylineOn(b);this.playerUI.setKeyboardStream(a)}wireContextMenu(){this.editorStore.addOpenedDialogPropsStream(this.contextMenu.getOpenModalActionStream().map((a)=>({kind:k.DialogKind.Builtin,id:a,isModal:!0})));this.editorStore.addContextMenuRequestStream(this.contextMenu.getContextMenuRequestStream());this.editorStore.addChangeContextMenuStateStream(this.contextMenu.getChangeContextMenuStateActionStream());const a=E.EditorControllerModule.createClipboardTrigger();
this.contextMenu.getCopyPasteActionStream().onValue((b)=>{let c=!1;b===E.CopyPasteType.COPY?c=a.triggerCopy():b===E.CopyPasteType.PASTE?c=a.triggerPaste():b===E.CopyPasteType.CUT&&(c=a.triggerCut());c||(n.avro.Avro.createDefaultLogger().logLoadedInvalidPasteDialog(),this.copyPasteInfoDialog.show())})}setCurrentTopicChangeActions(){this.editorStore.getCurrentTopicStream().onValue(()=>{this.externalSelectActionBus.push({selectedGroupIds:[],selectedEntityIds:[],type:B.SelectActionType.replace})})}setupDragAndDrop(){this.clipboard.addDropTargetElement(this.playerUI.getPlayerDiv());
this.clipboard.excludeDropTargetElement(this.editorUIcontainer)}setExternalComponentFocusActionStream(a){this.externalComponentFocusActionBus.plug(a)}setExternalChangeModeActionStream(a){this.externalChangeModeBus.plug(a)}sendSelectAction_FOR_TEST(a){this.externalSelectActionBus.push(a);return Promise.resolve()}setExternalCetDebugFlagStream(a){this.externalCetDebugFlagBus.plug(a)}activeInputElementSelectAll(){const a=document.activeElement;return null!=a&&a.hasAttribute("data-prezi-input")?(a.select(),
!0):!1}addUIFocusLogic(a){$(document).focusin((a)=>{$(a.target).hasClass("ui-input-focus")?this.buses.uiComponentFocusBus.push(F.ComponentFocusAction.enterUiInput):0<$(a.target).closest("[data-prezi-input]").length&&this.buses.uiComponentFocusBus.push(F.ComponentFocusAction.enterUi)});$(a).focusout((a)=>{0<$(a.target).closest("[data-prezi-input]").length&&this.buses.uiComponentFocusBus.push(F.ComponentFocusAction.exitAll)})}getShortcutInteractions(){return this.shortcutInteractions}getEditScene(){return this.editScene}initSections(){this.topMenuSection=
new Ba.TopMenuSection(this.visibleElementsController,this.externalServiceProvider,this.getPlayerOptions().showFileMenuShowInfo,this.getPlayerOptions().hideFileMenuYourPrezis,this.playerUI,this.editorOnboardingController,this.basicEditController,this.mainApp.getMainStage().getCamera(),this.spellcheckStatusStream);this.contextMenuSection=new la.ContextMenuSection;this.isFollower()?this.globalNotificationSection=new P.GlobalNotification(this.followerController):this.globalNotificationSection=new P.GlobalNotification(this.presenterController);
this.ribbonSection=new xa.RibbonSection;this.widgetUtils=v.KoiWidgetsModule.createUtils();if(this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled())this.propertyBarSection=new wa.PropertyBarSection(this.visibleElementsController,this.basicEditController,this.editorStore),this.commentingSection=N.CommentingModule.createCommentingSection(this.commentingController);this.coeditUISection=$a.CoeditUIModule.createCoeditUISection(this.coeditUIController);this.onboardingSection=V.OnboardingModule.createOnboardingSection()}initMultiProductOnboarding(){let a=
this.getPlayerOptions().startInLivePreziMode||this.getPlayerOptions().isFollower;this.multiProductOnboardingController=V.OnboardingModule.createMultiProductOnboardingController(this.userSettingsStore,a,this.playerUI.getOptions().language,this.playerUI.getOptions().externalServiceType)}addMediaLoadingErrorListener(){this.playerUI.getCet().getAssetFetchingErrorObservable().take(1).onValue((a)=>{this.editorStore.syncUpdateWithState((a)=>{a.mediaLoadingError=!0});this.logHelper.mediaError(this.logger,
"media",a.message)})}showUnsupportedDocumentError(){this.errorValueStream.push({errorCase:J.EditorErrorCase.DOCUMENT_HAS_UNSUPPORTED_ELEMENTS,unclosable:!0,customDialogContent:this.externalServiceProvider.getCustomErrorDialog(J.EditorErrorCase.DOCUMENT_HAS_UNSUPPORTED_ELEMENTS,this.getPlayerOptions().userCanEdit)})}showNotReleasedFeatureError(a){const b=d.AppUtilsModule.createAppInitUtils().isStaffOrTestUser(this.getPlayerOptions().email);this.errorValueStream.push({errorCase:J.EditorErrorCase.DOCUMENT_VERSION_NOT_ENABLED,
unclosable:!b,customDialogContent:this.externalServiceProvider.getCustomErrorDialog(J.EditorErrorCase.DOCUMENT_VERSION_NOT_ENABLED,this.getPlayerOptions().userCanEdit,a)})}showUnsupportedOperationError(){this.errorValueStream.push({errorCase:J.EditorErrorCase.UNSUPPORTED_DOCUMENT_OPERATION,unclosable:!1,customDialogContent:this.externalServiceProvider.getCustomErrorDialog(J.EditorErrorCase.UNSUPPORTED_DOCUMENT_OPERATION,this.getPlayerOptions().userCanEdit)})}addUnsupportedDocumentErrorListeners(){this.playerUI.getCet().getDocumentVersionInfoStream().filter((a)=>
a.hasUnknownElements).map(()=>null).toEventStream().onValue(()=>this.showUnsupportedDocumentError());let a=!1;this.playerUI.getCet().getDocumentVersionInfoStream().filter((a)=>null==a.documentGeneration).onValue(()=>{a||this.logger.warn({action:"documentGeneration",object:"documentGeneration",trigger:"machine",payload:{message:"documentGeneration is null"}});a=!0});if(null!=this.clipboard)this.clipboard.getUnsupportedPastedDocumentErrorStream().onValue(()=>this.showUnsupportedOperationError(!1))}addNotReleasedDocumentErrorListeners(){if(!y.isActive("js-disable-topic-child-behavior-warning"))this.playerUI.getCet().getDocumentVersionInfoStream().map((a)=>
a.documentGeneration===G.DOM.ENUMS().DOCUMENT_GENERATION().PPTX_TOPIC_BEHAVIOUR_EXT()||a.documentGeneration===G.DOM.ENUMS().DOCUMENT_GENERATION().TOPIC_BEHAVIOUR_EXT()).skipDuplicates().filter((a)=>a).onValue(()=>this.showNotReleasedFeatureError("Unreleased topic child behavior detected - use Debug menu to remove them if not intended"));h.Bacon.never().onValue(()=>this.showNotReleasedFeatureError("Prevent unused expression on showNotReleasedFeatureError"))}initTemplateChooser(){this.templateUIController=
new T.TemplateUIController(this.mainApp,this.templateService,this.buses.changeModeBus,this.getPlayerOptions().language);this.templatePreviewCetController=kb.createTemplatePreviewCetController(this.shortcutInteractions,this.mainApp);this.templatePreviewController=jb.createTemplatePreviewController()}getEditmode(){return this.editMode}initEditMode(){var a=this.editorStore.getModeStream().map((a)=>a.kind!==d.EditorMode.info).skipDuplicates();this.playerUI.startRendering(a);this.canvasListener=this.playerUI.getCanvasListener();
var b=this.editorStore.getOpenedDialogPropsStream().map((a)=>!(a.kind!==k.DialogKind.None&&a.isModal));this.mouseStreamDuringEdit=this.canvasListener.getMouseInteractionStream().filterWithStream(this.editorStore.getBoolModeStream(d.EditorMode.edit)).filterWithStream(b);a=this.canvasListener.getKeyboardStream().filterWithStream(this.editorStore.getBoolModeStream(d.EditorMode.edit)).filterWithStream(b);this.shortCutStreamDuringEdit.plug(this.shortcutInteractions.getShortcutInteractionStream().filterWithStream(this.editorStore.getBoolModeStream(d.EditorMode.edit)).filterWithStream(b));
b=this.playerUI.getCet();this.editMode=E.EditorControllerModule.createEditmode(this.getMetadata(),b,this.mouseStreamDuringEdit,a,this.shortCutStreamDuringEdit,this.editorStore,this.selectionController,this.textSelectionController,this.basicEditController,this.topMenuSection.getSelectAllStream().filter(()=>!this.activeInputElementSelectAll()),this.mediaService,()=>this.visibleElementsController.togglePopup(l.VisibleElementsControllerImpl.CUSTOM_STARTING_POINT_DECORATOR_POPUP),this.errorStream,this.editorStore.getCurrentTopicStream(),
this.templateService,this.externalServiceProvider,this.externalServiceProvider.assetLoaderProvider,this.cetPreziSaver,this.pluginSession,this.cetMetadataSaver,()=>this.playerUI.openPresenterView());this.addErrorValueStream(this.editMode.getErrorValueStream());this.editScene=this.editMode.getScene();this.editorStore.syncUpdateWithState((a)=>{a.editScene=this.editScene})}initFeatures(a,b){const c=this.playerUI.getCet();this.setupPlayback();this.thumbnailService=mb.ThumbnailRenderModule.createThumbnailService(this.pluginSession.getThumbnailSession(),
this.editScene);this.editorStore.syncUpdateWithState((a)=>{a.thumbnailService=this.thumbnailService});this.playerUI.setThumbnailService(this.thumbnailService);this.baseScene=c.getBaseScene();this.initSpellchecker();this.contextMenu=ab.ContextMenuModule.createContextMenu(a,this.playerUI.getCet().getMainStage(),this.editScene,b,this.editorStore.getSelectionStream(),this.editorStore.getCurrentTopicStream(),this.editorStore.getCoverEditModeStream(),this.editorStore.getPropertyBarPropsStream(),this.coverController,
this.commentingController,this.playerUI.getOptions().externalServiceType,this.externalServiceProvider,this.spellcheckerService,this.preziLayoutController,this.editMode.getZObjectEditor(),(a)=>this.visibleElementsController.openPopup(a));this.editBehavior=E.EditorControllerModule.createEditorBehavior(this.playerUI.getCet(),this.editMode,this.playerUI.getPlayback(),this.canvasListener,this.editorStore,this.selectionController,this.editMode.getZObjectEditor());const e=this.playerUI.getCet();this.playerUI.getPlayback().getPathNavigationEndStream().sampledBy(e.getEndOfFrameStream()).take(1).onValue(()=>
{e.getAssetManager().setUrgentIdLister({getUrgentIds:()=>Ya.CetRendererModule.getEntityIdsToRender(c.getMainStage().getCamera(),c.getMainStage().getRenderedScene().getPreziW())});e.getAssetManager().downloadInitialBatch()});if(this.getPlayerOptions().userCanComment){this.commentingController.init({baseScene:c.getBaseScene(),playbackScene:this.playerUI.getPlayback().getScene(),mainStage:this.playerUI.getCet().getMainStage(),domLayerManager:c.getDomLayerManager(),currentTopicProperty:this.getEditorStore().getCurrentTopicStream(),
deferredOpenedPopupIdStream:this.getEditorStore().getDeferredOpenedPopupIdStream(),playback:this.playerUI.getPlayback(),editorModeProperty:this.editorStore.getModeStream().map((a)=>a.kind),fullScreenChangeProperty:this.editorStore.getIsFullscreenStream(),isRemotePresentationInProgressProperty:this.editorStore.getPresenterStateStream().map(O.MeetingModule.isRemotePresentationInProgress),networkStatusProperty:this.editorStore.getNetworkStatusStream(),coverEditMode:this.editorStore.getCoverEditModeStream(),
userHasCommentRightProperty:this.editorStore.getUserHasCommentRightsStream()});this.commentingController.getHoveredEntityStream().onValue(({hoveredEntityIds:a})=>this.editorStore.setUiHoveredEntityIds(a));this.editorStore.addComponentFocusStream(this.commentingController.getComponentFocusStream());this.editorStore.addCommentingStateChangeStream(this.commentingController.getCommentingUpdatedStream().map(()=>null));this.commentingController.getStopCoverEditingStream().onValue(()=>{this.coverController.stopCoverEditing("OPEN-COMMENT-POPUP")});
this.playerUI.setHighlightEntityIdsStream(this.editorStore.getCurrentTopicStream().combineAndSample((a,b)=>b===a?[]:[b],h.Bacon.mergeAll([this.commentingController.getOpenPopupForEntityIdStream(),this.contextMenu.getEntityIdForContextMenuInPreviewStream()])));this.playerUI.setHighlightEntityIdsStream(this.editorStore.getOpenedPopupIdStream().filter((a)=>!N.CommentingModule.isThreadboxPopupId(a)&&"contextMenuPopup"!==a).map(()=>[]));this.initPreviewContextMenu();this.playerUI.setPreviewInsertCommentButtonVisibilityStream(this.commentingController.getPreviewInsertCommentButtonVisibilityStream());
a=null==this.topMenuSection?h.Bacon.never():this.topMenuSection.getAddCommentStream().map(()=>N.OpenCommentThreadTrigger.INSERT_MENU);b=null==this.propertyBarSection?h.Bacon.never():this.propertyBarSection.getAddCommentStream().map(()=>N.OpenCommentThreadTrigger.PROPERTY_BAR);const e=null==this.playerUI?h.Bacon.never():this.playerUI.getAddCommentStream().map(()=>N.OpenCommentThreadTrigger.PLAYER_UI),d=null==this.contextMenu?h.Bacon.never():this.contextMenu.getCommentOnEntityStream().map((a)=>({entityId:a,
trigger:N.OpenCommentThreadTrigger.CONTEXT_MENU}));this.commentingController.addOpenCommentPopupStream(d.merge(h.Bacon.combineWith((a,b)=>{let c=null;b.allEntityIds.forEach((a)=>{a=this.playerUI.getCet().getMainStage().getModelScene().getEntityById(a);null!=a&&a.isDef(A.CetModel.ID.Z_OBJECT)&&(c=a.getId())});return c||a},this.editorStore.getCurrentTopicStream(),this.editorStore.getSelectionStream()).combineAndSample((a,b)=>({entityId:a,trigger:b}),a.merge(b).merge(e))));this.globalNotificationSection.getCloseNotificationStream().onValue((a)=>
{a===P.GlobalNotificationId.BetaEnding&&this.editorUIComponentStateChangeBusKillMe.push({hiddenBetaEndingNotification:!0})})}a=this.globalNotificationSection.getCloseNotificationStream().filter((a)=>a===P.GlobalNotificationId.ExceptionUIClose).map(()=>null);this.editorStore.addGlobalExceptionStream(a);this.commentingController.getOpenModalIdStream().onValue((a)=>{"desktop"===this.playerUI.getOptions().externalServiceType?a===k.BuiltinDialog.contactSalesCommenting&&this.externalServiceProvider.showUpsellDialog(I.UpsellFeature.Commenting):
this.visibleElementsController.toggleBuiltinDialog(a)});this.coeditUIController&&this.coeditUIController.initHoverAvatarRendering(this.editScene,this.baseScene,this.playerUI.getCet().getDomLayerManager(),this.playerUI.getCet().getMainStage());Ha.PresenterViewModule.init({runner:this.editMode.getZObjectEditor(),playerUI:this.playerUI,navigationEventStream:this.editorStore.getDeferredNavigationEventStream(),audioStream:this.storeAudioStateStream,thumbnailService:this.thumbnailService,presenterViewProvider:this.externalServiceProvider,
getMetadata:()=>this.metaData||{_PreziMetadata_:void 0},idToPathPos:()=>w.CetModelEditor.createPathElementIdToPlaybackPathPositionMapFromScene(this.editScene)});this.initOnboarding()}initSpellchecker(){return xb(this,void 0,void 0,function*(){this.editorStore.addSpellcheckStatusStream(this.spellcheckStatusStream);const a=this.playerUI.getCet(),b=this.baseScene.getIdleChangeStream(z.ChangeEventKind.Entity);this.spellcheckerService=hb.createSpellcheckerService(a,b,this.editScene,this.spellcheckStatusStream)})}initPreviewContextMenu(){this.contextMenu.addPreviewMouseInteractionStream(this.canvasListener.getMouseInteractionStream().filter((a)=>
a.type===t.MouseInteractionType.ContextMenu).filterWithStream(this.playerUI.getFullScreenChangeStream().map((a)=>!a)).filterWithStream(this.editorStore.getBoolModeStream(d.EditorMode.playback)).filterWithStream(this.editorStore.getPresenterStateStream().map((a)=>!O.MeetingModule.isRemotePresentationInProgress(a))))}getCommentingController(){return this.commentingController}initEditorFeatures(a){this.textEditorController=E.TextEditorModule.createTextEditorController(this.editorStore.getSelectionStream(),
this.editorStore,this.canvasListener.getMouseInteractionStream().filterWithStream(this.editBehavior.getResizeControlPointStream().map((a)=>!a).toProperty(!0)),this.textSelectionController,this.editorStore.getComponentFocusStream(),this.editMode.getZObjectEditor(),this.editMode.getZObjectEditor().action,a,this.playerUI.getCet().getMainStage().getCamera(),this.playerUI.getCet().getDomLayerManager(),this.topMenuSection.getSelectAllStream(),this.editBehavior,this.editorStore.getModeStream().map((a)=>
a.kind));this.contextMenu.setTextEditorController(this.textEditorController);this.playerUI.getPlayback().getIsPanningStream().filter((a)=>a).onValue(()=>{this.textSelectionController.clearSelection()});this.textEditorController.getFocusInOutStream().onValue((a)=>{this.buses.uiComponentFocusBus.push(a?F.ComponentFocusAction.enterTextEditor:F.ComponentFocusAction.exitAll)});this.visiblePropertyBarHandler=new Ca.VisiblePropertyBarHandler(h.Bacon.combineWith4((a,c,e)=>({currentTopicId:a,coverEditMode:c,
selectedIds:e.allEntityIds}),this.editorStore.getCurrentTopicStream(),this.editorStore.getCoverEditModeStream(),this.editorStore.getSelectionStream(),this.editorStore.getModeStream().map((a)=>a.kind)),this.editScene);this.clipboard=E.EditorControllerModule.createClipboard(this.playerUI.getCet().getMainStage(),this.editScene,this.preziDocEditController,this.textEditorController,this.coverController,this.editMode.getApplicationController(),this.editMode.getDragPlaceholderController(),w.CetModelEditor.createCameraControl(this.playerUI.getCet().getMainStage().getCamera()),
this.playerUI.getCet())}wireUIToFeatures(){this.externalCetNetworkEventBus.plug(this.topMenuSection.getCetNetworkEventStream());this.editorStore.addCoeditOfflineOnlineSwitchStream(this.topMenuSection.getOfflineCoeditStatusStream());this.editorStore.addNetworkStatusStream(this.topMenuSection.getNetworkStatusBus());this.editorStore.addEditingSessionClosedStream(this.topMenuSection.getEndSessionBus());this.editorStore.getModeStream().filter((a)=>a.kind===d.EditorMode.playback||a.kind===d.EditorMode.view).onValue(()=>
this.textSelectionController.clearSelection());this.editorStore.addSaveTypeStream(this.topMenuSection.getSaveTypeStream());this.wireClipboard();this.wireContextMenu();this.topMenuSection.getCetDebugFlagStream().onValue((a)=>{z.Cet.toggleDebugFlag(a);this.playerUI.getCet().getMainStage().markViewChanged()});const a=this.editBehavior.setupInvariantChecks(this.playerUI.getCet().getEndOfFrameStream().filterWithStream(this.topMenuSection.getCetDebugFlagStream().merge(this.externalCetDebugFlagBus).filter((a)=>
a===z.DebugFlag.CHECK_INVARIANTS).scan(y.isActive("js-developer-features"),(a)=>!a).log("Continuous editor invariant check: ").toProperty()).filterWithStream(this.playerUI.getAutoplaySpeedTestHelper().getSpeedTestInProgressStream().map((a)=>!a)));this.editorStore.addGlobalExceptionStream(this.globalExceptionStream);a.onValue((a)=>{this.editorStore.syncUpdateWithState((b)=>{b.invariantError=a});null!=a&&(n.LoggerModule.logException(this.logger,"prezi","assert_fail","Invariant violated: "+a),setTimeout(()=>
{throw Error(a);},0))});this.editorStore.addPropertyBarPropsStream(this.visiblePropertyBarHandler.getChangePropertyBarAction());h.Bacon.mergeAll([this.contextMenu.getObjectDeleteActionStream(),this.clipboard.getDeleteActionStream()]).onValue((a)=>{this.editMode.getZObjectEditor().executeApiCommand(this.editMode.getZObjectEditor().action.deleteObjectCmd(a.entityIds,a.trigger))});this.baseScene.getImmediateChangeStream(z.ChangeEventKind.Entity).onValue((a)=>{const b=[],e=[];a.forEach((a)=>{if(a.type===
A.ChangeType.RemoveEntity){a=a.entity;const c=a.get(z.Cet.getDefComponentKey());c.isDef(A.CetModel.ID.GROUP)?b.push(a.getId()):c.isDef(A.CetModel.ID.PATH_STEP)||e.push(a.getId())}});if(0<b.length||0<e.length)this.selectionController.select({type:B.SelectActionType.remove,selectedGroupIds:b,selectedEntityIds:e}),this.editorStore.removeCanvasHoveredEntityIds(e)});this.shortcutInteractions.getShortcutStream(t.ShortcutAction.SAVE).onValue((a)=>{a.preventDefault();this.buses.saveTypeBus.push("MANUAL");
this.basicEditController.save()});window.addEventListener("message",(a)=>{this.handleSupportIframeMessage(a)},!1);this.wireCoverController()}wireCoverController(){this.editorStore.getCoverEditModeStream().onValue((a)=>{this.coverEditTopicId=null==a?null:a.topicId})}handleSupportIframeMessage(a){if("https://prezi.com"===a.origin&&a.data){let b={};try{b=JSON.parse(a.data)}catch(c){if(!(c instanceof SyntaxError))throw c;}b.helpView&&this.editorStore.syncUpdateWithState((a)=>{a.showSupportBackButton=
b.helpView.showBackButton})}}initHtml(){this.addUIFocusLogic(this.editorUIcontainer);fa.render(this.createElement(),this.editorUIcontainer);this.isInitHtml=!0}initChangeListeners(){this.addFullScreenChangeListener();this.playerUI.getCet().registerSnapshotCreator({createSnapshot:()=>{const a=this.textSelectionController.getTextSelectionInfo(),c=this.editorStore.getTextSelectionState().getEditingSessionId();return{reset:()=>{this.editorStore.getTextSelectionState().getEditingSessionId()===c?this.textSelectionController.setTextSelection(a):
this.selectionController.select({selectedGroupIds:[],selectedEntityIds:[],type:B.SelectActionType.replace})}}}});this.playerUI.getCet().getCetSessionEditStream().onValue(()=>{this.isUndoableActionBus.push(this.editScene.isUndoable());this.isRedoableActionBus.push(this.editScene.isRedoable())});const a=new X.CetChangeStreams(this.editScene);this.editorStore.addPropertyBarPropsStream(a.createEntitiesInPropBarChangeStream(this.editorStore));T.TemplateUIController.addTemplateInfoListener(this.baseScene,
this.editorStore)}addErrorStream(a){this.errorStream.plug(a)}addErrorValueStream(a){this.errorValueStream.plug(a)}initActivityLogger(){this.activityLogger.listenToEvents(d.ActivityContext.EDITOR,this.canvasListener.getMouseInteractionStream().filter((a)=>a.type===t.MouseInteractionType.Click||a.type===t.MouseInteractionType.DragEnd||a.type===t.MouseInteractionType.Zoom));this.activityLogger.listenToEvents(d.ActivityContext.EDITOR,this.canvasListener.getKeyboardStream());this.activityLogger.listenToEvents(d.ActivityContext.EDITOR,
h.Bacon.fromEvent(this.editorUIcontainer,"keypress"));this.activityLogger.listenToEvents(d.ActivityContext.EDITOR,h.Bacon.fromEvent(this.editorUIcontainer,"click"));this.activityLogger.listenToEventsForInsights(d.ActivityContext.EDITOR,this.canvasListener.getMouseInteractionStream())}initPopupCloser(){this.initMousePopupCloser();this.initKeyboardPopupCloser()}initCoverEditModeChanges(){this.shortcutInteractions.getShortcutStream(t.ShortcutAction.STOP_COVEREDITING).onValue(()=>{null!=this.coverController&&
this.coverController.stopCoverEditing("KEYBOARD")});this.editorStore.getCurrentTopicStream().onValue(()=>{null!=this.coverController&&this.coverController.stopCoverEditing("CHANGE_CURRENT_TOPIC")});h.Bacon.combineWith3((a,b,c)=>({currentTopic:a,selection:b,coverEditMode:c}),this.editorStore.getCurrentTopicStream(),this.editorStore.getSelectionStream(),this.editorStore.getCoverEditModeStream()).sampledBy(this.shortcutInteractions.getShortcutStream(t.ShortcutAction.START_COVEREDITING)).onValue((a)=>
{null!=this.coverController&&(null==a.coverEditMode&&0===a.selection.allEntityIds.length&&this.coverController.isObjectInsideTopicEditable(a.currentTopic)&&this.coverController.startCoverEditing(a.currentTopic,"KEYBOARD",[],Q.CoverEditModeKind.insideAdvanced),null==a.coverEditMode&&1===a.selection.allEntityIds.length&&this.coverController.isObjectCoverEditable(a.selection.allEntityIds[0])&&this.coverController.startCoverEditing(a.selection.allEntityIds[0],"KEYBOARD",[],Q.CoverEditModeKind.advanced))});
this.editorStore.getModeStream().onValue((a)=>{a.kind===d.EditorMode.playback&&null!=this.coverController&&this.coverController.stopCoverEditing("PRESENT")})}initMousePopupCloser(){var a=$("body");let b=null,c=null,e=!1;a.mousedown((a)=>{b=this.widgetUtils.isDOMElementInPopup(a.target);e=this.widgetUtils.isDOMElementInPopupButton(a.target);null!==b&&(c=this.widgetUtils.getFirstChildPopup(b))});const d=h.Bacon.newBus();a.mouseup((a)=>{if(this.widgetUtils.isDOMElementInTabMenu(a.target))this.visibleElementsController.closePopups();
else{const d=this.widgetUtils.isDOMElementInPopup(a.target),g=this.widgetUtils.isDOMElementInPopupButton(a.target);var f=aa.PreziUAParser.isMac();f=1===a.which&&!(f&&a.ctrlKey);null==d&&!g&&f&&(null==b&&!e||this.visibleElementsController.isTopmenuOpen())?this.visibleElementsController.closePopups():null!==d&&!g&&f&&(null!==b&&!e||this.visibleElementsController.isTopmenuOpen())&&null!==c&&this.visibleElementsController.togglePopup(c.getAttribute("data-lookup"),[d.getAttribute("data-lookup")])}this.widgetUtils.isDOMElementInTabMenu(a.target)||
d.push(null)});a.bind("wheel",(a)=>{0===$(a.target).parents(".koi-modal").length&&0===$(a.target).parents(".font-selector-menu").length&&0===$(a.target).parents("[data-popup=true]").length&&0===$(".koi-modal.dropdown-widget").length&&this.visibleElementsController.closePopups()});a=this.editorStore.getOpenedDialogPropsStream().filter((a)=>a.kind!==k.DialogKind.None);a=h.Bacon.mergeAll([d,this.editorStore.getModeStream().map(()=>null),a.map(()=>null)]);this.buses.openTabBus.plug(a)}initMouseRightClickLogger(){$(document).on("mousedown",
(a)=>{const b=a.target.className,c=a.target.parentElement;null!=c&&3===a.which&&this.logHelper.mouseRightClick(this.logger,b,c.className)})}initKeyboardPopupCloser(){this.shortcutInteractions.getShortcutStream(t.ShortcutAction.POPUP_CLOSE).onValue(()=>this.visibleElementsController.closePopups())}createElement(){const a={title:this.metaData&&this.metaData.title||"Prezi Title",preziXml:this.editScene?this.editScene.getPreziXml():"",isCoEdit:this.isCoEdit(),isFollower:this.isFollower(),isCollaborator:this.isCollaborator(),
isEditingEnabled:this.playerUI.isEditingEnabled(),isCommentingEnabled:this.playerUI.isCommentingEnabled(),contextMenuSection:this.contextMenuSection,globalNotificationSection:this.globalNotificationSection,ribbonSection:this.ribbonSection,topMenuSection:this.topMenuSection,buses:this.buses,uiStore:this.editorStore,getEditMode:()=>this.getEditmode(),playerUI:this.playerUI,errorStream:this.errorStream,externalPPTFileStream:this.externalPPTFileStream,visibleElementsController:this.visibleElementsController,
commentingSection:this.commentingSection,commentingController:this.commentingController,followerController:this.followerController,presenterController:this.presenterController,externalServiceProvider:this.externalServiceProvider,coeditUISection:this.coeditUISection,onboardingSection:this.onboardingSection,multiProductOnboarding:this.multiProductOnboardingController,editorOnboardingController:this.editorOnboardingController,renderedUIStateChangeListener:this.renderedUIStateChangeListener.bind(this),
mediaUploadProvider:this.externalServiceProvider.mediaUploadProvider,externalServiceType:this.playerUI.getOptions().externalServiceType,propertyBarSection:this.propertyBarSection,spellcheckStatusStream:this.spellcheckStatusStream,stateChangeBusKillMe:this.editorUIComponentStateChangeBusKillMe,spotlightUi:this.spotlight.ui,forceUpdate:this.forceUpdateBus};return f.createElement(ca.EditorUIComponent,a)}uiChanged(){this.forceUpdateBus.push(null)}renderedUIStateChangeListener(){this.renderedUIStateChangeBus.push(null)}isFollower(){return this.playerUI.getOptions().isFollower}isLoggedIn(){return this.playerUI.getOptions().isLoggedIn}isCollaborator(){return y.isActive("js-prezipage-is-collaborator")?
this.getPlayerOptions().isCollaborator:this.getPlayerOptions().userCanEdit}isCoEdit(){return y.isActive("js-coedit-multi")&&this.playerUI.isEditingEnabled()}listenToEditorStateChange(a){a.map((a)=>{const b=a.state;a=a.rogueUIProps_killme;return Object.assign(Object.assign({},{textSelectionState:b.textSelectionState,mode:b.mode,openedPopupId_KILLME:b.openedPopupId_KILLME,openedSidebarId:b.openedSidebarId,isStorylineVisible:b.isStorylineVisible,openedDialogProps:b.openDialogProps,contextMenuState:b.contextMenuState,
saveState:b.saveState,coeditStatus:b.coeditStatus,coeditOfflineOnlineSwitchStatus:b.coeditOfflineOnlineSwitchStatus,networkStatus:b.networkStatus,saveAvailabilityStatus:b.saveAvailabilityStatus,isEditingSessionClosed:b.isEditingSessionClosed,enableUndo:b.isUndoable,enableRedo:b.isRedoable,selectionInfo:b.selectionInfo,currentTopic:b.currentTopic,canvasHoveredEntityIds:b.canvasHoveredEntityIds,uiHoveredEntityIds:b.uiHoveredEntityIds,canvasEditedEntityIds:b.canvasEditedEntityIds,followerState:b.followerState,
presenterState:b.presenterState,userHasEditRights:b.userHasEditRights,userHasCommentRights:b.userHasCommentRights,userHasPresentRights:b.userHasPresentRights,coverEditMode:b.coverEditMode,isFullscreen:b.isFullscreen,isOnboarding:b.isOnboarding,commentingStateVersion:b.commentingStateVersion,shownOnboardingStep:b.shownOnboardingStep,supportWidgetState:b.supportWidgetState,propertyBarProps:b.propertyBarProps,isBgUploadInProgress:b.isBgUploadInProgress,audioState:b.audioState,globalException:b.globalException,
spellcheckStatus:b.spellcheckStatus,templateData:b.templateData,codeSnippetEditorOpen:b.codeSnippetEditorOpen,openTabMenuId:b.openTabMenuId,userLicenseInformation:b.userLicenseInformation,featurePreviewModeWithSaveDisabled:b.featurePreviewModeWithSaveDisabled}),a)}).skipDuplicates(K.EditorUIImpl.stateEquals).onValue((a)=>{this.editorUIComponentStateChangeBusKillMe.push(a)})}static stateEquals(a,b){for(let c in a)if(a.hasOwnProperty(c)&&b.hasOwnProperty(c)){const e=a[c],d=b[c];if(null!=e||null!=d)if(null==
e&&e!==d||void 0===e.equals&&e!==d||void 0!==e.equals&&!1===e.equals(d))return!1}for(let c in b)if(b.hasOwnProperty(c)&&null==a[c])return!1;return!0}reset(a){null!=a&&this.editorStore.syncUpdateWithState((a)=>{a.startRendering=!1});this.getEditorStore().reset();if(null!=a){this.editorStore.syncUpdateWithState((b)=>{b.mode=a;b.startRendering=!0});const b=this.createEditorModeChangeAction(a);this.editorStore.addChangeModeActionStream(h.Bacon.once(b))}null!=this.editMode&&(this.allPluginsLoaded=this.editMode.resetPlugins());
this.getEditorStore().addIsFollowerStream(h.Bacon.once(this.getPlayerOptions().isFollower||!1));this.editorStore.addUserLicenseInformationStream(h.Bacon.fromPromise(this.userLicenseLoader.loadLicense()));return this.allPluginsLoaded}integration_test_wait_plugins(){return this.allPluginsLoaded}setDocument(a,b=!0){this.reset();this.thumbnailService.handleDocumentChange_KILLME();this.editBehavior.reset(b);this.playerUI.isEditingEnabled()||this.playerUI.isCommentingEnabled(),this.editorStore.syncUpdateWithState((b)=>
{b.aspectRatio=a.getAspectRatio()});this.editorStore.addTemplateDataStream(h.Bacon.once({templateId:null!=a.getTemplateInfo()?a.getTemplateInfo().getBaseId():null,themeId:null!=a.getTemplateInfo()?a.getTemplateInfo().getThemeId():null}));this.playerUI.getPlayback().reset(b);this.initialEditorMode.kind===d.EditorMode.edit&&this.playerUI.getPlayback().initPosition(!0)}getEditorStore(){return this.editorStore}integration_test_getPreziTitleEditedBus(){return this.topMenuSection.getPreziTitleEditedBus()}integration_test_drop(a){this.clipboard.integration_test_drop(a)}integration_test_uploadBackground(a){this.integration_test_getZObjectEditor().executeApiCommand({name:"integration_test_uploadBackground",
run:(b)=>{b.background.setLayers([a])}})}addFakeCopyActionStream(a){this.clipboard.addFakeCopyActionStream(a)}addFakePasteActionStream(a){this.clipboard.addFakePasteActionStream(a)}openSidebar(a){if(!this.visibleElementsController.isSidebarOpen(a))return this.visibleElementsController.toggleSidebar(a)}closeSidebar(a){this.visibleElementsController.isSidebarOpen(a)&&this.visibleElementsController.toggleSidebar(a)}static filterOutUserInsertions(a){return!a.dontSelect}static createSelectActionEvent(a){return{selectedGroupIds:[],
selectedEntityIds:a,type:B.SelectActionType.replace}}wireClipboard(){this.clipboard.addComponentFocusStream(this.editorStore.getComponentFocusStream());this.clipboard.addTextStateStream(this.editorStore.getTextSelectionStateStream());this.clipboard.addSelectionStream(this.editorStore.getSelectionStream());this.clipboard.addTextOnlyPasteEventStream(this.textEditorController.getPasteEventAction());let a=this.playerUI.getCet().getMainStage().getCamera();this.clipboard.setCamera(a);this.clipboard.addCameraNavStream(this.playerUI.getCet().getMainStage().getNavigationActions());
this.clipboard.addPanningStream(a.getPanningStream());this.clipboard.addCurrentTopicStream(this.editorStore.getCurrentTopicStream());this.clipboard.addCoverEditModeStream(this.editorStore.getCoverEditModeStream());this.clipboard.addCanvasMouseInteractionStream(this.canvasListener.getMouseInteractionStream());this.clipboard.addIsEditModeSteam(this.editorStore.getBoolModeStream(d.EditorMode.edit));this.editorStore.addComponentFocusStream(this.clipboard.getComponentFocusActionStream());this.errorValueStream.plug(this.clipboard.getErrorStream())}setXmlLoaderCallback(a){this.editorStore.syncUpdateWithState((b)=>
{b.xmlLoaderCallback=a})}registerSetInfoLayerModeCallback(a){this.infoLayerManager.registerSetInfoLayerModeCallback(a)}addExternalPPTFileStream(a){this.externalPPTFileStream.plug(a)}getPlayerOptions(){return this.playerUI.getOptions()}printHierarchy(a,b){w.CetModelEditor.printHierarchy(this.editScene,a,b)}hideRemotePresentationPopup(){this.visibleElementsController.closePopups()}initOnboarding(){var a=[];const b=!!this.getPlayerOptions().showNavigationOnboarding||y.isActive("js-force-onboarding");
b&&a.push(V.OnboardingGroup.NAVIGATION);this.onboardingController=V.OnboardingModule.createOnboardingController(this.baseScene,this.editorStore,this.playerUI.getCamera(),this.playerUI.getCet().getDomLayerManager(),this.userSettingsStore,a,this.externalServiceProvider,this.externalServiceProvider,this.getPlayerOptions().preziId);this.editorStore.addIsOnboardingStream(h.Bacon.once(b));this.editorStore.syncUpdateWithState((a)=>{a.onboardingController=this.onboardingController});this.onboardingController.getForceNavBarVisibleStream().onValue((a)=>
{this.playerUI.setNavbarForcedVisibility(a)});a=document.createElement("div");a.className="onboarding-ui";this.playerUI.getPlayerDiv().parentElement.appendChild(a);new va.OnboardingUIContainer(a,this.editorStore,this.onboardingController)}getExternalCetNetworkEvenStreamForTest(){return this.externalCetNetworkEventBus}getBasicEditController(){return this.basicEditController}getStartEditingController(){return this.startEditingController}getTemplatePreviewCetController(){return this.templatePreviewCetController}getTemplatePreviewController(){return this.templatePreviewController}for_integration_externalServiceProvider(){return this.externalServiceProvider}};
K.EditorUIImpl.SHOW_TEMPLATEMIXER_DELAY=1500;K.EditorUIImpl.COVER_EDIT_RIBBON_HEIGHT=30;var ea={createVisibleElementsController:function(a){return new l.VisibleElementsControllerImpl(a)},createDialogController:function(a,b,c,d){return new ia.DialogControllerImpl(a,b,c,d)},createKeyboardEventMatcher:function(a){return new da.KeyboardEventMatcherImpl(a)}};Object.defineProperty(ea,"__esModule",{value:!0});(function(a){a.createEditorUI=function(a,c,d,f,g,h,k,l,n,p,q,r,t,v,w,x,y,z,A,B,C,E){return new K.EditorUIImpl(a,
c,d,f,g,h,w,k,l,n,p,q,r,t,v,x,y,z,A,B,C,E)};a.createDesktopEditorUIController=function(){return new ja.DesktopEditorUIController}})(ea.EditorUIModule||(ea.EditorUIModule={}));Ga=ea;var Pa=document.createElement("style");Pa.textContent=".overlayAnimation-enter{opacity:.01}.overlayAnimation-enter-active{opacity:1;transition:opacity 100ms linear}.overlayAnimation-exit{opacity:1}.overlayAnimation-exit-active{opacity:.01;transition:opacity 100ms linear}.sidebar{right:0}.sidebar-enter{right:-276px}.sidebar-enter.sidebar-enter-active{right:0;transition:right .3s cubic-bezier(.215, .61, .355, 1)}.sidebar-exit{right:0}.sidebar-exit.sidebar-exit-active{right:-276px;transition:right .3s cubic-bezier(.215, .61, .355, 1)}.storyline-sidebar{left:0}.storyline-sidebar-enter{left:-168px}.storyline-sidebar-exit{left:0}.storyline-sidebar-exit.storyline-sidebar-exit-active{left:-168px;transition:left .3s cubic-bezier(.215, .61, .355, 1)}.storyline-sidebar-enter.storyline-sidebar-enter-active{left:0;transition:left .3s cubic-bezier(.215, .61, .355, 1)}.koi-editor-ui-supportbox{right:90px;transition:right .3s cubic-bezier(.215, .61, .355, 1)}.koi-editor-ui-supportbox.koi-sidebar-visible{right:366px}.koi-editor-ui-propertybar.sidebar-open .template-mixer-container{margin-right:276px}.template-mixer-container{transition:margin-right .3s cubic-bezier(.215, .61, .355, 1)}.koi-editor-ui-xmleditor .sidebar-enter,.koi-editor-ui-styleeditor .sidebar-enter{right:-1104px}.koi-editor-ui-xmleditor .sidebar-exit.sidebar-exit-active,.koi-editor-ui-styleeditor .sidebar-exit.sidebar-exit-active{right:-1104px;transition:right .3s cubic-bezier(.215, .61, .355, 1)}.koi-editor-ui-propertybar{top:48px;transition:top .2s ease-in-out}.koi-editor-ui-propertybar.koi-present-mode{top:-30px}.domLayer .thread_handler_icon{transition:right .3s cubic-bezier(.215, .61, .355, 1)}#error-ui{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;z-index:9999}.error-ui-body{pointer-events:auto;word-wrap:break-word;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.error-ui-body .error-ui-explanation-row{display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.error-ui-body .error-ui-explanation-row .error-ui-icon{color:#f33;font-size:32px;margin-right:24px;-ms-flex:0 0 auto;flex:0 0 auto;-webkit-flex:0 0 auto}.error-ui-body .error-ui-explanation-row .error-ui-explanation{-ms-flex:1 1 auto;flex:1 1 auto;-webkit-flex:1 1 auto}.error-ui-body .error-ui-details{margin-top:12px}.error-ui-body .error-ui-details .error-ui-detail-handle a{text-decoration:none;color:#3181ff}.error-ui-body .error-ui-details .error-ui-detail-text{margin-top:12px}html,body{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}input[type=text]::-ms-clear{display:none}.editor-layout-left{float:left}#koi-editor-ui-container,#copy-paste-info-dialog-ui{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none}#koi-editor-ui-container{z-index:200;overflow:hidden;line-height:normal}#copy-paste-info-dialog-ui{z-index:1000}.koi-button{font-size:11px}.koi-editor-ui{position:absolute;width:100%;height:100%;pointer-events:none;overflow:hidden;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.koi-editor-ui>*{pointer-events:auto}.koi-editor-ui-topmenu{position:absolute;top:0;width:100%;z-index:150}.propertybar-filler{-ms-flex:1 0;flex:1 0;text-align:left}.koi-editor-ui-propertybar{position:absolute;top:48px;width:100%;background-color:rgba(21,34,53,0.8);display:-ms-flexbox;display:flex;display:-webkit-flex;box-sizing:border-box}.koi-editor-ui-propertybar .template-mixer-container{margin-right:6}.koi-editor-ui-propertybar .chapter-controls-container{position:absolute;margin-left:0;display:-ms-flexbox;display:flex;display:-webkit-flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.koi-editor-ui-propertybar .chapter-controls-container .koi-menubutton>.koi-button,.koi-editor-ui-propertybar .chapter-controls-container>.koi-button{background:none;padding:0 9px;height:24px;margin-top:3px;margin-right:3px;color:#fff;font-size:11px;margin-left:6px;font-family:'RalewaySemiBold';border:1px solid rgba(255,255,255,0)}.koi-editor-ui-propertybar .chapter-controls-container .koi-menubutton>.koi-button:hover,.koi-editor-ui-propertybar .chapter-controls-container>.koi-button:hover{border:1px solid rgba(255,255,255,0.5)}.koi-editor-ui-propertybar .chapter-controls-container .koi-menubutton>.koi-button>i,.koi-editor-ui-propertybar .chapter-controls-container>.koi-button>i{font-size:20px;line-height:12px;margin-right:3px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-menu{margin-left:6px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-popup{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;font-family:'RalewayMedium';font-size:13px;-ms-flex-align:center;align-items:center;padding:12px;padding-top:6px;padding-bottom:6px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-popup .chapter-thumbnail-title{text-align:center;padding-top:6px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-popup .chapter-thumbnail{padding-right:12px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-popup .chapter-thumbnail.last{padding-right:0}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-list{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;padding-top:12px}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-list .koi-button{border-radius:0}.koi-editor-ui-propertybar .chapter-controls-container .chapter-chooser-list .koi-button:hover{background-color:#c2c7cd}.koi-editor-ui-propertybar .chapter-controls-container .chapter{width:123px;height:68px}.koi-editor-ui-propertybar .chapter-controls-container .chapter.planet{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAACICAMAAADj5OZLAAAAxlBMVEWOk5yPlJ2RlZ6Rlp6Rlp+Sl5+TmKCTmKGUmaGVmqKXm6SXnKSZnqacoKidoameoqqfpKugpKyhpayip66jp6+kqK+mqrGsr7axtLqxtLuztry0uL62ur+5vMK9wMW+wca/wsfAw8jBxMnCxcrEx8vFyMzKzdHLzdHO0NTU1dnX2NzY2d3Y2t3a297b3+Xc3eDc3uHe3+Lf4OPg4eTg4uTh4+Xj5Obl5ujw8fLx8vP09PX09fb39/j4+Pn8/Pz9/f39/f7///8EQoaiAAADT0lEQVR4Ae2ca3fSShSGN4eUy8k5XMopOSJGSoUGMRZNxZaLZP7/n9JawbEJ2sDLWnlhP19Y5Nuz1qyZfZk98v4kOV1tc3KoNhuqrdqqrdqqrdo8qLZqq7Zqq7Zqq7Zqq7Zqq7Zqq7Zqq7Zqz6LA91o113HcWsvzg2h29NrL0G9IgoYfLo9XO550HNmC05nER6m9GLjyW9zB4ui05/2y/JFyf35U2vGwJM+iNIyPR3t6Ls/mfGq2EYfdRqXS6IYxg/bqUjJxuTKp3NTlB/Wb/GvftyUj7XuTwpVYXOVdO6pKZqq36da2d761x0XZgeI4scLlCTd51g4KshOF4MluVpcn1OP8ageyM796h5IgzK32uCA7Uxgbi64k6OZV+7Yoe1C097W0/CWn2vdV2YuqdY5VJEEln9qrtuxJe0Wo3ZO96fEt8qkAmLJtaXFTAJzHZAfYUCAMucKVeUkglOZUwWlfQPSZUpFFWUCUF0SJ50BgDHjKDLErMNyYpqg0ESATmhJiR4B0WLSXjgBxliTaoUAJSbR9geKTaDcESoNDeyZgZofsjMC0IwET4TsjSW1oufT1yOI/uR6N/kn9tuZ6tOaNXUTFB6h4bX9bnvS/3BnTTP225s6s+Wzvafh0BK/tobW9QyafMO2W/OSvs298MOblw2/hUTHlm619cfYdRza0DllqgGnXUqLqFxur5vZv9h+b2iELSzBtF63tHrKMCNN29tPuXDxgL2gnQ9GYVvuRT0ltfIsAqu2itd0M2rRb2ivvgQt7S6NY5C30ltai2NI8tLZHcYD5aG2fIlwJMmt/fPfI39aft7IhoAhOo8zaa/61/nyRDRFFKjJDa8/wiSdZUQlfZuAoIdpFJS0Ya3tAm0Ha+mNs9OIhaOsDILzEATi8CK/sAEIVxgtagMCU8ToeIA1hvHwJSDp5r9ryzIr0ZG8uAbMi1Nfo8eVDiqEJolkREyFGZPCtAYKBKLw2wfgbyyLHDzvitzSC0VaOAww/yMwRruDH1smCU4tVTzLRWxnDO7ZuMc2QlzSnJgk+8eR5gARfZuB4bgZbVNLHhfQpKX04TJ+J40e1VZsd1VZt1VZt1aZEtVVbtVVbtVWbBdVWbdVWbdVWbdU+QU5W+yvps/4/Il+XJQAAAABJRU5ErkJggg==) no-repeat center center;background-size:100% 100%}.koi-editor-ui-propertybar .chapter-controls-container .chapter.stack{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAACICAMAAADj5OZLAAAAZlBMVEWOk5yPlJ2RlZ6Rlp+Sl5+Xm6SZnqacoKieoqqgpKyjp6+kqK+sr7axtLqxtLuztry0uL65vMK+wcbEx8vLzdHU1dnX2NzY2t3b3+Xc3eDc3uHe3+Lf4OPh4+Xl5ujw8fL8/Pz////5ZjizAAABHElEQVR4Ae3byUrEQBCA4ajjMsbdibvGev+X1BhaWogIgkJPff8lqbp9lz40dHeXsrzsSBc2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY29k91/xA2NjY2NjZ2W+z5LwMbGxsbGxsbGxsbGxsbGxsb+2qoOu42w3CwuCtthtJ1y+z7qDrtxoj14q40RumlOTb27uq9x4iL6bszE5d2FbtffbTXLLv0EHH2qVp/v/s6ZGBjn/dTR9nYc8/YKdiXJ1N9+2xHGjb20+3cfjXcbD+7dFgNr9iuGbCxsbGxsbGxsbGxsbGx/yZsbGxsbGxs7GbC/l3Y2AmeNGNjY2NjNxA2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2dsaSst8Anf8GH2HTtk0AAAAASUVORK5CYII=) no-repeat center center;background-size:100% 100%}.koi-editor-ui-propertybar.template-chooser-propertybar{z-index:109;padding-left:318px}.koi-editor-ui-propertybar.template-chooser-propertybar .template-mixer-container{margin-right:0;-ms-flex:1 0;flex:1 0;text-align:right}.sidebar{position:absolute;top:48px;bottom:0;width:276px}.koi-editor-ui-supportbox{position:absolute;height:380px;bottom:0;width:320px;right:90px}.koi-editor-ui-supportbox .koi-floating-popup-content{height:380px;width:320px;padding:0}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header{position:absolute;width:100%}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header .sidebar-header-title{box-sizing:border-box;color:#152235;font-size:13px;font-family:\"RalewayBold\";pointer-events:none;position:absolute;height:30px;line-height:18px;width:100%;margin:0;padding:10px 0 8px 0;text-transform:uppercase;text-align:center;letter-spacing:.5px;z-index:1000}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header .sidebar-close-button{background-color:#fff;color:#152235;cursor:pointer;font-size:18px;font-weight:900;border:none;float:right;height:30px;padding:0 9px}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header .support-back-button{background-color:#fff;color:#3181ff;cursor:pointer;font-size:18px;border:none;height:30px;float:left;padding:10px 9px 8px 4px}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header .support-back-button i{line-height:18px;vertical-align:top}.koi-editor-ui-supportbox .koi-floating-popup-content .sidebar-header .support-back-button span{font-size:13px;font-family:\"RalewayBold\";letter-spacing:.5px;line-height:18px;vertical-align:top}.koi-editor-ui-supportbox .koi-floating-popup-content .support-iframe-block{position:absolute;top:36px;width:320px;height:344px}.koi-editor-ui-supportbox .koi-floating-popup-content .support-iframe-block iframe{width:100%;height:100%;border:0}.koi-editor-ui-supportbox .koi-floating-popup-content .koi-button{background:#dbdfe5;border:1px solid #8e939c;font-size:22px}.koi-editor-ui-supportbox .koi-floating-popup-content .koi-button:hover{background:#dbdfe5}.koi-editor-ui-supportbox.koi-present-mode{right:-320px}.koi-editor-ui-supportbox.hidden{right:-320px}.koi-editor-ui-supportbox.visible{right:90px}.koi-editor-ui-xmleditor{width:1104px}.koi-editor-ui-styleeditor{width:1104px}.koi-editor-ui-code-snippet-editor{width:1104px}.koi-editor-ui-storyline{width:168px;position:absolute;top:48px;bottom:0;z-index:100;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;-o-user-select:none;-ms-user-select:none;user-select:none}.koi-editor-ui-storyline .koi-dropdown li{padding:5px}.koi-editor-ui-storyline .koi-dropdown li a{padding:0}.koi-editor-ui-storyline .koi-floating-popup-content{padding:5px;font-family:'NotoSansRegular',sans-serif;font-size:12px}.koi-editor-ui-storyline .koi-dialog .koi-floating-popup-container{width:360px}.koi-editor-ui-storyline .koi-dialog footer{width:100%}.koi-editor-ui-storyline .koi-dialog .important{background-color:#f33}.koi-editor-ui-storyline-scrolling-off .koi-infinite-scroll-mid{overflow-y:hidden}.sidebar{z-index:101}.koi-editor-ui-imagesidebar .loader{position:absolute;top:0;left:0;height:100%;width:100%;text-align:center}.koi-editor-ui-imagesidebar .loader div{position:absolute;top:0;left:0;height:100%;width:100%}.koi-editor-ui-imagesidebar .loader .background{background:#fff;opacity:.75}.koi-editor-ui-imagesidebar .loader .inner{text-align:center;margin-top:150px}.koi-editor-ui-imagesidebar .loader .inner .spinner{margin-right:0}.koi-sidebar-line-arrow .sidebar-information-block .koi-button{margin:6px 0}.animation-interrupt-overlay{pointer-events:auto;position:absolute;top:0;bottom:0;left:0;right:0;opacity:0;z-index:300}.ace_search_field{color:#000}.chart-editor.koi-modal{display:-ms-flexbox;display:flex;position:absolute;left:0;right:0;top:0;bottom:0}.chart-editor.koi-modal .koi-iframe-scroll-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;left:0;top:0}.chart-editor.koi-modal .koi-iframe-container{width:90%;height:90%;margin:auto;position:relative;-webkit-transform:none;transform:none;left:0;top:0}.chart-editor.koi-modal .koi-iframe-container .koi-iframe-content{position:relative;width:100%;height:100%}.chart-editor.koi-modal .koi-iframe-container .koi-iframe-content iframe{width:100%;height:calc(100% - 33px)}.onboarding-ui{top:0;left:0;position:absolute;z-index:200}.chart-iframe-close-button{border:none;color:#8e939c;cursor:pointer;float:right;font-size:20px;font-weight:900;height:33px;padding-right:12px}#body-content{padding-bottom:0 !important}.help-menu-version-item{cursor:default !important}.help-menu-version-item:hover{background:#fff !important;color:#152235 !important}.koi-editor-ui-brandingsidebar{top:0 !important}\n";
document.body.appendChild(Pa);return Ga});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_editor_ui",["require","react","react-dom","react-transition-group","styled-components","prezi.engine.dom","prezi.engine.dom.converter.xpdom2","prezi.geometry","prezi.text.model","prezi_app_utils","prezi_bacon","prezi_canvas_listener","prezi_cet","prezi_cet_model","prezi_cet_model_editor","prezi_cet_renderer","prezi_client_player","prezi_code_snippet_editor_widget","prezi_coeditui","prezi_commenting","prezi_contextmenu","prezi_editor_commander","prezi_editor_controller","prezi_editor_error","prezi_editor_store_common","prezi_editor_store_focus","prezi_editor_store_meeting","prezi_editor_store_mode","prezi_editor_store_object","prezi_editor_store_ui","prezi_externalserviceprovider","prezi_featureswitcher","prezi_i18n","prezi_koi_sidebar","prezi_koi_topmenu","prezi_koi_widgets","prezi_logger","prezi_meeting","prezi_nativeapitypes","prezi_onboarding","prezi_playback","prezi_plugin_api","prezi_plugin_meta","prezi_presenterview","prezi_privacypaywall","prezi_select","prezi_service_data","prezi_service_media","prezi_spellcheck","prezi_spotlight","prezi_support","prezi_templatechooser","prezi_templatepreview","prezi_templatepreviewcet","prezi_templateservice","prezi_thumbnail_render","prezi_uaparser","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_editor_ui.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("react"),require("react-dom"),require("react-transition-group"),require("styled-components"),require("prezi.engine.dom"),require("prezi.engine.dom.converter.xpdom2"),require("prezi.geometry"),require("prezi.text.model"),require("prezi_app_utils"),require("prezi_bacon"),require("prezi_canvas_listener"),require("prezi_cet"),require("prezi_cet_model"),require("prezi_cet_model_editor"),require("prezi_cet_renderer"),require("prezi_client_player"),require("prezi_code_snippet_editor_widget"),require("prezi_coeditui"),require("prezi_commenting"),require("prezi_contextmenu"),require("prezi_editor_commander"),require("prezi_editor_controller"),require("prezi_editor_error"),require("prezi_editor_store_common"),require("prezi_editor_store_focus"),require("prezi_editor_store_meeting"),require("prezi_editor_store_mode"),require("prezi_editor_store_object"),require("prezi_editor_store_ui"),require("prezi_externalserviceprovider"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_koi_sidebar"),require("prezi_koi_topmenu"),require("prezi_koi_widgets"),require("prezi_logger"),require("prezi_meeting"),require("prezi_nativeapitypes"),require("prezi_onboarding"),require("prezi_playback"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_presenterview"),require("prezi_privacypaywall"),require("prezi_select"),require("prezi_service_data"),require("prezi_service_media"),require("prezi_spellcheck"),require("prezi_spotlight"),require("prezi_support"),require("prezi_templatechooser"),require("prezi_templatepreview"),require("prezi_templatepreviewcet"),require("prezi_templateservice"),require("prezi_thumbnail_render"),require("prezi_uaparser"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_editor_ui"]=__factory(React,ReactDOM,ReactTransitionGroup,StyledComponents,this["prezi.engine.dom"],this["prezi.engine.dom.converter.xpdom2"],this["prezi.geometry"],this["prezi.text.model"],this["prezi_app_utils"],this["prezi_bacon"],this["prezi_canvas_listener"],this["prezi_cet"],this["prezi_cet_model"],this["prezi_cet_model_editor"],this["prezi_cet_renderer"],this["prezi_client_player"],this["prezi_code_snippet_editor_widget"],this["prezi_coeditui"],this["prezi_commenting"],this["prezi_contextmenu"],this["prezi_editor_commander"],this["prezi_editor_controller"],this["prezi_editor_error"],this["prezi_editor_store_common"],this["prezi_editor_store_focus"],this["prezi_editor_store_meeting"],this["prezi_editor_store_mode"],this["prezi_editor_store_object"],this["prezi_editor_store_ui"],this["prezi_externalserviceprovider"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_koi_sidebar"],this["prezi_koi_topmenu"],this["prezi_koi_widgets"],this["prezi_logger"],this["prezi_meeting"],this["prezi_nativeapitypes"],this["prezi_onboarding"],this["prezi_playback"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_presenterview"],this["prezi_privacypaywall"],this["prezi_select"],this["prezi_service_data"],this["prezi_service_media"],this["prezi_spellcheck"],this["prezi_spotlight"],this["prezi_support"],this["prezi_templatechooser"],this["prezi_templatepreview"],this["prezi_templatepreviewcet"],this["prezi_templateservice"],this["prezi_thumbnail_render"],this["prezi_uaparser"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);
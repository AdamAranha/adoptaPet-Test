;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "13.0-25-g6015dbc";},getModuleName:function(){return "prezi_bracket_frame";},getModuleVersion:function(){return "release-2021w06-base-26-gaeb382e";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_cet_model_editor":dependencies[0],"prezi_i18n":dependencies[1],"prezi_logger":dependencies[2],"prezi_plugin_api":dependencies[3],"prezi_widgets":dependencies[4]}};})());};})(arguments);var moduleImpl=(function(){return module(function(b){var c=b.dependencies.prezi_plugin_api,d=b.dependencies.prezi_i18n,k=b.dependencies.prezi_cet_model_editor,l=b.dependencies.prezi_logger,e={};Object.defineProperty(e,"__esModule",{value:!0});e.j=class{update(a){this.session.document.read((g)=>{const f=0<a.length&&a.every((a)=>g.lookup.base(a).is(k.base.ObjectKind.bracketFrame));if(f){const b=g.lookup.bracketFrame(a[0]);this.i.setState({f,selected:a,fills:b.fills})}else this.i.setState({f,selected:null,fills:null})})}log(a){l.avro.Avro.createDefaultLogger().logModifiedObject({object_type:a,
modify_action:"STYLE_CHANGE",topic_relationship:a,object_id:a.id})}init(a){a.onDocumentChange(()=>{const {selected:a}=this.i.getState();null!=a&&this.update(a)});a.onSelectionChange((a)=>{this.update(a.allObjects.map((a)=>a.id))});this.i=a.declareUI({f:!1,selected:null,fills:null},({f:a,selected:b,fills:e},h)=>{a&&(h.createPropertyBarItem((a)=>a.submenu({id:"bracket-frame-thickness",title:d.I18n.ts("Bracket frame thickness"),tooltip:d.I18n.ts("Bracket frame thickness"),parent:c.PropertyBarId.Left,
weight:3,icon:c.IconSmallId.BorderWeight,items:[{id:"bracket-frame-decrease-thickness",icon:c.IconSmallId.Minus,tooltip:d.I18n.ts("Decrease thickness"),onClick:(a)=>{this.session.document.executeApiCommand(a,{name:"bracket-frame-decrease-thickness",run:(a)=>{b.forEach((b)=>{b=a.lookup.bracketFrame(b);b.thickness=Math.max(1,b.thickness-5);this.log(b)})}})}},{id:"bracket-frame-increase-thickness",icon:c.IconSmallId.Plus,tooltip:d.I18n.ts("Increase thickness"),onClick:(a)=>{this.session.document.executeApiCommand(a,
{name:"bracket-frame-increase-thickness",run:(a)=>{b.forEach((b)=>{b=a.lookup.bracketFrame(b);b.thickness+=5;this.log(b)})}})}}]})),h.createPropertyBarItem((a)=>a.colorPicker({id:"bracket-frame-color",weight:1,parent:c.PropertyBarId.Left,tooltip:d.I18n.ts("Bracket frame color"),title:d.I18n.ts("Bracket frame color"),showThemeColors:!0,icon:c.IconSmallId.FillColor,fills:e,onChange:(a,c)=>{c.isFinal&&this.session.document.executeApiCommand(a,{name:"set bracket frame color",run:(a)=>{b.forEach((b)=>
{b=a.lookup.bracketFrame(b);b.fill=c.newFill;this.log(b)})}})}})))})}};b={};Object.defineProperty(b,"__esModule",{value:!0});b.lazyModule={createPlugin(){return new e.j}};return b});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_bracket_frame",["require","prezi_cet_model_editor","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_bracket_frame.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_cet_model_editor"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_widgets"));}else{this["prezi_bracket_frame"]=__factory(this["prezi_cet_model_editor"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_widgets"]);}}).call(this);